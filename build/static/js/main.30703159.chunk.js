(this["webpackJsonpchat-app-client"]=this["webpackJsonpchat-app-client"]||[]).push([[0],{109:function(e,t,a){e.exports=a(189)},114:function(e,t,a){},141:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=141},186:function(e,t){},189:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(12),r=a.n(o),i=(a(114),a(115),a(7)),s=a(15),c=a(13),m=a(5);function d(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"posts";e.preventDefault();var n=e.target,l=new Headers;l.append("Authorization","Bearer "+localStorage.getItem("token")),l.append("content-type","application/json");var o="/users/posts/"+t;fetch(o,{method:"post",body:JSON.stringify({postId:e.target.id}),headers:l}).then((function(e){return e.json()})).then((function(e){if("success"===e.saved){if("posts"===a){var t=Number(n.nextSibling.nextSibling.textContent);n.nextSibling.nextSibling.textContent="blue"===n.style.color?t-1:t+1}n.style.color="blue"===n.style.color?"gray":"blue"}}))}function u(e,t){var a=document.getElementById(t);if(a.style.display="block",e.error&&(a.innerHTML+=e.error.msg),e.errors){var n=1;e.errors.map((function(e){a.innerHTML+="<p>"+n+". "+e.msg+"<br/></p>",n++}))}setTimeout((function(){a.style.display="none"}),1e4)}function p(e,t){var a=new Headers;a.append("Authorization","Bearer "+localStorage.getItem("token")),fetch("/users/notifications/"+e,{method:"GET",headers:a}).then((function(e){return e.json()})).then((function(e){"success"===e.saved&&(e.notifics.sort((function(e,t){return new Date(t.datetime)-new Date(e.datetime)})),t(e.notifics))}))}var g=a(195),f=a(201),E=a(196),y=a(202),h=a(102),v=a(197),b=a(103),w=a(204),C=a(198),I=a(199);var j=function(e){var t=function(e){for(var t in e)if(null!==e[t]&&""!==e[t]&&0!==e[t].length){var a=1;break}return 1!==a};return l.a.createElement("div",null,l.a.createElement(f.a,Object.assign({show:e.ShowCreatePost,onHide:e.handleCloseCreatePost},e,{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(f.a.Header,{closeButton:!0},l.a.createElement(f.a.Title,null,"Create Post")),l.a.createElement(f.a.Body,null,l.a.createElement(E.a,{variant:"danger",style:{display:"none"},id:"post-alert"}),l.a.createElement("div",{id:"post-profile-div"},l.a.createElement("img",{src:localStorage.getItem("imageUri"),alt:"profile"}),"\u2003",l.a.createElement("span",null,l.a.createElement("strong",null,localStorage.getItem("f_name")+" "+localStorage.getItem("l_name")))),l.a.createElement(y.a,{onChange:function(a){var n=a.target.name,l=a.target.value,o={};"img"===a.target.name?(o=Object(m.a)({},e.formData,{img:[]}),Object(c.a)(a.target.files).map((function(e){return o.img.push(e)})),e.setFormData(o)):"video"===a.target.name?((o=e.formData).video=void 0===a.target.files[0]?null:a.target.files[0],e.setFormData(o)):(o=Object(m.a)({},e.formData,Object(s.a)({},n,l)),e.setFormData(o)),console.log(o),document.getElementById("post-button").disabled=t(o)},onSubmit:function(t){if(t.preventDefault(),null===e.formData.embedLink||/[-]?[A-Za-z0-9]*[_]?[A-Za-z0-9]*/.test(e.formData.embedLink)&&11===e.formData.embedLink.length){document.getElementById("post-spinner").style.display="inline-block";var a=new FormData;a.append("text",e.formData.text),a.append("embedLink",e.formData.embedLink),a.append("video",e.formData.video),e.formData.img.length>0?e.formData.img.map((function(e){return a.append("image",e)})):a.append("image",null);var n=null===e.formData.video?"/users/profile/postWithImage/":"/users/profile/postWithVideo/",l=new Headers;l.append("Authorization","Bearer "+localStorage.getItem("token")),fetch(n,{method:"Post",body:a,headers:l}).then((function(e){return e.json()})).then((function(t){if("success"===t.saved){var a=document.getElementById("post-alert");a.className="fade alert alert-success show",a.style.display="block",a.innerHTML="Your details had been saved...",setTimeout((function(){e.handleCloseCreatePost()}),2e3)}else document.getElementById("post-spinner").style.display="none",u(t,"post-alert")}))}else alert("Not a valid Youtube Video ID...")}},l.a.createElement(h.a,{style:{margin:"0"}},l.a.createElement(y.a.Control,{plaintext:!0,as:"textarea",rows:"3",placeholder:"What's on your mind "+localStorage.getItem("f_name"),name:"text",id:"text",style:{resize:"none"}})),l.a.createElement(h.a,{style:{margin:"0"}},l.a.createElement(y.a.File,{id:"post-pic-upload",custom:!0,style:{display:"none"}},l.a.createElement(y.a.File.Input,{name:"img",multiple:!0,onChange:function(e){var t=Object(c.a)(e.target.files),a=document.getElementById("post-alert");t.length>4?(a.style.display="block",a.innerHTML="Max 4 images allowed...",e.target.value=""):(document.getElementById("post-img-div").childNodes[1].innerHTML="",t.map((function(t){if("image/jpeg"!==t.type&&"image/png"!==t.type)a.style.display="block",a.innerHTML="Only .jpeg or .png files allowed...",e.target.value="";else{var n=new FileReader;n.onload=function(e){var t=document.createElement("img");t.src=e.target.result,t.id="post-img-show",document.getElementById("post-img-div").childNodes[1].appendChild(t)},n.readAsDataURL(t),document.getElementById("post-video-div").style.display="none",document.getElementById("post-img-div").style.display="block",document.getElementById("embedLink").style.display="none"}})))}}))),l.a.createElement(h.a,{style:{margin:"0"}},l.a.createElement(y.a.File,{id:"post-video-upload",custom:!0,style:{display:"none"}},l.a.createElement(y.a.File.Input,{name:"video",onChange:function(e){var t=e.target.files[0],a=document.getElementById("post-alert");if("video/mp4"!==t.type)a.style.display="block",a.innerHTML="Only .mp4 files allowed...",e.target.value="";else{var n=new FileReader;n.onload=function(e){document.getElementById("post-video-div").childNodes[1].src=e.target.result},n.readAsDataURL(t),document.getElementById("post-video-div").style.display="block",document.getElementById("post-img-div").style.display="none",document.getElementById("embedLink").style.display="none"}}}))),l.a.createElement(v.a,{className:"mb-3",id:"embedLink",style:{display:"none"}},l.a.createElement(b.a,{placeholder:"Put youtube video link here...","aria-describedby":"basic-addon2",name:"embedLink"}),l.a.createElement(w.a,{placement:"top",overlay:function(e){return l.a.createElement(g.a,Object.assign({id:"button-tooltip"},e),"Step 1. Search a video on youtube.",l.a.createElement("br",null),"Step 2. Find video link in the browser url bar.",l.a.createElement("br",null),"Example : https://www.youtube.com/watch?v=xQnIN9bW0og",l.a.createElement("br",null),"Step 3. Copy the video id of length 11 ie. xQnIN9bW0og.",l.a.createElement("br",null),"Step 4. Paste it here.")}},l.a.createElement(v.a.Append,null,l.a.createElement(v.a.Text,{id:"basic-addon2"},"?")))),l.a.createElement("div",{id:"post-img-div"},l.a.createElement("i",{className:"material-icons",onClick:function(){document.getElementById("post-pic-upload").value="",document.getElementById("post-img-div").style.display="none";var a=Object(m.a)({},e.formData,{img:[]});e.setFormData(a),document.getElementById("post-button").disabled=t(a),document.getElementById("post-img-div").childNodes[1].innerHTML=""}}," ","remove_circle"),l.a.createElement("div",null)),l.a.createElement("div",{id:"post-video-div"},l.a.createElement("i",{className:"material-icons",onClick:function(){var a=Object(m.a)({},e.formData,{video:[]});e.setFormData(a),document.getElementById("post-button").disabled=t(a),document.getElementById("post-video-div").style.display="none"}}," ","remove_circle"),l.a.createElement("video",{width:"400",height:"240",controls:!0,name:"video"})),l.a.createElement(C.a,{variant:"primary",type:"submit",id:"post-button",style:{width:"100%"},disabled:!0},l.a.createElement("strong",null,"Post"),"\u2003",l.a.createElement(I.a,{animation:"border",variant:"dark",size:"sm",id:"post-spinner",style:{display:"none"}})))),l.a.createElement(f.a.Footer,{id:"post-footer"},l.a.createElement("strong",{style:{justifySelf:"left"}},"Add to your ","Post"),l.a.createElement(C.a,{variant:"light",title:"Upload image"},l.a.createElement("i",{className:"material-icons",onClick:function(){e.setFormData(Object(m.a)({},e.formData,{embedLink:null,video:null})),document.getElementById("post-pic-upload").click()}},"image")),l.a.createElement(C.a,{variant:"light",title:"Upload videos"}," ",l.a.createElement("i",{className:"material-icons",onClick:function(){e.setFormData(Object(m.a)({},e.formData,{embedLink:null,img:[]})),document.getElementById("post-video-upload").click()}},"videocam")),l.a.createElement(C.a,{variant:"light",title:"Embed youtube videos"}," ",l.a.createElement("i",{className:"material-icons",onClick:function(){e.setFormData(Object(m.a)({},e.formData,{video:null,img:[]})),document.getElementById("post-img-div").style.display="none",document.getElementById("post-video-div").style.display="none",document.getElementById("embedLink").style.display="flex"}},"insert_link")))))},O=a(31),k=l.a.createContext();function S(e,t){switch(t.type){case"setHomePosts":return Object(m.a)({},e,{homePosts:t.payload});case"setShowCreateComment":return Object(m.a)({},e,{ShowCreateComment:t.payload});case"setFormDataForComments":return Object(m.a)({},e,{formDataForComments:t.payload});case"changeUserInfoForMsg":return Object(m.a)({},e,{userInfoForMsg:t.payload});case"setMessages":return Object(m.a)({},e,{messages:Object(c.a)(t.payload)});case"appendMessages":return Object(m.a)({},e,{messages:[].concat(Object(c.a)(e.messages),Object(c.a)(t.payload))});case"setShowGifsForMsg":return Object(m.a)({},e,{showGifsForMsg:t.payload});case"setFriendList":return Object(m.a)({},e,{friendList:t.payload});case"filterFriendList":return Object(m.a)({},e,{filterFriendList:t.payload});case"setPostDetails":return Object(m.a)({},e,{postDetails:t.payload});case"setShowEditProfile":return Object(m.a)({},e,{showEditProfile:t.payload});case"setShowEditProfilePic":return Object(m.a)({},e,{showEditProfilePic:t.payload});case"setShowEditProfileCoverPic":return Object(m.a)({},e,{showEditProfileCoverPic:t.payload});case"setProfile":return Object(m.a)({},e,{profile:t.payload});case"setEditProfile":return Object(m.a)({},e,{editProfile:t.payload});case"setSearchResults":return Object(m.a)({},e,{searchResults:t.payload});case"setShowCreatePost":return Object(m.a)({},e,{showCreatePost:t.payload});case"setFormDataForPost":return Object(m.a)({},e,{formDataForPost:t.payload});case"setPostsObject":return Object(m.a)({},e,{postsObject:t.payload});case"setShowLogin":return Object(m.a)({},e,{showLogin:t.payload});case"setShowRegister":return Object(m.a)({},e,{showRegister:t.payload});case"setLogin":return Object(m.a)({},e,{Login:t.payload});case"setRegister":return Object(m.a)({},e,{Register:t.payload});case"setNotifics":return Object(m.a)({},e,{notifics:[].concat(Object(c.a)(t.payload),Object(c.a)(e.notifics))});case"setOverlayPicSrc":return Object(m.a)({},e,{overlayPicSrc:t.payload});case"setFriendSuggesstions":return Object(m.a)({},e,{friendSuggesstions:t.payload});case"setTrendingPosts":return Object(m.a)({},e,{trendingPosts:[].concat(Object(c.a)(e.trendingPosts),Object(c.a)(t.payload))});case"setTrendingVideos":return Object(m.a)({},e,{trendingVideos:[].concat(Object(c.a)(e.trendingVideos),Object(c.a)(t.payload))});case"setTab":return Object(m.a)({},e,{tab:t.payload});case"setIsFetching":return Object(m.a)({},e,{isFetching:t.payload});case"setFormDataForCmtOnCmt":return Object(m.a)({},e,{formDataForCmtOnCmt:t.payload});case"setShowCreateCommentForCmt":return Object(m.a)({},e,{ShowCreateCommentForCmt:t.payload});default:return e}}var x={showLogin:!1,showRegister:!1,Login:{email:"",password:"",method:"native"},Register:{f_name:"",l_name:"",email:"",password:"",method:"native",imageUri:""},homePosts:[],ShowCreateComment:!1,formDataForComments:{text:null,gif:null,img:[],postId:null},userInfoForMsg:{},messages:[],showGifsForMsg:!1,friendList:[],filterFriendList:[],ShowCreateCommentForCmt:!1,postDetails:{},showEditProfile:!1,showEditProfilePic:!1,showEditProfileCoverPic:!1,profile:{},editProfile:{f_name:"",l_name:"",bio:"",location:"",username:""},searchResults:[],showCreatePost:!1,formDataForPost:{text:null,embedLink:null,img:[],video:null},postsObject:{},notifics:[],overlayPicSrc:"",friendSuggesstions:[],trendingPosts:[],trendingVideos:[],tab:"posts",isFetching:!1,formDataForCmtOnCmt:{text:null,gif:null,img:[],commentId:null}};function D(e){var t=e.children,a=Object(n.useReducer)(S,x),o=Object(O.a)(a,2),r=o[0],i=o[1];return l.a.createElement(k.Provider,{value:Object(m.a)({},r,{dispatch:i})},t)}k.Consumer;var F=k;var B=function(e){var t=Object(n.useContext)(F),a=function(e){return t.dispatch({type:"setShowCreatePost",payload:e})},o=function(){return a(!0)},r=function(e){return t.dispatch({type:"setFormDataForPost",payload:e})},s=function(e){return t.dispatch({type:"setNotifics",payload:e})};return Object(n.useEffect)((function(){var e=setInterval((function(){p(t.notifics.length,s)}),2e4);return function(){clearInterval(e)}}),[t.notifics]),l.a.createElement("div",null,l.a.createElement("ul",{id:"side-nav-phone"},l.a.createElement(i.b,{to:"/user/"},l.a.createElement("li",null,l.a.createElement("i",{className:"material-icons"},"store"))),l.a.createElement(i.b,{to:"/user/explore"},l.a.createElement("li",null,l.a.createElement("i",{className:"material-icons"},"explore"))),l.a.createElement(i.b,{to:"/user/notifications"},l.a.createElement("li",null,l.a.createElement("i",{className:"material-icons"},"notifications"))),l.a.createElement(i.b,{to:"/user/messages"},l.a.createElement("li",null,l.a.createElement("i",{className:"material-icons"},"message")))),l.a.createElement("button",{id:"tweet-button-phone",onClick:o},l.a.createElement("i",{className:"material-icons"}," edit")),l.a.createElement("ul",{id:"side-nav"},l.a.createElement(i.b,{to:"/user/"},l.a.createElement("li",null,l.a.createElement("h2",null,"InstaChat"))),l.a.createElement(i.b,{to:"/user/"},l.a.createElement("li",null,l.a.createElement("i",{className:"material-icons"},"store"),"\u2003Home")),l.a.createElement(i.b,{to:"/user/explore"},l.a.createElement("li",null,l.a.createElement("i",{className:"material-icons"},"explore"),"\u2003Explore")),l.a.createElement(i.b,{to:"/user/notifications"},l.a.createElement("li",null,l.a.createElement("i",{className:"material-icons"},"notifications"),"\u2003Notifications")),l.a.createElement(i.b,{to:"/user/messages"},l.a.createElement("li",null,l.a.createElement("i",{className:"material-icons"},"message"),"\u2003Messages")),l.a.createElement(i.b,{to:"/user/profile/"+localStorage.getItem("username")},l.a.createElement("li",null,l.a.createElement("i",{className:"material-icons"},"account_circle"),"\u2003Profile")),l.a.createElement("button",{onClick:o},"Tweet")),l.a.createElement("ul",{id:"side-nav-tablet"},l.a.createElement(i.b,{to:"/user/"},l.a.createElement("li",null,l.a.createElement("h2",null,"InstaChat"))),l.a.createElement(i.b,{to:"/user/"},l.a.createElement("li",null,l.a.createElement("i",{className:"material-icons"},"store"))),l.a.createElement(i.b,{to:"/user/explore"},l.a.createElement("li",null,l.a.createElement("i",{className:"material-icons"},"explore"))),l.a.createElement(i.b,{to:"/user/notifications"},l.a.createElement("li",null,l.a.createElement("i",{className:"material-icons"},"notifications"))),l.a.createElement(i.b,{to:"/user/messages"},l.a.createElement("li",null,l.a.createElement("i",{className:"material-icons"},"message"))),l.a.createElement(i.b,{to:"/user/profile/"+localStorage.getItem("username")},l.a.createElement("li",null,l.a.createElement("i",{className:"material-icons"},"account_circle"))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{onClick:o,id:"tweet-button-tablet"},l.a.createElement("i",{className:"material-icons"}," edit"))),l.a.createElement(j,Object.assign({},e,{setFormData:r,formData:t.formDataForPost,handleCloseCreatePost:function(){r({"post-text":null,embedLink:null,"post-img":[],"post-video":null}),a(!1)},ShowCreatePost:t.showCreatePost})))},P=a(28),_=a(11),N=a.n(_),L=a(18),H=a(55),T=a.n(H),M=a(200),U=a(104),A=a(35),z=a(43);var G=function(e){var t=new A.GiphyFetch("tivenjqL1A6W3LpKpPZ4StawMGFAcjdD"),a=function(e){var t=document.getElementById("post-"+e+"-select");"emoji"===e?document.getElementById("post-gif-select").style.display="none":document.getElementById("post-emoji-select").style.display="none","block"===t.style.display?t.style.display="none":t.style.display="block"},n=function(){var a=Object(L.a)(N.a.mark((function a(n,l){var r,i,s;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return l.preventDefault(),document.getElementById("post-img-div").style.display="none",document.getElementById("post-gif-div").style.display="block",a.next=5,t.gif(n.id);case 5:r=a.sent,i=r.data,s=Object(m.a)({},e.formData,{gif:i.images.preview_webp.url}),e.setFormData(s),document.getElementById("post-button").disabled=o(s);case 10:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}(),o=function(e){for(var t in e)if(null!==e[t]&&""!==e[t]&&0!==e[t].length){var a=1;break}return 1!==a};return l.a.createElement("div",null,l.a.createElement(f.a,Object.assign({show:e.ShowCreateComment,onHide:e.handleCloseCreateComment},e,{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(f.a.Header,{closeButton:!0},l.a.createElement(f.a.Title,null,"post"===e.type?"Write a Comment":"Write Your Reply")),l.a.createElement(f.a.Body,null,l.a.createElement(E.a,{variant:"danger",style:{display:"none"},id:"post-alert"}),l.a.createElement("div",{id:"post-profile-div"},l.a.createElement("img",{src:localStorage.getItem("imageUri"),alt:"profile"}),"\u2003",l.a.createElement("span",null,l.a.createElement("strong",null,localStorage.getItem("f_name")+" "+localStorage.getItem("l_name")))),l.a.createElement(y.a,{onChange:function(t){var a=t.target.name,n=t.target.value,l={};"img"===t.target.name?(l=Object(m.a)({},e.formData,{img:[]}),Object(c.a)(t.target.files).map((function(e){return l.img.push(e)})),e.setFormData(l)):(l=Object(m.a)({},e.formData,Object(s.a)({},a,n)),e.setFormData(l)),console.log(l),document.getElementById("post-button").disabled=o(l)},onSubmit:function(t){t.preventDefault(),document.getElementById("post-spinner").style.display="inline-block";var a=new FormData;a.append("text",e.formData.text),a.append("gif",e.formData.gif),e.formData.img.length>0?e.formData.img.map((function(e){return a.append("image",e)})):a.append("image",null),"post"===e.type?a.append("postId",e.formData.postId):a.append("commentId",e.formData.commentId);var n="post"===e.type?"/users/profile/post/comment":"/users/comment/commentOnComment",l=new Headers;l.append("Authorization","Bearer "+localStorage.getItem("token")),fetch(n,{method:"Post",body:a,headers:l}).then((function(e){return e.json()})).then((function(t){if("success"===t.saved){var a=document.getElementById("post-alert");a.className="fade alert alert-success show",a.style.display="block",a.innerHTML="Your details had been saved...",setTimeout((function(){e.handleCloseCreateComment()}),2e3)}else document.getElementById("post-spinner").style.display="none",u(t,"post-alert")}))}},l.a.createElement(h.a,{style:{margin:"0"}},l.a.createElement(y.a.Control,{plaintext:!0,as:"textarea",rows:"3",placeholder:"post"===e.type?"Type your comment here...":"Type your reply here...",id:"text",name:"text",style:{resize:"none"}})),l.a.createElement(h.a,{style:{margin:"0"}},l.a.createElement(y.a.File,{id:"post-pic-upload",custom:!0,style:{display:"none"}},l.a.createElement(y.a.File.Input,{name:"img",multiple:!0,onChange:function(e){var t=Object(c.a)(e.target.files),a=document.getElementById("post-alert");t.length>4?(a.style.display="block",a.innerHTML="Max 4 images allowed...",e.target.value=""):(document.getElementById("post-img-div").childNodes[1].innerHTML="",t.map((function(t){if("image/jpeg"!==t.type&&"image/png"!==t.type)a.style.display="block",a.innerHTML="Only .jpeg or .png files allowed...",e.target.value="";else{var n=new FileReader;n.onload=function(e){var t=document.createElement("img");t.src=e.target.result,t.id="post-img-show",document.getElementById("post-img-div").childNodes[1].appendChild(t)},n.readAsDataURL(t),document.getElementById("post-gif-div").style.display="none",document.getElementById("post-img-div").style.display="block"}})))}}))),l.a.createElement("div",{id:"post-img-div"},l.a.createElement("i",{className:"material-icons",onClick:function(){document.getElementById("post-pic-upload").value="",document.getElementById("post-img-div").style.display="none";var t=Object(m.a)({},e.formData,{img:[]});e.setFormData(t),document.getElementById("post-button").disabled=o(t),document.getElementById("post-img-div").childNodes[1].innerHTML=""}}," ","remove_circle"),l.a.createElement("div",null)),l.a.createElement("div",{id:"post-gif-div"},void 0!==e.formData&&l.a.createElement("img",{src:e.formData.gif,alt:"gif"}),l.a.createElement("i",{className:"material-icons",onClick:function(){var t=Object(m.a)({},e.formData,{gif:null});e.setFormData(t),document.getElementById("post-button").disabled=o(t),document.getElementById("post-gif-div").style.display="none"}}," ","remove_circle")),l.a.createElement(C.a,{variant:"primary",type:"submit",id:"post-button",style:{width:"100%"},disabled:!0},l.a.createElement("strong",null,"post"===e.type?"Post Comment":"Post Reply"),"\u2003",l.a.createElement(I.a,{animation:"border",variant:"dark",size:"sm",id:"post-spinner",style:{display:"none"}})))),l.a.createElement(f.a.Footer,{id:"post-footer"},l.a.createElement("strong",{style:{justifySelf:"left"}},"Add to your ","post"===e.type?"Comment":"Reply"),l.a.createElement(C.a,{variant:"light",title:"Upload image"},l.a.createElement("i",{className:"material-icons",onClick:function(){e.setFormData(Object(m.a)({},e.formData,{gif:null})),document.getElementById("post-pic-upload").click()}},"image")),l.a.createElement(C.a,{variant:"light"}," ",l.a.createElement("i",{className:"material-icons",onClick:function(){e.setFormData(Object(m.a)({},e.formData,{img:[]})),a("gif")}},"gif")),l.a.createElement(C.a,{variant:"light",onClick:function(){e.setFormData(Object(m.a)({},e.formData,{img:[]})),a("emoji")}},l.a.createElement("span",null,"\ud83d\ude04")," "),l.a.createElement("div",{id:"post-emoji-select"}," ",l.a.createElement(z.Grid,{width:window.matchMedia("(max-width: 480px)").matches?250:450,columns:window.matchMedia("(max-width: 480px)").matches?2:3,fetchGifs:function(e){return t.emoji({offset:e,limit:10})},hideAttribution:!0,onGifClick:function(e,t){return n(e,t)}})),l.a.createElement("div",{id:"post-gif-select"}," ",l.a.createElement(z.Grid,{width:window.matchMedia("(max-width: 480px)").matches?250:450,columns:window.matchMedia("(max-width: 480px)").matches?2:3,fetchGifs:function(e){return t.trending({offset:e,limit:10})},hideAttribution:!0,onGifClick:function(e,t){return n(e,t)}})))))},R=a(14),V=a.n(R);var W=function(e){var t=Object(n.useContext)(F),a=function(e){t.dispatch({type:"setFormDataForComments",payload:{text:null,img:[],gif:null,postId:e.target.id}}),t.dispatch({type:"setShowCreateComment",payload:!0})};return l.a.createElement("div",{id:"home-posts"},"home"===e.type?window.matchMedia("(max-width: 480px)").matches?l.a.createElement("div",{id:"home-profile-div"},l.a.createElement("img",{src:localStorage.getItem("imageUri"),alt:"profile pic",onClick:function(){return e.history.push("/user/profile/"+localStorage.getItem("username"))}}),l.a.createElement("p",null,l.a.createElement("strong",null," Home"))):l.a.createElement("h2",null,"Home"):"",l.a.createElement("div",{id:"home"===e.type?"home-div-posts":""},void 0!==e.posts&&e.posts.length>0?e.posts.map((function(t){return l.a.createElement("div",{key:t._id,className:"user_posts"},l.a.createElement("img",{src:t.user_id.imageUri,alt:"pic",id:"user-post-img"}),l.a.createElement("div",{id:"post_detail"},l.a.createElement("p",{id:"post-user-detail"},l.a.createElement("strong",null,t.user_id.f_name+" "+t.user_id.l_name),"\u2002",l.a.createElement("span",null,t.user_id.username,window.matchMedia("(max-width: 480px)").matches?l.a.createElement("br",null):" \xb7 ",new Date-new Date(t.date)<432e5?V()(t.date).fromNow():new Date(t.date).toLocaleDateString("en-US",{day:"numeric",month:"short"}))),l.a.createElement("div",{onClick:function(){return e.history.push("/user/post/"+t._id)}},"null"!==t.postText&&t.postText,t.postImg.length>0&&l.a.createElement("div",{id:"post-images"},t.postImg.length>1&&l.a.createElement("div",{id:"overlayOnImage"},l.a.createElement("h1",null,"+",t.postImg.length-1," more")),l.a.createElement("img",{src:t.postImg[0],alt:""})),-1===[null,void 0].indexOf(t.postVideo)&&l.a.createElement("div",{id:"post-images"},l.a.createElement("video",{src:t.postVideo,controls:!0})),-1===[null,void 0].indexOf(t.embedLink)&&l.a.createElement("iframe",{title:"Youtube Video",src:"https://www.youtube.com/embed/"+t.embedLink})),l.a.createElement("div",{id:"like-share"},l.a.createElement("span",null,l.a.createElement("i",{className:"material-icons",onClick:function(e){return d(e,"like","posts")},id:t._id,style:{color:-1===t.likes.indexOf(localStorage.getItem("id"))?"gray":"blue"}},"thumb_up"),"\u2003",t.likes.length),l.a.createElement("span",null,l.a.createElement("i",{className:"material-icons",onClick:function(e){return d(e,"share","posts")},id:t._id,style:{color:-1===t.shares.indexOf(localStorage.getItem("id"))?"gray":"blue"}}," ","share"),"\u2002",t.shares.length),l.a.createElement("span",null,l.a.createElement("i",{className:"material-icons",onClick:a,id:t._id}," ","message")," ","\u2002",t.comments.length))))})):"home"===e.type?l.a.createElement("h2",null,"No Posts to show... ",l.a.createElement("br",null),"Please follow some peoples..."):"",l.a.createElement(G,Object.assign({},e,{setFormData:function(e){return t.dispatch({type:"setFormDataForComments",payload:e})},formData:t.formDataForComments,handleCloseCreateComment:function(){t.dispatch({type:"setFormDataForComments",payload:{text:null,img:[],gif:null,postId:null}}),t.dispatch({type:"setShowCreateComment",payload:!1})},ShowCreateComment:t.ShowCreateComment,type:"post"}))))};var q=function(e){var t=Object(n.useContext)(F),a=Object(P.g)().id,o=Object(P.f)();Object(n.useEffect)((function(){r()}),[a]);var r=function(){var e=new Headers;e.append("Authorization","Bearer "+localStorage.getItem("token")),fetch("/users/profile/"+a+"/posts",{method:"get",headers:e}).then((function(e){return e.json()})).then(function(){var e=Object(L.a)(N.a.mark((function e(a){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("success"!==a.saved){e.next=4;break}return a.posts.sort((function(e,t){return new Date(t.date)-new Date(e.date)})),e.next=4,n=a,t.dispatch({type:"setPostsObject",payload:n});case 4:case"end":return e.stop()}var n}),e)})));return function(t){return e.apply(this,arguments)}}())};return l.a.createElement(W,Object.assign({},e,{type:"user",history:o,posts:t.postsObject.posts}))};var J=function(e){var t=Object(n.useContext)(F),a=function(e){return t.dispatch({type:"setShowEditProfile",payload:e})},o=function(){return a(!1)},r=function(e){return t.dispatch({type:"setShowEditProfilePic",payload:e})},i=function(){return r(!1)},c=function(){return r(!0)},d=function(e){return t.dispatch({type:"setShowEditProfileCoverPic",payload:e})},p=function(){return d(!1)},g=function(){return d(!0)},v=Object(P.g)().id;Object(n.useEffect)((function(){b()}),[v]);var b=function(){var e=new Headers;e.append("Authorization","Bearer "+localStorage.getItem("token")),e.append("content-type","application/json"),fetch("/users/profile/",{method:"POST",body:JSON.stringify({username:"@"+v}),headers:e}).then((function(e){return e.json()})).then(function(){var e=Object(L.a)(N.a.mark((function e(a){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.dispatch({type:"setProfile",payload:a.details});case 2:return e.next=4,t.dispatch({type:"setEditProfile",payload:a.details});case 4:null!==document.querySelector(".follow-button")&&(document.querySelector(".follow-button").innerHTML=-1===a.details.followers.indexOf(a.id)?"Follow":"Following");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},w=function(e){var a,n=e.target.name,l=e.target.value;a=Object(m.a)({},t.editProfile,Object(s.a)({},n,l)),t.dispatch({type:"setEditProfile",payload:a})},j=Object(P.f)(),O=function(e,t){e.preventDefault(),document.getElementById("upload-"+t+"-button").disabled=!0,document.getElementById(t+"-upload-spinner").style.display="inline-block";var a=e.target[0].files[0],n=new FormData;n.append("image",a);var l=new Headers;l.append("Authorization","Bearer "+localStorage.getItem("token")),fetch("/users/profile/upload/"+t,{method:"post",body:n,headers:l}).then((function(e){return e.json()})).then((function(e){"success"===e.saved&&("profile"===t?i():p(),b())}))},k=function(e,t){document.getElementById(t+"-pic-upload").className="custom-file-input "+("image/png"===e.target.files[0].type||"image/jpeg"===e.target.files[0].type?"is-valid":"is-invalid"),document.getElementById(t+"-pic-upload-label").innerHTML=e.target.files[0].name,document.getElementById("upload-"+t+"-button").disabled="is-valid"!==document.getElementById(t+"-pic-upload").className.split(" ")[1]};return l.a.createElement("div",null,l.a.createElement("div",{id:"profile-head"},l.a.createElement("strong",null,t.profile.f_name+" "+t.profile.l_name),l.a.createElement("br",null),t.profile.posts&&t.profile.posts.length," Tweets"),l.a.createElement("div",{id:"profile-body"},null===t.profile.coverImageUri?l.a.createElement("div",{id:"cover-image",onClick:localStorage.getItem("username")===v?g:""}):l.a.createElement("img",{id:"cover-image",src:t.profile.coverImageUri,alt:"cover",onClick:localStorage.getItem("username")===v?g:function(){document.getElementById("overlay-pics").style.display="block",t.dispatch({type:"setOverlayPicSrc",payload:t.profile.coverImageUri})}}),null===t.profile.imageUri?l.a.createElement("img",{src:T.a,alt:"no profile",id:"profile-pic",onClick:localStorage.getItem("username")===v?c:""}):l.a.createElement("img",{src:t.profile.imageUri,alt:"profile",id:"profile-pic",onClick:localStorage.getItem("username")===v?c:function(){document.getElementById("overlay-pics").style.display="block",t.dispatch({type:"setOverlayPicSrc",payload:t.profile.imageUri})}}),l.a.createElement("div",{id:"profile-div"},l.a.createElement("div",{style:{justifySelf:"right",padding:"0",alignItems:"center"}},localStorage.getItem("username")===v?l.a.createElement("button",{id:"button",className:"edit-button",onClick:function(){return a(!0)}},"Edit Profile"):l.a.createElement("button",{id:"button",className:"follow-button",onClick:function(e){e.preventDefault();var t=new Headers;t.append("Authorization","Bearer "+localStorage.getItem("token")),fetch("/users/profile/"+v+"/follow",{method:"get",headers:t}).then((function(e){return e.json()})).then((function(e){"success"===e.saved&&b()}))}},"Follow")),l.a.createElement("div",null,"\xa0",l.a.createElement("strong",null,t.profile.f_name+" "+t.profile.l_name),l.a.createElement("br",null),"\xa0",l.a.createElement("span",null,t.profile.username)),l.a.createElement("div",null,t.profile.bio),l.a.createElement("div",null,l.a.createElement("span",null,l.a.createElement("i",{className:"material-icons"},"location_on"),t.profile.location+" ","\xa0",l.a.createElement("i",{className:"material-icons"}," date_range")," "," Joined "+new Date(t.profile.join_date).toLocaleDateString("en-US",{month:"long",year:"numeric"}))),l.a.createElement("div",null,"\xa0",l.a.createElement("strong",null,(void 0===t.profile.following?0:t.profile.following.length)+" ")," ",l.a.createElement("span",null,"Following"),"\u2003",l.a.createElement("strong",null," "+(void 0===t.profile.followers?0:t.profile.followers.length)+" "),l.a.createElement("span",null,"Followers")),l.a.createElement("div",{style:{justifySelf:"center",padding:"0"}},l.a.createElement("strong",null,"Tweets")," ")),l.a.createElement("div",null,l.a.createElement(q,null)),l.a.createElement("div",{id:"overlay-pics",onClick:function(){document.getElementById("overlay-pics").style.display="none",t.dispatch({type:"setOverlayPicSrc",payload:""})}},l.a.createElement("img",{src:t.overlayPicSrc,alt:"large size pic"})),l.a.createElement(f.a,Object.assign({show:t.showEditProfile,onHide:o},e,{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",keyboard:!1}),l.a.createElement(f.a.Header,{closeButton:""!==t.profile.username},l.a.createElement(f.a.Title,null,"Edit Profile")),l.a.createElement(f.a.Body,null,l.a.createElement(E.a,{variant:"danger",style:{display:"none"},id:"edit-alert"}),l.a.createElement(y.a,{onSubmit:function(e){e.preventDefault();var a=Object(m.a)({},t.editProfile),n=new Headers;n.append("Authorization","Bearer "+localStorage.getItem("token")),n.append("content-type","application/json"),fetch("/users/update",{method:"Post",body:JSON.stringify(a),headers:n}).then((function(e){return e.json()})).then((function(e){if("success"===e.saved){var a=document.getElementById("edit-alert");a.className="fade alert alert-success show",a.style.display="block",a.innerHTML="Your details had been saved...",v=t.editProfile.username,localStorage.setItem("username",t.editProfile.username),setTimeout((function(){o()}),2e3),j.push("/user/profile/"+v)}else u(e,"edit-alert")}))}},l.a.createElement(M.a,null,l.a.createElement(U.a,null,l.a.createElement(y.a.Group,{controlId:"formBasicFirstName"},l.a.createElement(y.a.Label,null,"First Name"),l.a.createElement(y.a.Control,{type:"text",placeholder:"Enter First Name",name:"f_name",required:!0,onChange:w,value:t.editProfile.f_name}))),l.a.createElement(U.a,null,l.a.createElement(y.a.Group,{controlId:"formBasicLastName"},l.a.createElement(y.a.Label,null,"Last Name"),l.a.createElement(y.a.Control,{type:"text",placeholder:"Enter Last Name",name:"l_name",required:!0,onChange:w,value:t.editProfile.l_name})))),l.a.createElement(y.a.Group,{controlId:"formBasicUsername"},l.a.createElement(y.a.Label,null,"Username"),l.a.createElement(y.a.Control,{type:"text",placeholder:"Enter Username",name:"username",required:!0,onChange:w,value:t.editProfile.username})),l.a.createElement(y.a.Group,{controlId:"formBasicBio"},l.a.createElement(y.a.Label,null,"Bio"),l.a.createElement(y.a.Control,{type:"bio",placeholder:"Add Your Bio",name:"bio",required:!0,onChange:w,value:t.editProfile.bio})),l.a.createElement(y.a.Group,{controlId:"formBasicLocation"},l.a.createElement(y.a.Label,null,"Location"),l.a.createElement(y.a.Control,{type:"text",placeholder:"Add Your location",name:"location",required:!0,onChange:w,value:t.editProfile.location})),l.a.createElement(C.a,{variant:"primary",type:"submit",id:"login-button"},"Save")))),l.a.createElement(f.a,Object.assign({show:t.showEditProfilePic,onHide:i},e,{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static"}),l.a.createElement(f.a.Header,{closeButton:!0},l.a.createElement(f.a.Title,null,"Update Profile Pic")),l.a.createElement(f.a.Body,null,l.a.createElement(y.a,{onSubmit:function(e){return O(e,"profile")}},l.a.createElement(h.a,null,l.a.createElement(y.a.File,{id:"profile-pic-upload",custom:!0},l.a.createElement(y.a.File.Input,{onChange:function(e){return k(e,"profile")}}),l.a.createElement(y.a.File.Label,{"data-browse":"Browse",id:"profile-pic-upload-label"},"Choose Your Pic"),l.a.createElement(y.a.Control.Feedback,{type:"invalid"},"wrong file format (only .jpg and .png allowed)"))),l.a.createElement(C.a,{variant:"primary",type:"submit",id:"upload-profile-button",disabled:!0},"Upload"),"\u2003",l.a.createElement(I.a,{animation:"border",variant:"primary",size:"sm",id:"profile-upload-spinner",style:{display:"none"}})))),l.a.createElement(f.a,Object.assign({show:t.showEditProfileCoverPic,onHide:p},e,{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static"}),l.a.createElement(f.a.Header,{closeButton:!0},l.a.createElement(f.a.Title,null,"Update Profile Cover")),l.a.createElement(f.a.Body,null,l.a.createElement(y.a,{onSubmit:function(e){return O(e,"profile-cover")}},l.a.createElement(h.a,null,l.a.createElement(y.a.File,{id:"profile-cover-pic-upload",custom:!0},l.a.createElement(y.a.File.Input,{onChange:function(e){return k(e,"profile-cover")}}),l.a.createElement(y.a.File.Label,{"data-browse":"Browse",id:"profile-cover-pic-upload-label"},"Choose Your Pic"),l.a.createElement(y.a.Control.Feedback,{type:"invalid"},"wrong file format (only .jpg and .png allowed)"))),l.a.createElement(C.a,{variant:"primary",type:"submit",id:"upload-profile-cover-button",disabled:!0},"Upload"),"\u2003",l.a.createElement(I.a,{animation:"border",variant:"primary",size:"sm",id:"profile-cover-upload-spinner",style:{display:"none"}}))))))},Y=a(108),K=a.n(Y)()("wss://chat-app-by-sanjay.herokuapp.com");var Z=function(e){var t=Object(n.useContext)(F),a=Object(P.g)().id,o=Object(n.useState)({}),r=Object(O.a)(o,2),i=r[0],c=r[1],m=Object(n.useState)(!1),d=Object(O.a)(m,2),u=d[0],p=d[1];Object(n.useEffect)((function(){t.dispatch({type:"appendMessages",payload:[i]})}),[i]),Object(n.useEffect)((function(){console.log("scroll");var e=document.getElementById("msg-box-msgs");e.scrollTop=e.scrollHeight}),[t.messages]);var g=new A.GiphyFetch("tivenjqL1A6W3LpKpPZ4StawMGFAcjdD"),y=function(){return t.dispatch({type:"setShowGifsForMsg",payload:!1})};K.on("newMsg",(function(e){console.log("new msg"),c(e)})),K.on("typing",(function(){p(!0)})),K.on("stopped",(function(){p(!1)})),Object(n.useEffect)((function(){return K.emit("join",a),h(a),document.getElementById("tweet-button-phone").style.display="none",function(){K.emit("leaveRoom",a),window.matchMedia("(max-width: 480px)").matches&&(document.getElementById("tweet-button-phone").style.display="block")}}),[a]);var h=function(e){var a=new Headers;a.append("Authorization","Bearer "+localStorage.getItem("token")),a.append("content-type","application/json"),fetch("/users/messages/"+e,{method:"get",headers:a}).then((function(e){return e.json()})).then((function(e){if("success"===e.saved){t.dispatch({type:"setMessages",payload:e.msgs}),t.dispatch({type:"changeUserInfoForMsg",payload:e.user1._id===localStorage.getItem("id")?e.user2:e.user1});var a=document.getElementById("msg-box-msgs");a.scrollTop=a.scrollHeight}}))},v=function(e,t){var n=document.getElementById("msg-box-msgs");n.scrollTop=n.scrollHeight;var l=Object(s.a)({senderId:localStorage.getItem("id")},e,t);console.log("sent msg"),K.emit("message",{msg:l,roomId:a})},b=function(){var e=Object(L.a)(N.a.mark((function e(t,a){var n,l;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,g.gif(t.id);case 3:n=e.sent,l=n.data,v("gif",l.images.preview_webp.url),y();case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return l.a.createElement("div",{id:"message-left"},l.a.createElement("div",{id:"msg-box"},l.a.createElement("div",{id:"msg-box-profile"},l.a.createElement("img",{src:t.userInfoForMsg.imageUri,alt:t.userInfoForMsg.name+" pic"}),l.a.createElement("div",null,l.a.createElement("strong",null,t.userInfoForMsg.f_name+" "+t.userInfoForMsg.l_name),l.a.createElement("br",null),l.a.createElement("span",null,t.userInfoForMsg.username," ",u?"Typing...":""))),l.a.createElement(E.a,{variant:"danger",style:{display:"none"},id:"wrong-image-alert"}),l.a.createElement("div",{id:"msg-box-msgs"},t.messages.length>0&&t.messages.map((function(e){return e.text?l.a.createElement("div",{key:e._id,className:e.senderId===localStorage.getItem("id")?"right":"left"},l.a.createElement("li",null,e.text,"\u2002",l.a.createElement("span",null,V()(e.sent_time).format("HH:mm A")))):e.image?l.a.createElement("div",{key:e._id,className:e.senderId===localStorage.getItem("id")?"right":"left"},l.a.createElement("img",{src:e.image,alt:""}),l.a.createElement("br",null),l.a.createElement("span",null,V()(e.sent_time).format("HH:mm A"))):l.a.createElement("div",{key:e._id,className:e.senderId===localStorage.getItem("id")?"right":"left"},l.a.createElement("img",{src:e.gif,alt:""}),l.a.createElement("br",null),l.a.createElement("span",null,V()(e.sent_time).format("HH:mm A")))}))),l.a.createElement("div",{id:"msg-box-bottom-div"},l.a.createElement("i",{className:"material-icons",onClick:function(){return document.getElementById("send-image").click()}},"image"),l.a.createElement("i",{className:"material-icons",onClick:function(){return t.dispatch({type:"setShowGifsForMsg",payload:!0})}},"gif"),l.a.createElement("input",{type:"text",placeholder:"Type your msg here... press enter to send",onChange:function(e){""!==e.target.value?K.emit("typing",a):K.emit("stopped",a)},onKeyDown:function(e){13===e.keyCode&&""!==e.target.value&&(v("text",e.target.value),e.target.value="")}}))),l.a.createElement("input",{type:"file",name:"image",id:"send-image",onChange:function(e){var t=e.target.files[0],a=document.getElementById("wrong-image-alert");"image/jpeg"!==t.type&&"image/png"!==t.type?(a.style.display="block",a.innerHTML="Only .jpeg or .png files allowed...",setInterval((function(){return a.style.display="none"}),2e3),e.target.value=""):v("image",t)},style:{display:"none"}}),l.a.createElement(f.a,Object.assign({show:t.showGifsForMsg,onHide:y},e,{size:"md",centered:!0}),l.a.createElement(f.a.Header,{closeButton:!0},l.a.createElement(f.a.Title,null,"Select Gif")),l.a.createElement(f.a.Body,null,l.a.createElement("div",{id:"gif-modal"},l.a.createElement(z.Grid,{fetchGifs:function(e){return g.emoji({offset:e,limit:10})},width:window.matchMedia("(max-width: 480px)").matches?250:450,columns:window.matchMedia("(max-width: 480px)").matches?2:3,hideAttribution:!0,onGifClick:b})))))};var Q=function(){var e=Object(n.useContext)(F),t=function(t){return e.dispatch({type:"setIsFetching",payload:t})};Object(n.useEffect)((function(){return window.addEventListener("scroll",a),function(){return window.removeEventListener("scroll",a)}}),[]);var a=function(){window.innerHeight+document.documentElement.scrollTop!==document.getElementById("main").offsetHeight||e.isFetching||t(!0)};return[e.isFetching,t]};var $=function(e){var t=Object(n.useContext)(F),a=Object(P.f)();Object(n.useEffect)((function(){o()}),[]);var o=function(){var e=new Headers;e.append("Authorization","Bearer "+localStorage.getItem("token")),fetch("/users/homePosts/",{method:"get",headers:e}).then((function(e){return e.json()})).then(function(){var e=Object(L.a)(N.a.mark((function e(a){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"success"===a.saved&&(a.details.sort((function(e,t){return new Date(t.date)-new Date(e.date)})),t.dispatch({type:"setHomePosts",payload:a.details}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};return l.a.createElement(W,Object.assign({},e,{type:"home",history:a,posts:t.homePosts}))};var X=function(){var e=Object(n.useContext)(F),t=Object(P.f)();Object(n.useEffect)((function(){a()}),[]);var a=function(){var t=new Headers;t.append("Authorization","Bearer "+localStorage.getItem("token")),fetch("/users/friend-list",{method:"get",headers:t}).then((function(e){return e.json()})).then((function(t){"success"===t.saved&&e.dispatch({type:"setFriendList",payload:t.data})}))},o=function(a){var n=new Headers;n.append("Authorization","Bearer "+localStorage.getItem("token")),n.append("content-type","application/json"),fetch("/users/getMsgBoxId",{method:"post",body:JSON.stringify({friend_id:a.id}),headers:n}).then((function(e){return e.json()})).then((function(n){"success"===n.saved?(e.dispatch({type:"changeUserInfoForMsg",payload:a}),t.push("/user/messages/"+n.msgBoxId)):e.dispatch({type:"setMessages",payload:{saved:"unsuccessful"}})}))};return l.a.createElement("div",{id:"messages-right"},l.a.createElement("p",null,l.a.createElement("strong",null,"/user/messages"===t.location.pathname?"Messages":"Friends")," "),"/user/messages"===t.location.pathname&&l.a.createElement("div",{id:"msg-people-search"},l.a.createElement(v.a,{className:"mb-3"},l.a.createElement(v.a.Prepend,null,l.a.createElement(v.a.Text,null,l.a.createElement("i",{className:"material-icons"},"\ue8b6"))),l.a.createElement(b.a,{placeholder:"Search your Friends",onChange:function(t){var a=t.target.value,n=e.friendList.filter((function(e){return new RegExp("("+a+")","i").test(e.name)&&e}));e.dispatch({type:"filterFriendList",payload:n})}}))),e.filterFriendList.length>0?e.filterFriendList.map((function(e){return l.a.createElement("div",{key:e.id,id:"msg-profile-div",onClick:function(){return o(e)}},l.a.createElement("div",{id:"msg-profile-pic"},l.a.createElement("img",{src:e.imageUri,alt:e.name+" pic"}),e.isOnline&&l.a.createElement("span",{id:"dot"})),l.a.createElement("div",null,l.a.createElement("strong",null," ",e.name),l.a.createElement("br",null),l.a.createElement("span",null,"@"+e.username)))})):e.friendList.map((function(e){return l.a.createElement("div",{key:e.id,id:"msg-profile-div",onClick:function(){return o(e)}},l.a.createElement("div",{id:"msg-profile-pic"},l.a.createElement("img",{src:e.imageUri,alt:e.name+" pic"}),e.isOnline&&l.a.createElement("span",{id:"dot"})),l.a.createElement("div",null,l.a.createElement("strong",null," ",e.name),l.a.createElement("br",null),l.a.createElement("span",null,"@"+e.username)))})))};var ee=function(e){var t=Object(n.useContext)(F),a=function(t){t.preventDefault();var a=t.target,n=new Headers;n.append("Authorization","Bearer "+localStorage.getItem("token")),n.append("content-type","application/json");fetch("/users/comment/commentOnComment/like",{method:"post",body:JSON.stringify({commentId:e.commentId,replyId:t.target.id}),headers:n}).then((function(e){return e.json()})).then((function(e){if("success"===e.saved){var t=Number(a.nextSibling.nextSibling.textContent);a.nextSibling.nextSibling.textContent="blue"===a.style.color?t-1:t+1,a.style.color="blue"===a.style.color?"gray":"blue"}}))};return l.a.createElement(l.a.Fragment,null,void 0!==e.replies&&e.replies.length>0&&e.replies.map((function(e){return l.a.createElement("div",{key:e._id,id:"sub_comments"},l.a.createElement("img",{src:e.user_id.imageUri,alt:"pic",id:"user-post-img"}),l.a.createElement("div",{id:"comment_detail"},l.a.createElement("p",{id:"post-user-detail"},l.a.createElement("strong",null,e.user_id.f_name+" "+e.user_id.l_name),"\u2002",l.a.createElement("span",null,e.user_id.username,window.matchMedia("(max-width: 480px)").matches?l.a.createElement("br",null):" \xb7 ",new Date-new Date(e.date)<432e5?V()(e.date).fromNow():new Date(e.date).toLocaleDateString("en-US",{day:"numeric",month:"short"}))),l.a.createElement("div",null,"null"!==e.replyText&&e.replyText,-1===[void 0,null].indexOf(e.replyImg)&&l.a.createElement("div",{id:"comment-images"},l.a.createElement("img",{src:e.replyImg,alt:"",onClick:function(){t.dispatch({type:"setOverlayPicSrc",payload:e.replyImg}),document.getElementById("overlay-pics").style.display="block"}})),-1===[void 0,null,"null"].indexOf(e.replyGif)&&l.a.createElement("div",{id:"comment-gif-div"},l.a.createElement("img",{src:e.replyGif,alt:""})," ")),l.a.createElement("div",{id:"like-share-onComment"},l.a.createElement("span",null,l.a.createElement("i",{className:"material-icons",onClick:a,id:e._id,style:{color:-1===e.likes.indexOf(localStorage.getItem("id"))?"gray":"blue"}},"thumb_up"),"\u2003",e.likes.length))),l.a.createElement("div",{id:"overlay-pics",onClick:function(){document.getElementById("overlay-pics").style.display="none",t.dispatch({type:"setOverlayPicSrc",payload:""})}},l.a.createElement("img",{src:t.overlayPicSrc,alt:"large size pic"})))})))},te=a(203);var ae=function(e){var t=Object(n.useContext)(F),a=function(e){return t.dispatch({type:"setShowCreateCommentForCmt",payload:e})},o=function(e){t.dispatch({type:"setFormDataForCmtOnCmt",payload:{text:null,gif:null,img:[],commentId:e.target.id}}),a(!0)};return l.a.createElement("div",null,void 0!==e.comments&&e.comments.length>0&&e.comments.map((function(a){return l.a.createElement("div",{key:a._id,id:"comments"},l.a.createElement("img",{src:a.user_id.imageUri,alt:"pic",id:"user-post-img"}),l.a.createElement("div",{id:"comment_detail"},l.a.createElement("p",{id:"comment-user-detail"},l.a.createElement("strong",null,a.user_id.f_name+" "+a.user_id.l_name),"\u2002",l.a.createElement("span",null,a.user_id.username,window.matchMedia("(max-width: 480px)").matches?l.a.createElement("br",null):" \xb7 ",new Date-new Date(a.date)<432e5?V()(a.date).fromNow():new Date(a.date).toLocaleDateString("en-US",{day:"numeric",month:"short"}))),l.a.createElement("div",null,"null"!==a.commentText&&a.commentText,a.commentImg.length>0&&l.a.createElement("div",{id:"comment-images"},a.commentImg.length>1?l.a.createElement(te.a,null,a.commentImg.map((function(e){return l.a.createElement(te.a.Item,{onClick:function(){t.dispatch({type:"setOverlayPicSrc",payload:e}),document.getElementById("overlay-pics").style.display="block"}},l.a.createElement("img",{className:"d-block w-100",src:e,alt:""}))}))):l.a.createElement("img",{src:a.commentImg[0],alt:"",onClick:function(){t.dispatch({type:"setOverlayPicSrc",payload:a.commentImg[0]}),document.getElementById("overlay-pics").style.display="block"}})),-1===[void 0,null].indexOf(a.commentGif)&&l.a.createElement("div",{id:"comment-gif-div"},l.a.createElement("img",{src:a.commentGif,alt:""})," ")),l.a.createElement("div",{id:"like-share-onComment"},l.a.createElement("span",null,l.a.createElement("i",{className:"material-icons",onClick:function(e){return function(e,t){e.preventDefault();var a=e.target,n=new Headers;n.append("Authorization","Bearer "+localStorage.getItem("token")),n.append("content-type","application/json"),fetch("comment"!==t?"/users/commentOnComment/like":"/users/comment/like",{method:"post",body:JSON.stringify({commentId:e.target.id}),headers:n}).then((function(e){return e.json()})).then((function(e){if("success"===e.saved){var t=Number(a.nextSibling.nextSibling.textContent);a.nextSibling.nextSibling.textContent="blue"===a.style.color?t-1:t+1,a.style.color="blue"===a.style.color?"gray":"blue"}}))}(e,"comment")},id:a._id,style:{color:-1===a.likes.indexOf(localStorage.getItem("id"))?"gray":"blue"}},"thumb_up"),"\u2003",a.likes.length),l.a.createElement("span",null,l.a.createElement("i",{className:"material-icons",onClick:o,id:a._id}," ","message")," ","\u2002","comment"!==e.type?a.comments.length:a.sub_comments.length))),l.a.createElement(ee,Object.assign({},e,{replies:a.sub_comments,commentId:a._id})))})),l.a.createElement(G,Object.assign({},e,{setFormData:function(e){return t.dispatch({type:"setFormDataForCmtOnCmt",payload:e})},formData:t.formDataForCmtOnCmt,handleCloseCreateComment:function(){t.dispatch({type:"setFormDataForCmtOnCmt",payload:{text:null,gif:null,img:[],commentId:null}}),a(!1)},ShowCreateComment:t.ShowCreateCommentForCmt,type:"comment"})),l.a.createElement("div",{id:"overlay-pics",onClick:function(){document.getElementById("overlay-pics").style.display="none",t.dispatch({type:"setOverlayPicSrc",payload:""})}},l.a.createElement("img",{src:t.overlayPicSrc,alt:"large size pic"})))};var ne=function(e){var t=Object(P.g)().id,a=Object(n.useContext)(F);Object(n.useEffect)((function(){return o()}),[]);var o=function(){var e=new Headers;e.append("Authorization","Bearer "+localStorage.getItem("token")),fetch("/users/post/"+t,{method:"get",headers:e}).then((function(e){return e.json()})).then((function(e){"success"===e.saved&&(e.details.comments.sort((function(e,t){return new Date(t.date)-new Date(e.date)})),a.dispatch({type:"setPostDetails",payload:e.details}))}))};return l.a.createElement(l.a.Fragment,null,Object.keys(a.postDetails).length>0&&l.a.createElement("div",null,l.a.createElement("div",{id:"single-post-head"},l.a.createElement("h3",null,"Post")),l.a.createElement("div",{id:"single-post-div"},l.a.createElement("div",{id:"single-post-profile-pic"},l.a.createElement("img",{src:a.postDetails.user_id.imageUri,alt:a.postDetails.user_id.f_name+" profile pic"})),l.a.createElement("div",null,l.a.createElement("strong",null,a.postDetails.user_id.f_name+" "+a.postDetails.user_id.l_name),l.a.createElement("span",null," \xb7 "+a.postDetails.user_id.username),l.a.createElement("div",{id:"single-post-text"},"null"!==a.postDetails.postText&&a.postDetails.postText),l.a.createElement("div",{id:"single-post-img-div"},a.postDetails.postImg.length>0&&(1===a.postDetails.postImg.length?l.a.createElement("img",{className:"d-block w-100",src:a.postDetails.postImg[0],alt:"",onClick:function(){a.dispatch({type:"setOverlayPicSrc",payload:a.postDetails.postImg[0]}),document.getElementById("overlay-pics").style.display="block"}}):l.a.createElement(te.a,null,a.postDetails.postImg.map((function(e){return l.a.createElement(te.a.Item,{onClick:function(){a.dispatch({type:"setOverlayPicSrc",payload:e}),document.getElementById("overlay-pics").style.display="block"}},l.a.createElement("img",{className:"d-block w-100",src:e,alt:""}))})))),void 0!==a.postDetails.postGif&&l.a.createElement("div",null,l.a.createElement("img",{src:a.postDetails.postGif,alt:""}))),null!==a.postDetails.embedLink&&l.a.createElement("iframe",{title:"Youtube Video",src:"https://www.youtube.com/embed/"+a.postDetails.embedLink}),null!==a.postDetails.postVideo&&l.a.createElement("video",{src:a.postDetails.postVideo,controls:!0}))),l.a.createElement("div",{id:"single-post-date"},l.a.createElement("span",null,V()(a.postDetails.date).format("HH:mm A")+" \xb7 "+V()(a.postDetails.date).format("ll"))),l.a.createElement("div",{id:"single-post-likeshare"},l.a.createElement("strong",null,a.postDetails.likes.length),l.a.createElement("span",null," Likes")," \u2003",l.a.createElement("strong",null,a.postDetails.shares.length),l.a.createElement("span",null," Shares")),l.a.createElement("div",{id:"likesharecomment"},l.a.createElement("span",null,l.a.createElement("i",{className:"material-icons",onClick:function(e){return d(e,"like","post")},id:a.postDetails._id,style:{color:-1===a.postDetails.likes.indexOf(localStorage.getItem("id"))?"gray":"blue"}},"thumb_up"),"\u2002 Like"),l.a.createElement("span",null,l.a.createElement("i",{className:"material-icons",onClick:function(e){return d(e,"share","post")},id:a.postDetails._id,style:{color:-1===a.postDetails.shares.indexOf(localStorage.getItem("id"))?"gray":"blue"}}," ","share"),"\u2002 Share"),l.a.createElement("span",null,l.a.createElement("i",{className:"material-icons",onClick:function(){a.dispatch({type:"setFormDataForComments",payload:{text:null,img:[],gif:null,postId:t}}),a.dispatch({type:"setShowCreateComment",payload:!0})}}," ","message"),"\u2002 Comment")),l.a.createElement("div",{id:"overlay-pics",onClick:function(){document.getElementById("overlay-pics").style.display="none",a.dispatch({type:"setOverlayPicSrc",payload:""})}},l.a.createElement("img",{src:a.overlayPicSrc,alt:"large size pic"})),l.a.createElement(ae,Object.assign({},e,{type:"comment",comments:a.postDetails.comments})),l.a.createElement(G,Object.assign({},e,{setFormData:function(e){return a.dispatch({type:"setFormDataForComments",payload:e})},formData:a.formDataForComments,handleCloseCreateComment:function(){a.dispatch({type:"setFormDataForComments",payload:{text:null,img:[],gif:null,postId:null}}),a.dispatch({type:"setShowCreateComment",payload:!1})},ShowCreateComment:a.ShowCreateComment,type:"post"}))))};var le=function(){var e=Object(n.useContext)(F),t=Object(P.f)(),a=function(t){return e.dispatch({type:"setNotifics",payload:t})};return Object(n.useEffect)((function(){p(e.notifics.length,a)}),[]),l.a.createElement("div",{id:"notific-div"},l.a.createElement("div",{id:"notific-head"},l.a.createElement("h3",null,"Notifications")),l.a.createElement("div",{id:"notifics"},e.notifics.length>0?e.notifics.map((function(e){return l.a.createElement("div",{id:"notific",key:e._id},l.a.createElement("img",{src:e.userWhoPushed.imageUri,alt:e.userWhoPushed.f_name+" pic"}),l.a.createElement("div",{onClick:"follow"!==e.type?function(){return t.push("/user/post/"+e.postId)}:function(){return t.push("/user/profile/"+e.userWhoPushed.username.split("@")[1])}},l.a.createElement("strong",null,e.userWhoPushed.f_name+" "+e.userWhoPushed.l_name)," ",function(e){switch(e){case"share":return"shared your post.";case"like":return"liked your post.";case"comment":return"commented on your post.";case"likeComment":return"liked your comment.";case"replyComment":return"replied to your comment.";case"likeReply":return"liked your reply to a comment.";default:return"started following you."}}(e.type),l.a.createElement("br",null),l.a.createElement("span",null,V()(e.datetime).fromNow())))})):l.a.createElement("div",{id:"no-notific"},l.a.createElement("h3",null," There are no notifications to show"),l.a.createElement("span",null,"Follow peoples and create posts"))))};var oe=function(e){var t=Object(n.useContext)(F),a=Q(),o=Object(O.a)(a,2),r=o[0],s=o[1];Object(n.useEffect)((function(){r&&(console.log("called from fetching"),"posts"===t.tab?c(t.trendingPosts.length):m(t.trendingVideos.length))}),[r]),Object(n.useEffect)((function(){c(t.trendingPosts.length),m(t.trendingVideos.length)}),[]);var c=function(e){var a=new Headers;a.append("Authorization","Bearer "+localStorage.getItem("token")),fetch("/users/get-trending-posts/from/"+e,{method:"get",headers:a}).then((function(e){return e.json()})).then((function(e){"success"===e.saved&&t.dispatch({type:"setTrendingPosts",payload:e.data}),s(!1)}))},m=function(e){var a=new Headers;a.append("Authorization","Bearer "+localStorage.getItem("token")),fetch("/users/get-trending-videos/from/"+e,{method:"get",headers:a}).then((function(e){return e.json()})).then((function(e){"success"===e.saved&&(t.dispatch({type:"setTrendingVideos",payload:e.data}),s(!1))}))};return l.a.createElement("div",{className:"explore-left"},l.a.createElement("div",{id:"explore-fixed"},l.a.createElement("form",{onChange:function(e){document.getElementById("search-people-results").style.display="block";var a=e.target.value,n=new Headers;n.append("Authorization","Bearer "+localStorage.getItem("token")),n.append("content-type","application/json"),""!==a?fetch("/users/search",{method:"post",body:JSON.stringify({value:a}),headers:n}).then((function(e){return e.json()})).then(function(){var e=Object(L.a)(N.a.mark((function e(a){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.dispatch({type:"setSearchResults",payload:a});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):document.getElementById("search-people-results").style.display="none"}},l.a.createElement(v.a,{className:"mb-1"},l.a.createElement(v.a.Prepend,null,l.a.createElement(v.a.Text,null,l.a.createElement("i",{className:"material-icons"},"\ue8b6"))),l.a.createElement(b.a,{placeholder:"Search your Friends",name:"search",id:"search-people"})),l.a.createElement("ul",{id:"search-people-results"},t.searchResults.map((function(e){return l.a.createElement(i.b,{to:"/user/profile/"+e.username.split("@")[1]},l.a.createElement("li",null,l.a.createElement("img",{src:e.imageUri||T.a,alt:"profile"}),l.a.createElement("div",null,l.a.createElement("strong",null,e.f_name+" "+e.l_name)," ",l.a.createElement("br",null),l.a.createElement("span",null,e.username))))})))),l.a.createElement("div",{id:"explore-tabs"},l.a.createElement("div",{id:"posts",onClick:function(){return t.dispatch({type:"setTab",payload:"posts"})},style:"posts"===t.tab?{borderBottom:"1px solid blue"}:{}},"Posts"),l.a.createElement("div",{id:"videos",onClick:function(){return t.dispatch({type:"setTab",payload:"videos"})},style:"videos"===t.tab?{borderBottom:"1px solid blue"}:{}},"Videos"))),l.a.createElement("div",{id:"explore-posts"},"posts"===t.tab?l.a.createElement(W,Object.assign({},e,{type:"user",posts:t.trendingPosts})):l.a.createElement(W,Object.assign({},e,{type:"user",posts:t.trendingVideos}))),!0===r&&l.a.createElement("div",{style:{width:"20%",margin:"2vh auto"}},l.a.createElement(I.a,{animation:"border",variant:"primary",size:"md"})))};var re=function(){return l.a.createElement("div",{id:"message-left"},l.a.createElement("div",{id:"msg-not-selected"},l.a.createElement("h2",null,"You don't have a message selected"),l.a.createElement("span",null,"Select one of your friend to message")))};var ie=function(){var e=Object(n.useContext)(F);return l.a.createElement("div",{className:"main-left"},l.a.createElement(P.c,null,l.a.createElement(P.a,{path:"/user/",exact:!0,component:$}),l.a.createElement(P.a,{path:"/user/profile/:id",component:J}),l.a.createElement(P.a,{path:"/user/messages/:id",component:window.matchMedia("(min-width: 901px)").matches||Object.keys(e.userInfoForMsg).length>0?Z:X}),l.a.createElement(P.a,{path:"/user/messages/",component:window.matchMedia("(min-width: 901px)").matches?re:X}),l.a.createElement(P.a,{path:"/user/post/:id",component:ne}),l.a.createElement(P.a,{path:"/user/notifications/",component:le}),l.a.createElement(P.a,{path:"/user/explore/",component:oe})))};var se=function(){var e=Object(n.useContext)(F),t=Object(P.f)(),a=function(){var t=new Headers;t.append("Authorization","Bearer "+localStorage.getItem("token")),fetch("/users/friend-suggesstions",{method:"get",headers:t}).then((function(e){return e.json()})).then((function(t){"success"===t.saved&&e.dispatch({type:"setFriendSuggesstions",payload:t.data})}))};return Object(n.useEffect)((function(){a()}),[]),l.a.createElement("div",{id:"friend-suggesstions"},l.a.createElement("p",null,l.a.createElement("strong",null,"Peoples You May Know")," "),e.friendSuggesstions.map((function(e){return l.a.createElement("div",{key:e._id,id:"suggess-profile-pic"},l.a.createElement("img",{src:e.imageUri,alt:e.name+" pic"}),l.a.createElement("div",{onClick:function(){return t.push("/user/profile/"+e.username.split("@")[1])}},l.a.createElement("strong",null,e.f_name+" "+e.l_name),l.a.createElement("br",null),e.username),l.a.createElement("button",{onClick:function(t){return function(e,t){e.preventDefault();var n=new Headers;n.append("Authorization","Bearer "+localStorage.getItem("token")),fetch("/users/profile/"+t+"/follow",{method:"get",headers:n}).then((function(e){return e.json()})).then((function(e){"success"===e.saved&&a()}))}(t,e.username.split("@")[1])}},"Follow"))})))};var ce=function(){return l.a.createElement("div",{className:"main-right"},l.a.createElement(P.c,null,l.a.createElement(P.a,{path:"/user/profile/:id",component:X}),l.a.createElement(P.a,{path:"/user/messages/",component:X}),l.a.createElement(P.a,{path:"/user/explore",component:se}),l.a.createElement(P.a,{path:"/user/",exact:!0,component:se})))};var me=function(){return l.a.createElement("div",{id:"main"},l.a.createElement(ie,null),l.a.createElement(ce,null))};var de=function(){return l.a.createElement("div",{id:"user"},l.a.createElement(me,null),l.a.createElement(B,null))};var ue=function(e){var t=Object(n.useContext)(F),a=function(e){return t.dispatch({type:"setShowLogin",payload:e})},o=function(){a(!0),p()},r=function(e){return t.dispatch({type:"setShowRegister",payload:e})},i=function(){return r(!1)},c=function(e){return t.dispatch({type:"setLogin",payload:e})},d=function(e){return t.dispatch({type:"setRegister",payload:e})},p=function(){var e=document.createElement("script");e.async=!0,e.defer=!0,e.crossorigin="anonymous",e.src="https://connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v6.0&appId=593870491214414&autoLogAppEvents=1",document.head.appendChild(e),h()},g=Object(n.useRef)(),h=function(){var e=document.createElement("script");e.src="https://apis.google.com/js/platform.js?onload=googleSDKLoaded",e.async=!0,e.defer=!0,document.head.appendChild(e),window.googleSDKLoaded=function(){window.gapi.load("auth2",(function(){window.auth2=window.gapi.auth2.init({client_id:"696463816448-rsbv7ci8el2kmd18q582li2832bbuvpl.apps.googleusercontent.com",cookiepolicy:"single_host_origin",scope:"profile email"}),function(){var e=g.current.attributes[0].value;window.auth2.attachClickHandler(g.current,{},(function(t){var a=t.getBasicProfile();"register"===e?(d({f_name:a.getGivenName(),l_name:a.getFamilyName(),email:a.getEmail(),imageUri:a.getImageUrl(),method:"google"}),document.getElementById("register-button").click()):(c({email:a.getEmail(),method:"google",password:"no"}),document.getElementById("login-button").click())}),(function(e){alert(JSON.stringify(e,void 0,2))}))}()}))}},v=Object(P.f)(),b=function(e,t){e.preventDefault(),window.FB.login((function(e){"connected"===e.status&&window.FB.api("/me?fields=email"+("register"===t?",first_name,last_name,picture":""),(function(e){"login"===t?(c({email:e.email,method:"facebook",password:"no"}),document.getElementById("login-button").click()):(console.log(e),d({f_name:e.first_name,l_name:e.last_name,email:e.email,imageUri:e.picture.data.url,method:"facebook"}),document.getElementById("register-button").click())}))}),{scope:"public_profile,email"})};return l.a.createElement("div",{id:"home"},l.a.createElement("div",null,"Welcome To InstaChat"),l.a.createElement("div",null,l.a.createElement("button",{onClick:o},"Login"),l.a.createElement("button",{onClick:function(){r(!0),p()}},"Sign Up")),l.a.createElement(f.a,Object.assign({show:t.showLogin,onHide:function(){return a(!1)}},e,{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(f.a.Header,{closeButton:!0},l.a.createElement(f.a.Title,null,"Login")),l.a.createElement(f.a.Body,null,l.a.createElement(E.a,{variant:"danger",style:{display:"none"},id:"login-alert"}),l.a.createElement(y.a,{onSubmit:function(e){e.preventDefault();var a=Object(m.a)({},t.Login);fetch("/users/login/",{method:"POST",body:JSON.stringify(a),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){"success"===e.saved?(console.log(e),localStorage.setItem("token",e.token),localStorage.setItem("id",e._id),localStorage.setItem("username",e.username),localStorage.setItem("f_name",e.f_name),localStorage.setItem("l_name",e.l_name),localStorage.setItem("imageUri",e.imageUri),v.push("/user/profile/"+e.username)):u(e,"login-alert")}))},onChange:function(e){var a=e.target.name,n=e.target.value;c(Object(m.a)({},t.Login,Object(s.a)({},a,n)))}},l.a.createElement(y.a.Group,{controlId:"formBasicEmail"},l.a.createElement(y.a.Label,null,"Email address"),l.a.createElement(y.a.Control,{type:"email",placeholder:"Enter email",name:"email"})),l.a.createElement(y.a.Group,{controlId:"formBasicPassword"},l.a.createElement(y.a.Label,null,"Password"),l.a.createElement(y.a.Control,{type:"password",placeholder:"Password",name:"password"})),l.a.createElement(C.a,{variant:"primary",type:"submit",id:"login-button"},"Login"))),l.a.createElement(f.a.Footer,null,l.a.createElement(C.a,{ref:g,button_type:"login"},"Login with Google"),l.a.createElement(C.a,{onClick:function(e){return b(e,"login")}},"Login with FaceBook"))),l.a.createElement(f.a,Object.assign({show:t.showRegister,onHide:i},e,{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(f.a.Header,{closeButton:!0},l.a.createElement(f.a.Title,null,"Register")),l.a.createElement(f.a.Body,null,l.a.createElement(E.a,{id:"register-alert",variant:"danger",style:{display:"none"}}),l.a.createElement(y.a,{onSubmit:function(e){e.preventDefault();var a=Object(m.a)({},t.Register);fetch("/users/register/",{method:"POST",body:JSON.stringify(a),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){if("success"===e.saved){var t=document.getElementById("register-alert");t.className="fade alert alert-success show",t.style.display="block",t.innerHTML="Registration Successful...\nProceed to Login.",setTimeout((function(){i(),o()}),2e3)}else u(e,"register-alert")}))},onChange:function(e){var a=e.target.name,n=e.target.value;d(Object(m.a)({},t.Register,Object(s.a)({},a,n)))}},l.a.createElement(M.a,null,l.a.createElement(U.a,null,l.a.createElement(y.a.Group,{controlId:"formBasicEmail"},l.a.createElement(y.a.Label,null,"First Name"),l.a.createElement(y.a.Control,{type:"text",placeholder:"First Name",name:"f_name",value:t.Register.f_name,required:!0}))),l.a.createElement(U.a,null,l.a.createElement(y.a.Group,{controlId:"formBasicEmail"},l.a.createElement(y.a.Label,null,"Last Name"),l.a.createElement(y.a.Control,{type:"text",placeholder:"Last Name",name:"l_name",value:t.Register.l_name,required:!0})))),l.a.createElement(y.a.Group,{controlId:"formBasicEmail"},l.a.createElement(y.a.Label,null,"Email address"),l.a.createElement(y.a.Control,{type:"email",placeholder:"Enter email",name:"email",value:t.Register.email,required:!0})),l.a.createElement(y.a.Group,{controlId:"formBasicPassword"},l.a.createElement(y.a.Label,null,"Password"),l.a.createElement(y.a.Control,{type:"password",placeholder:"Password",name:"password",value:t.Register.password})),l.a.createElement(C.a,{variant:"primary",type:"submit",id:"register-button"},"Sign Up"))),l.a.createElement(f.a.Footer,null,l.a.createElement(C.a,{ref:g,button_type:"register"},"SignUp with Google"),l.a.createElement(C.a,{onClick:function(e){return b(e,"register")}},"SignUp with FaceBook"))))};var pe=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(i.a,null,l.a.createElement(D,null,l.a.createElement(P.c,null,l.a.createElement(P.a,{path:"/login",exact:!0,component:ue}),l.a.createElement(P.a,{path:"/user/",component:de})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},55:function(e,t,a){e.exports=a.p+"static/media/avtar.1e976c46.png"}},[[109,1,2]]]);
//# sourceMappingURL=main.30703159.chunk.js.map