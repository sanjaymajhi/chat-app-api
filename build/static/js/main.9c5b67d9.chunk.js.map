{"version":3,"sources":["../node_modules/@giphy/js-brand/dist sync","components/functions.jsx","components/CreatePost.jsx","components/Context.jsx","components/SideNav.jsx","components/CreateComment.jsx","components/ShareModal.jsx","components/Posts.jsx","components/userPosts.jsx","components/Profile.jsx","components/messagesLeft.jsx","components/Home.jsx","components/messagesRight.jsx","components/CommentReplies.jsx","components/Comment.jsx","components/Post.jsx","components/Notifications.jsx","components/useInfiniteScroll.jsx","components/ExploreLeft.jsx","components/NoMsgBox.jsx","components/MainLeft.jsx","components/FriendSuggesstion.jsx","components/MainRight.jsx","components/Main.jsx","components/User.jsx","components/Homepage.jsx","components/About.jsx","App.js","serviceWorker.js","index.js","images/avtar.png"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","likeSharePost","type","origin","preventDefault","target","myheaders","Headers","append","localStorage","getItem","url","fetch","method","body","JSON","stringify","postId","headers","then","res","json","data","saved","number","Number","nextSibling","textContent","style","color","errorDisplay","elem","alert","document","getElementById","display","error","innerHTML","msg","errors","count","map","err","setTimeout","switchInJsx","get_notifications","skip","setNotifics","total","history","undefined","notifics","length","title","childNodes","notific","onclick","push","userWhoPushed","username","split","f_name","l_name","className","sort","a","b","Date","datetime","CreatePost","props","isNull","key","flag","Modal","show","ShowCreatePost","onHide","handleCloseCreatePost","size","aria-labelledby","centered","Header","closeButton","backgroundColor","borderBottom","Title","Body","Alert","variant","src","alt","border","Form","onChange","name","value","formData","img","files","file","setFormData","disabled","onSubmit","embedLink","test","form","FormData","FormGroup","margin","Control","plaintext","as","rows","placeholder","resize","File","custom","Input","multiple","reader","FileReader","onload","createElement","result","appendChild","readAsDataURL","InputGroup","FormControl","aria-describedby","OverlayTrigger","placement","overlay","Tooltip","Append","Text","onClick","video","width","height","controls","Button","Spinner","animation","Footer","borderTop","justifySelf","click","Context","React","createContext","reducer","state","action","sideNavTab","payload","homePosts","ShowCreateComment","formDataForComments","userInfoForMsg","messages","msgs","user","showGifsForMsg","friendList","filterFriendList","postDetails","showEditProfile","showEditProfilePic","showEditProfileCoverPic","profile","editProfile","isFetchingPosts","searchResults","showCreatePost","formDataForPost","postsObject","showLogin","showRegister","Login","Register","overlayPicSrc","friendSuggesstions","trendingPosts","trendingVideos","tab","isFetching","formDataForCmtOnCmt","ShowCreateCommentForCmt","initialState","email","password","imageUri","text","gif","bio","location","commentId","ContextProvider","children","useReducer","dispatch","Provider","Consumer","SideNav","ctx","useContext","useHistory","setShowCreatePost","handleShowCreatePost","setFormDataForPost","useEffect","interval","setInterval","clearInterval","colorNavTab","borderLeft","to","Toast","position","bottom","left","zIndex","CreateComment","gf","GiphyFetch","process","gifOrEmojiClick","selectedElem","giphyClick","images","preview_webp","handleCloseCreateComment","emitCommentEvent","window","matchMedia","matches","columns","fetchGifs","offset","emoji","limit","hideAttribution","onGifClick","trending","ShareModal","styleShareButton","padding","handleClose","Row","Col","rel","href","class","Posts","useState","setShow","handleShowCreateComment","posts","post","_id","user_id","date","moment","fromNow","toLocaleDateString","day","month","postText","postImg","indexOf","postVideo","likes","comments","textAlign","UserPosts","useParams","getPosts","details","Profile","setShowEditProfile","handleCloseEditProfile","setShowEditProfilePic","handleCloseEditProfilePic","handleShowEditProfilePic","setShowEditProfileCoverPic","handleCloseEditProfileCoverPic","handleShowEditProfileCoverPic","getProfile","querySelector","followers","handleChange","uploadPic","fileInput","uploadPicInputStyling","clear","coverImageUri","avtar","alignItems","join_date","year","following","backdrop","keyboard","setItem","Group","controlId","Label","required","data-browse","Feedback","socket","io","MessagesLeft","setMsg","typing","setTyping","scrollTop","scrollHeight","handleCloseShowGifsForMsg","on","uuid","senderId","toString","i","emit","getMessages","user1","user2","sendMessage","v4","sent","now","roomId","sendGiphy","sent_time","format","image","right","top","onKeyDown","keyCode","currentTarget","blur","alertBody","ok","link","catch","Home","getHomePosts","MessagesRight","getFriendList","getMsgBoxId","friend","friend_id","msgBoxId","pathname","Prepend","list","filter","RegExp","isOnline","CommentReplies","likeReply","replyId","Fragment","replies","reply","replyText","replyImg","replyGif","Comment","setShowCreateCommentForCmt","handleShowCreateCommentForCmt","comment","commentText","commentImg","Carousel","Item","commentGif","likeComment","sub_comments","getPost","Post","Object","postGif","shares","Notifications","useInfiniteScroll","setIsFetching","addEventListener","handleScroll","removeEventListener","innerHeight","documentElement","offsetHeight","ExploreLeft","getTrendingPosts","getTrendingVideos","index","keyword","item","NoMsgBox","MainLeft","path","exact","component","FriendSuggesstion","getSuggesstions","followHandler","MainRight","Main","User","Homepage","token","setShowLogin","handleShowLogin","loadButtons","setShowRegister","handleCloseRegister","setLogin","setRegister","script","async","defer","crossorigin","head","googleSDK","googleButton","useRef","load","auth2","init","client_id","cookiepolicy","scope","button_type","current","attributes","attachClickHandler","googleUser","getBasicProfile","getGivenName","getFamilyName","getEmail","getImageUrl","prepareLoginButton","fbButton","FB","login","status","api","first_name","last_name","picture","ref","About","gridColumn","App","Boolean","hostname","match","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","registration","unregister","console","message"],"mappings":"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","file":"static/js/main.9c5b67d9.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 141;","export function likeSharePost(e, type, origin = \"posts\") {\n  e.preventDefault();\n  const target = e.target;\n  const myheaders = new Headers();\n  myheaders.append(\"Authorization\", \"Bearer \" + localStorage.getItem(\"token\"));\n  myheaders.append(\"content-type\", \"application/json\");\n  const url = \"/users/posts/\" + type;\n  fetch(url, {\n    method: \"post\",\n    body: JSON.stringify({\n      postId: e.target.id, //commment id for comments and post id for posts\n    }),\n    headers: myheaders,\n  })\n    .then((res) => res.json())\n    .then((data) => {\n      if (data.saved === \"success\") {\n        //no of likes or shares before clicking\n        if (origin === \"posts\") {\n          let number = Number(target.nextSibling.nextSibling.textContent);\n          target.nextSibling.nextSibling.textContent =\n            target.style.color === \"skyblue\" ? number - 1 : number + 1;\n        }\n        target.style.color =\n          target.style.color === \"skyblue\" ? \"lightgray\" : \"skyblue\";\n      }\n    });\n}\n\nexport function errorDisplay(data, elem) {\n  const alert = document.getElementById(elem);\n  alert.style.display = \"block\";\n  if (data.error) {\n    alert.innerHTML += data.error.msg;\n  }\n  if (data.errors) {\n    let count = 1;\n    data.errors.map((err) => {\n      alert.innerHTML += \"<p>\" + count + \". \" + err.msg + \"<br/></p>\";\n      count++;\n    });\n  }\n  setTimeout(function () {\n    alert.style.display = \"none\";\n  }, 10000);\n}\n\nexport const switchInJsx = (data) => {\n  switch (data) {\n    case \"share\":\n      return \"shared your post.\";\n    case \"like\":\n      return \"liked your post.\";\n    case \"comment\":\n      return \"commented on your post.\";\n    case \"likeComment\":\n      return \"liked your comment.\";\n    case \"replyComment\":\n      return \"replied to your comment.\";\n    case \"likeReply\":\n      return \"liked your reply to a comment.\";\n    default:\n      return \"started following you.\";\n  }\n};\n\nexport function get_notifications(skip, setNotifics, total, history) {\n  const myheaders = new Headers();\n  myheaders.append(\"Authorization\", \"Bearer \" + localStorage.getItem(\"token\"));\n  fetch(\"/users/notifications/\" + skip, {\n    method: \"GET\",\n    headers: myheaders,\n  })\n    .then((res) => res.json())\n    .then((data) => {\n      if (data.saved === \"success\") {\n        if (total !== undefined && data.notifics.length > 0) {\n          document.title = `(${data.notifics.length}) new notifications `;\n          document.getElementById(\"navNotific\").childNodes[3].style.display =\n            \"block\";\n          document.getElementById(\n            \"navNotificTablet\"\n          ).childNodes[1].style.display = \"block\";\n          document.getElementById(\n            \"navNotificPhone\"\n          ).childNodes[1].style.display = \"block\";\n          data.notifics.map((notific) => {\n            const alert = document.getElementById(\"notific-alert\");\n            alert.onclick =\n              notific.type !== \"follow\"\n                ? () => history.push(\"/user/post/\" + notific.postId)\n                : () =>\n                    history.push(\n                      \"/user/profile/\" +\n                        notific.userWhoPushed.username.split(\"@\")[1]\n                    );\n\n            const alertBody = alert.childNodes[0];\n            alertBody.innerHTML =\n              notific.userWhoPushed.f_name +\n              \" \" +\n              notific.userWhoPushed.l_name +\n              \" \" +\n              switchInJsx(notific.type) +\n              \". <br/>\" +\n              \"Click Here To See...\";\n            alert.style.display = \"block\";\n            setTimeout(() => {\n              alert.className = \"fade toast\";\n            }, 5000);\n          });\n        }\n        data.notifics.sort(\n          (a, b) => new Date(b.datetime) - new Date(a.datetime)\n        );\n        setNotifics(data.notifics);\n      }\n    });\n}\n","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { errorDisplay } from \"./functions\";\n\nimport {\n  Modal,\n  Form,\n  Button,\n  Alert,\n  FormGroup,\n  Spinner,\n  InputGroup,\n  FormControl,\n  Tooltip,\n  OverlayTrigger,\n} from \"react-bootstrap\";\n\nfunction CreatePost(props) {\n  const handleChange = (e) => {\n    const name = e.target.name;\n    const value = e.target.value;\n\n    var data = {};\n    if (e.target.name === \"img\") {\n      data = { ...props.formData, img: [] };\n      [...e.target.files].map((file) => data[\"img\"].push(file));\n      props.setFormData(data);\n    } else if (e.target.name === \"video\") {\n      data = props.formData;\n      data[\"video\"] =\n        e.target.files[0] === undefined ? null : e.target.files[0];\n      props.setFormData(data);\n    } else {\n      data = { ...props.formData, [name]: value };\n      props.setFormData(data);\n    }\n\n    document.getElementById(\"post-button\").disabled = isNull(data);\n  };\n\n  const CreatePostOrComment = (e) => {\n    e.preventDefault();\n    if (\n      !(\n        props.formData.embedLink === null ||\n        (/[-]?[A-Za-z0-9]*[_]?[A-Za-z0-9]*/.test(props.formData.embedLink) &&\n          props.formData.embedLink.length === 11)\n      )\n    ) {\n      alert(\"Not a valid Youtube Video ID...\");\n      return;\n    }\n    document.getElementById(\"post-spinner\").style.display = \"inline-block\";\n    const form = new FormData();\n    form.append(\"text\", props.formData[\"text\"]);\n    form.append(\"embedLink\", props.formData.embedLink);\n    form.append(\"video\", props.formData[\"video\"]);\n\n    if (props.formData[\"img\"].length > 0) {\n      props.formData[\"img\"].map((data) => form.append(\"image\", data));\n    } else {\n      form.append(\"image\", null);\n    }\n\n    const url =\n      props.formData[\"video\"] === null\n        ? \"/users/profile/postWithImage/\"\n        : \"/users/profile/postWithVideo/\";\n\n    const myheaders = new Headers();\n    myheaders.append(\n      \"Authorization\",\n      \"Bearer \" + localStorage.getItem(\"token\")\n    );\n    fetch(url, {\n      method: \"Post\",\n      body: form,\n      headers: myheaders,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.saved === \"success\") {\n          const alert = document.getElementById(\"post-alert\");\n          alert.className = \"fade alert alert-success show\";\n          alert.style.display = \"block\";\n          alert.innerHTML = \"Your details had been saved...\";\n          setTimeout(() => {\n            props.handleCloseCreatePost();\n          }, 2000);\n        } else {\n          document.getElementById(\"post-spinner\").style.display = \"none\";\n          errorDisplay(data, \"post-alert\");\n        }\n      });\n  };\n\n  const uploadVideoInputStyling = (e) => {\n    const file = e.target.files[0];\n    const alert = document.getElementById(\"post-alert\");\n    if (file.type !== \"video/mp4\") {\n      alert.style.display = \"block\";\n      alert.innerHTML = \"Only .mp4 files allowed...\";\n      e.target.value = \"\";\n    } else {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        document.getElementById(\"post-video-div\").childNodes[1].src =\n          e.target.result;\n      };\n      reader.readAsDataURL(file);\n      document.getElementById(\"post-video-div\").style.display = \"block\";\n      document.getElementById(\"post-img-div\").style.display = \"none\";\n      document.getElementById(\"embedLink\").style.display = \"none\";\n    }\n  };\n\n  const uploadPicInputStyling = (e) => {\n    const files = [...e.target.files];\n    const alert = document.getElementById(\"post-alert\");\n    if (files.length > 4) {\n      alert.style.display = \"block\";\n      alert.innerHTML = \"Max 4 images allowed...\";\n      e.target.value = \"\";\n    } else {\n      document.getElementById(\"post-img-div\").childNodes[1].innerHTML = \"\";\n      files.map((file) => {\n        if (file.type !== \"image/jpeg\" && file.type !== \"image/png\") {\n          alert.style.display = \"block\";\n          alert.innerHTML = \"Only .jpeg or .png files allowed...\";\n          e.target.value = \"\";\n        } else {\n          var reader = new FileReader();\n          reader.onload = (e) => {\n            const img = document.createElement(\"img\");\n            img.src = e.target.result;\n            img.id = \"post-img-show\";\n            document\n              .getElementById(\"post-img-div\")\n              .childNodes[1].appendChild(img);\n          };\n          reader.readAsDataURL(file);\n          document.getElementById(\"post-video-div\").style.display = \"none\";\n          document.getElementById(\"post-img-div\").style.display = \"block\";\n          document.getElementById(\"embedLink\").style.display = \"none\";\n        }\n      });\n    }\n  };\n\n  const isNull = (data) => {\n    for (var key in data) {\n      if (data[key] !== null && data[key] !== \"\" && data[key].length !== 0) {\n        var flag = 1;\n        break;\n      }\n    }\n    if (flag === 1) {\n      return false;\n    }\n    return true;\n  };\n\n  const renderTooltip = (props) => {\n    return (\n      <Tooltip id=\"button-tooltip\" {...props}>\n        Step 1. Search a video on youtube.\n        <br />\n        Step 2. Find video link in the browser url bar.\n        <br />\n        Example : https://www.youtube.com/watch?v=xQnIN9bW0og\n        <br />\n        Step 3. Copy the video id of length 11 ie. xQnIN9bW0og.\n        <br />\n        Step 4. Paste it here.\n      </Tooltip>\n    );\n  };\n\n  return (\n    <div>\n      <Modal\n        show={props.ShowCreatePost}\n        onHide={props.handleCloseCreatePost}\n        {...props}\n        size=\"md\"\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered\n      >\n        <Modal.Header\n          closeButton\n          style={{\n            backgroundColor: \"#333333\",\n            borderBottom: \"1px solid black\",\n          }}\n        >\n          <Modal.Title>Create Post</Modal.Title>\n        </Modal.Header>\n\n        <Modal.Body\n          style={{\n            backgroundColor: \"#333333\",\n          }}\n        >\n          <Alert\n            variant={\"danger\"}\n            style={{ display: \"none\" }}\n            id=\"post-alert\"\n          ></Alert>\n\n          <div id=\"post-profile-div\">\n            <img\n              src={localStorage.getItem(\"imageUri\")}\n              alt=\"profile\"\n              style={{ border: \"1px solid white\" }}\n            />\n            &emsp;\n            <span>\n              <strong>\n                {localStorage.getItem(\"f_name\") +\n                  \" \" +\n                  localStorage.getItem(\"l_name\")}\n              </strong>\n            </span>\n          </div>\n\n          <Form onChange={handleChange} onSubmit={CreatePostOrComment}>\n            <FormGroup style={{ margin: \"0\" }}>\n              <Form.Control\n                plaintext\n                as=\"textarea\"\n                rows=\"3\"\n                placeholder={\n                  \"What's on your mind \" + localStorage.getItem(\"f_name\")\n                }\n                name=\"text\"\n                id=\"text\"\n                style={{ resize: \"none\", color: \"white\" }}\n              />\n            </FormGroup>\n\n            <FormGroup style={{ margin: \"0\" }}>\n              <Form.File\n                id=\"post-pic-upload\"\n                custom\n                style={{ display: \"none\" }}\n              >\n                <Form.File.Input\n                  name=\"img\"\n                  multiple\n                  onChange={uploadPicInputStyling}\n                />\n              </Form.File>\n            </FormGroup>\n\n            <FormGroup style={{ margin: \"0\" }}>\n              <Form.File\n                id=\"post-video-upload\"\n                custom\n                style={{ display: \"none\" }}\n              >\n                <Form.File.Input\n                  name=\"video\"\n                  onChange={uploadVideoInputStyling}\n                />\n              </Form.File>\n            </FormGroup>\n\n            <InputGroup\n              className=\"mb-3\"\n              id=\"embedLink\"\n              style={{ display: \"none\" }}\n            >\n              <FormControl\n                placeholder=\"Put youtube video link here...\"\n                aria-describedby=\"basic-addon2\"\n                name=\"embedLink\"\n              />\n              <OverlayTrigger placement=\"top\" overlay={renderTooltip}>\n                <InputGroup.Append>\n                  <InputGroup.Text id=\"basic-addon2\">?</InputGroup.Text>\n                </InputGroup.Append>\n              </OverlayTrigger>\n            </InputGroup>\n\n            <div id=\"post-img-div\">\n              <i\n                className=\"material-icons\"\n                onClick={() => {\n                  document.getElementById(\"post-pic-upload\").value = \"\";\n                  document.getElementById(\"post-img-div\").style.display =\n                    \"none\";\n                  const data = {\n                    ...props.formData,\n                    img: [],\n                  };\n                  props.setFormData(data);\n                  document.getElementById(\"post-button\").disabled = isNull(\n                    data\n                  );\n                  document.getElementById(\n                    \"post-img-div\"\n                  ).childNodes[1].innerHTML = \"\";\n                }}\n              >\n                {\" \"}\n                remove_circle\n              </i>\n              <div></div>\n            </div>\n\n            <div id=\"post-video-div\">\n              <i\n                className=\"material-icons\"\n                onClick={() => {\n                  const data = {\n                    ...props.formData,\n                    video: [],\n                  };\n                  props.setFormData(data);\n                  document.getElementById(\"post-button\").disabled = isNull(\n                    data\n                  );\n                  document.getElementById(\"post-video-div\").style.display =\n                    \"none\";\n                }}\n              >\n                {\" \"}\n                remove_circle\n              </i>\n              <video width=\"400\" height=\"240\" controls name=\"video\" />\n            </div>\n\n            <Button\n              variant=\"secondary\"\n              type=\"submit\"\n              id=\"post-button\"\n              style={{ width: \"100%\" }}\n              disabled={true}\n            >\n              <strong>{\"Post\"}</strong>\n              &emsp;\n              <Spinner\n                animation=\"border\"\n                variant=\"dark\"\n                size=\"sm\"\n                id=\"post-spinner\"\n                style={{ display: \"none\" }}\n              />\n            </Button>\n          </Form>\n        </Modal.Body>\n\n        <Modal.Footer\n          id=\"post-footer\"\n          style={{\n            backgroundColor: \"#333333\",\n            borderTop: \"1px solid black\",\n          }}\n        >\n          <strong style={{ justifySelf: \"left\" }}>Add to your {\"Post\"}</strong>\n          <Button variant={\"light\"} title=\"Upload image\">\n            <i\n              className=\"material-icons\"\n              onClick={() => {\n                props.setFormData({\n                  ...props.formData,\n                  embedLink: null,\n                  video: null,\n                });\n                document.getElementById(\"post-pic-upload\").click();\n              }}\n            >\n              image\n            </i>\n          </Button>\n\n          <Button variant={\"light\"} title=\"Upload videos\">\n            {\" \"}\n            <i\n              className=\"material-icons\"\n              onClick={() => {\n                props.setFormData({\n                  ...props.formData,\n                  embedLink: null,\n                  img: [],\n                });\n                document.getElementById(\"post-video-upload\").click();\n              }}\n            >\n              videocam\n            </i>\n          </Button>\n\n          <Button variant={\"light\"} title=\"Embed youtube videos\">\n            {\" \"}\n            <i\n              className=\"material-icons\"\n              onClick={() => {\n                props.setFormData({\n                  ...props.formData,\n                  video: null,\n                  img: [],\n                });\n                document.getElementById(\"post-img-div\").style.display = \"none\";\n                document.getElementById(\"post-video-div\").style.display =\n                  \"none\";\n                document.getElementById(\"embedLink\").style.display = \"flex\";\n              }}\n            >\n              insert_link\n            </i>\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </div>\n  );\n}\n\nexport default CreatePost;\n","import React, { useReducer } from \"react\";\n\nconst Context = React.createContext();\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"setSideNavTab\":\n      return { ...state, sideNavTab: action.payload };\n    case \"setHomePosts\":\n      return { ...state, homePosts: action.payload };\n    case \"setShowCreateComment\":\n      return { ...state, ShowCreateComment: action.payload };\n    case \"setFormDataForComments\":\n      return { ...state, formDataForComments: action.payload };\n    case \"changeUserInfoForMsg\":\n      return { ...state, userInfoForMsg: action.payload };\n    case \"setMessages\":\n      return {\n        ...state,\n        messages: [...action.payload.msgs],\n        userInfoForMsg: action.payload.user,\n      };\n    case \"appendMessages\":\n      return { ...state, messages: [...state.messages, ...action.payload] };\n    case \"editMessage\":\n      delete state.messages[action.payload][\"sent\"];\n      return { ...state, messages: [...state.messages] };\n    case \"setShowGifsForMsg\":\n      return { ...state, showGifsForMsg: action.payload };\n    case \"setFriendList\":\n      return { ...state, friendList: action.payload };\n    case \"filterFriendList\":\n      return { ...state, filterFriendList: action.payload };\n    case \"setPostDetails\":\n      return { ...state, postDetails: action.payload };\n    case \"setShowEditProfile\":\n      return { ...state, showEditProfile: action.payload };\n    case \"setShowEditProfilePic\":\n      return { ...state, showEditProfilePic: action.payload };\n    case \"setShowEditProfileCoverPic\":\n      return { ...state, showEditProfileCoverPic: action.payload };\n    case \"loadProfileComponent\":\n      return {\n        ...state,\n        profile: action.payload,\n        editProfile: action.payload,\n        isFetchingPosts: false,\n      };\n    case \"setEditProfile\":\n      return { ...state, editProfile: action.payload };\n    case \"setSearchResults\":\n      return { ...state, searchResults: action.payload };\n    case \"setShowCreatePost\":\n      return { ...state, showCreatePost: action.payload };\n    case \"setFormDataForPost\":\n      return { ...state, formDataForPost: action.payload };\n    case \"setPostsObject\":\n      return { ...state, postsObject: action.payload };\n    case \"setShowLogin\":\n      return { ...state, showLogin: action.payload };\n    case \"setShowRegister\":\n      return { ...state, showRegister: action.payload };\n    case \"setLogin\":\n      return { ...state, Login: action.payload };\n    case \"setRegister\":\n      return { ...state, Register: action.payload };\n    case \"setNotifics\":\n      return { ...state, notifics: [...action.payload, ...state.notifics] };\n    case \"setOverlayPicSrc\":\n      return { ...state, overlayPicSrc: action.payload };\n    case \"setFriendSuggesstions\":\n      return { ...state, friendSuggesstions: action.payload };\n    case \"setTrendingPosts\":\n      return {\n        ...state,\n        trendingPosts: [...state.trendingPosts, ...action.payload],\n      };\n    case \"setTrendingVideos\":\n      return {\n        ...state,\n        trendingVideos: [...state.trendingVideos, ...action.payload],\n      };\n    case \"setTab\":\n      return { ...state, tab: action.payload };\n    case \"setIsFetching\":\n      return { ...state, isFetching: action.payload };\n\n    case \"setFormDataForCmtOnCmt\":\n      return { ...state, formDataForCmtOnCmt: action.payload };\n    case \"setShowCreateCommentForCmt\":\n      return { ...state, ShowCreateCommentForCmt: action.payload };\n\n    case \"setIsFetchingPosts\":\n      return { ...state, isFetchingPosts: action.payload };\n\n    default:\n      return state;\n  }\n}\n\nconst initialState = {\n  showLogin: false,\n  showRegister: false,\n  Login: {\n    email: \"\",\n    password: \"\",\n    method: \"native\",\n  },\n  Register: {\n    f_name: \"\",\n    l_name: \"\",\n    email: \"\",\n    password: \"\",\n    method: \"native\",\n    imageUri: \"\",\n  },\n  sideNavTab: \"navHome\",\n  homePosts: [],\n  ShowCreateComment: false,\n  formDataForComments: {\n    text: null,\n    gif: null,\n    img: [],\n    postId: null,\n  },\n  userInfoForMsg: {},\n  messages: [],\n  showGifsForMsg: false,\n  friendList: [],\n  filterFriendList: [],\n  ShowCreateCommentForCmt: false,\n  postDetails: {},\n  showEditProfile: false,\n  showEditProfilePic: false,\n  showEditProfileCoverPic: false,\n  profile: {},\n  editProfile: {\n    f_name: \"\",\n    l_name: \"\",\n    bio: \"\",\n    location: \"\",\n    username: \"\",\n  },\n  searchResults: [],\n  showCreatePost: false,\n  formDataForPost: {\n    text: null,\n    embedLink: null,\n    img: [],\n    video: null,\n  },\n  postsObject: {},\n  notifics: [],\n  overlayPicSrc: \"\",\n  friendSuggesstions: [],\n  trendingPosts: [],\n  trendingVideos: [],\n  tab: \"posts\",\n  isFetching: false,\n  formDataForCmtOnCmt: {\n    text: null,\n    gif: null,\n    img: [],\n    commentId: null,\n  },\n  isFetchingPosts: true,\n};\n\nexport function ContextProvider({ children }) {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  return (\n    <Context.Provider value={{ ...state, dispatch }}>\n      {children}\n    </Context.Provider>\n  );\n}\n\nexport const ContextConsumer = Context.Consumer;\n\nexport default Context;\n","import React, { useContext, useEffect } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport CreatePost from \"./CreatePost\";\nimport Context from \"./Context\";\nimport { get_notifications } from \"./functions\";\nimport { Toast } from \"react-bootstrap\";\n\nfunction SideNav(props) {\n  const ctx = useContext(Context);\n  const history = useHistory();\n  const setShowCreatePost = (data) =>\n    ctx.dispatch({ type: \"setShowCreatePost\", payload: data });\n\n  const handleCloseCreatePost = () => {\n    setFormDataForPost({\n      \"post-text\": null,\n      embedLink: null,\n      \"post-img\": [],\n      \"post-video\": null,\n    });\n    setShowCreatePost(false);\n  };\n  const handleShowCreatePost = () => setShowCreatePost(true);\n\n  const setFormDataForPost = (data) =>\n    ctx.dispatch({ type: \"setFormDataForPost\", payload: data });\n\n  const setNotifics = (data) =>\n    ctx.dispatch({ type: \"setNotifics\", payload: data });\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      get_notifications(\n        ctx.notifics.length,\n        setNotifics,\n        ctx.notifics,\n        history\n      );\n    }, 20000);\n    return () => {\n      clearInterval(interval);\n    };\n  }, [ctx.notifics]);\n\n  useEffect(() => {\n    get_notifications(0, setNotifics);\n  }, []);\n\n  const colorNavTab = (e) => {\n    document.getElementById(ctx.sideNavTab).style.borderLeft = \"\";\n    e.target.style.borderLeft = \"1vw solid #5cb85b\";\n    ctx.dispatch({ type: \"setSideNavTab\", payload: e.target.id });\n  };\n\n  return (\n    <div>\n      <ul id=\"side-nav-phone\">\n        <Link to=\"/user/\">\n          <li>\n            <i className=\"material-icons\">store</i>\n          </li>\n        </Link>\n        <Link to=\"/user/explore\">\n          <li>\n            <i className=\"material-icons\">explore</i>\n          </li>\n        </Link>\n        <Link to=\"/user/notifications\">\n          <li\n            id=\"navNotificPhone\"\n            onClick={(e) => {\n              document.getElementById(\n                \"navNotificPhone\"\n              ).childNodes[1].style.display = \"none\";\n            }}\n          >\n            <i className=\"material-icons\">notifications</i>\n            <span id=\"dot\"></span>\n          </li>\n        </Link>\n        <Link to=\"/user/messages\">\n          <li>\n            <i className=\"material-icons\">message</i>\n          </li>\n        </Link>\n      </ul>\n      <button id=\"tweet-button-phone\" onClick={handleShowCreatePost}>\n        <i className=\"material-icons\"> edit</i>\n      </button>\n\n      <ul id=\"side-nav\">\n        <Link to=\"/user/\">\n          <li>\n            <h2>InstaChat</h2>\n          </li>\n        </Link>\n        <Link to=\"/user/\">\n          <li id=\"navHome\" onClick={colorNavTab}>\n            <i className=\"material-icons\">store</i>&emsp;Home\n          </li>\n        </Link>\n        <Link to=\"/user/explore\">\n          <li id=\"navExplore\" onClick={colorNavTab}>\n            <i className=\"material-icons\">explore</i>&emsp;Explore\n          </li>\n        </Link>\n        <Link to=\"/user/notifications\">\n          <li\n            id=\"navNotific\"\n            onClick={(e) => {\n              document.getElementById(\n                \"navNotific\"\n              ).childNodes[3].style.display = \"none\";\n              colorNavTab(e);\n            }}\n          >\n            <i className=\"material-icons\">notifications</i>&emsp;Notifications{\" \"}\n            <span id=\"dot\"></span>\n          </li>\n        </Link>\n        <Link to=\"/user/messages\">\n          <li id=\"navMsg\" onClick={colorNavTab}>\n            <i className=\"material-icons\">message</i>&emsp;Messages\n          </li>\n        </Link>\n        <Link to={\"/user/profile/\" + localStorage.getItem(\"username\")}>\n          <li id=\"navProfile\" onClick={colorNavTab}>\n            <i className=\"material-icons\">account_circle</i>&emsp;Profile\n          </li>\n        </Link>\n        <button onClick={handleShowCreatePost}>Tweet</button>\n      </ul>\n\n      <ul id=\"side-nav-tablet\">\n        <Link to=\"/user/\">\n          <li>\n            <h2>IChat</h2>\n          </li>\n        </Link>\n        <Link to=\"/user/\">\n          <li id=\"navHomeTablet\" onClick={colorNavTab}>\n            <i className=\"material-icons\">store</i>\n          </li>\n        </Link>\n        <Link to=\"/user/explore\">\n          <li id=\"navExploreTablet\" onClick={colorNavTab}>\n            <i className=\"material-icons\">explore</i>\n          </li>\n        </Link>\n        <Link to=\"/user/notifications\">\n          <li\n            id=\"navNotificTablet\"\n            onClick={(e) => {\n              e.target.childNodes[1].style.display = \"none\";\n              colorNavTab(e);\n            }}\n          >\n            <i className=\"material-icons\">notifications</i>\n            <span id=\"dot\"></span>\n          </li>\n        </Link>\n        <Link to=\"/user/messages\">\n          <li id=\"navMsgTablet\" onClick={colorNavTab}>\n            <i className=\"material-icons\">message</i>\n          </li>\n        </Link>\n        <Link to={\"/user/profile/\" + localStorage.getItem(\"username\")}>\n          <li id=\"navProfileTablet\" onClick={colorNavTab}>\n            <i className=\"material-icons\">account_circle</i>\n          </li>\n        </Link>\n        <button onClick={handleShowCreatePost} id=\"tweet-button-tablet\">\n          <i className=\"material-icons\"> edit</i>\n        </button>\n      </ul>\n\n      {/* create post modal */}\n      <CreatePost\n        {...props}\n        setFormData={setFormDataForPost}\n        formData={ctx.formDataForPost}\n        handleCloseCreatePost={handleCloseCreatePost}\n        ShowCreatePost={ctx.showCreatePost}\n      />\n      <Toast\n        show={true}\n        id=\"notific-alert\"\n        style={{\n          display: \"none\",\n          position: \"fixed\",\n          bottom: \"5vh\",\n          left: \"2vw\",\n          backgroundColor: \"black\",\n          color: \"white\",\n          zIndex: \"10000\",\n        }}\n      >\n        <Toast.Body id=\"notific-toast-body\">\n          Only jpg and png files allowed\n        </Toast.Body>\n      </Toast>\n    </div>\n  );\n}\n\nexport default SideNav;\n","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { GiphyFetch } from \"@giphy/js-fetch-api\";\nimport { Grid } from \"@giphy/react-components\";\nimport { errorDisplay } from \"./functions\";\n//if props type is post then it is comment on a post otherwise comment on a comment\nimport {\n  Modal,\n  Form,\n  Button,\n  Alert,\n  FormGroup,\n  Spinner,\n} from \"react-bootstrap\";\n\nfunction CreateComment(props) {\n  const gf = new GiphyFetch(process.env.REACT_APP_GIPHY_API_KEY);\n  const fetchGifs = (offset) => gf.trending({ offset, limit: 10 });\n  const fetchEmojis = (offset) => gf.emoji({ offset, limit: 10 });\n\n  const handleChange = (e) => {\n    const name = e.target.name;\n    const value = e.target.value;\n\n    var data = {};\n    if (e.target.name === \"img\") {\n      data = { ...props.formData, img: [] };\n      [...e.target.files].map((file) => data.img.push(file));\n      props.setFormData(data);\n    } else {\n      data = { ...props.formData, [name]: value };\n      props.setFormData(data);\n    }\n\n    document.getElementById(\"post-button\").disabled = isNull(data);\n  };\n\n  const CreatePostOrComment = (e) => {\n    e.preventDefault();\n    document.getElementById(\"post-spinner\").style.display = \"inline-block\";\n    const form = new FormData();\n    form.append(\"text\", props.formData.text);\n    form.append(\"gif\", props.formData.gif);\n\n    if (props.formData.img.length > 0) {\n      props.formData.img.map((data) => form.append(\"image\", data));\n    } else {\n      form.append(\"image\", null);\n    }\n\n    if (props.type === \"post\") {\n      form.append(\"postId\", props.formData.postId);\n    } else {\n      form.append(\"commentId\", props.formData.commentId);\n    }\n\n    const url =\n      props.type === \"post\"\n        ? \"/users/profile/post/comment\"\n        : \"/users/comment/commentOnComment\";\n\n    const myheaders = new Headers();\n    myheaders.append(\n      \"Authorization\",\n      \"Bearer \" + localStorage.getItem(\"token\")\n    );\n    fetch(url, {\n      method: \"Post\",\n      body: form,\n      headers: myheaders,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.saved === \"success\") {\n          const alert = document.getElementById(\"post-alert\");\n          alert.className = \"fade alert alert-success show\";\n          alert.style.display = \"block\";\n          alert.innerHTML = \"Your details had been saved...\";\n          props.emitCommentEvent();\n          setTimeout(() => {\n            props.handleCloseCreateComment();\n          }, 2000);\n        } else {\n          document.getElementById(\"post-spinner\").style.display = \"none\";\n          errorDisplay(data, \"post-alert\");\n        }\n      });\n  };\n\n  const uploadPicInputStyling = (e) => {\n    const files = [...e.target.files];\n    const alert = document.getElementById(\"post-alert\");\n    if (files.length > 4) {\n      alert.style.display = \"block\";\n      alert.innerHTML = \"Max 4 images allowed...\";\n      e.target.value = \"\";\n    } else {\n      document.getElementById(\"post-img-div\").childNodes[1].innerHTML = \"\";\n      files.map((file) => {\n        if (file.type !== \"image/jpeg\" && file.type !== \"image/png\") {\n          alert.style.display = \"block\";\n          alert.innerHTML = \"Only .jpeg or .png files allowed...\";\n          e.target.value = \"\";\n        } else {\n          var reader = new FileReader();\n          reader.onload = (e) => {\n            const img = document.createElement(\"img\");\n            img.src = e.target.result;\n            img.id = \"post-img-show\";\n            document\n              .getElementById(\"post-img-div\")\n              .childNodes[1].appendChild(img);\n          };\n          reader.readAsDataURL(file);\n          document.getElementById(\"post-gif-div\").style.display = \"none\";\n          document.getElementById(\"post-img-div\").style.display = \"block\";\n        }\n      });\n    }\n  };\n\n  const gifOrEmojiClick = (type) => {\n    const selectedElem = document.getElementById(\"post-\" + type + \"-select\");\n    if (type === \"emoji\") {\n      document.getElementById(\"post-gif-select\").style.display = \"none\";\n    } else {\n      document.getElementById(\"post-emoji-select\").style.display = \"none\";\n    }\n    selectedElem.style.display === \"block\"\n      ? (selectedElem.style.display = \"none\")\n      : (selectedElem.style.display = \"block\");\n  };\n\n  const giphyClick = async (gif, e) => {\n    e.preventDefault();\n    document.getElementById(\"post-img-div\").style.display = \"none\";\n    document.getElementById(\"post-gif-div\").style.display = \"block\";\n    const { data } = await gf.gif(gif.id);\n    const formData = {\n      ...props.formData,\n      gif: data.images.preview_webp.url,\n    };\n    props.setFormData(formData);\n    document.getElementById(\"post-button\").disabled = isNull(formData);\n  };\n\n  const isNull = (data) => {\n    for (var key in data) {\n      if (data[key] !== null && data[key] !== \"\" && data[key].length !== 0) {\n        var flag = 1;\n        break;\n      }\n    }\n    if (flag === 1) {\n      return false;\n    }\n    return true;\n  };\n\n  return (\n    <div>\n      <Modal\n        show={props.ShowCreateComment}\n        onHide={props.handleCloseCreateComment}\n        {...props}\n        size=\"md\"\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered\n      >\n        <Modal.Header\n          closeButton\n          style={{\n            backgroundColor: \"#333333\",\n            borderBottom: \"1px solid black\",\n          }}\n        >\n          <Modal.Title>\n            {props.type === \"post\" ? \"Write a Comment\" : \"Write Your Reply\"}\n          </Modal.Title>\n        </Modal.Header>\n\n        <Modal.Body\n          style={{\n            backgroundColor: \"#333333\",\n          }}\n        >\n          <Alert\n            variant={\"danger\"}\n            style={{ display: \"none\" }}\n            id=\"post-alert\"\n          ></Alert>\n\n          <div id=\"post-profile-div\">\n            <img\n              src={localStorage.getItem(\"imageUri\")}\n              alt=\"profile\"\n              style={{ border: \"1px solid white\" }}\n            />\n            &emsp;\n            <span>\n              <strong>\n                {localStorage.getItem(\"f_name\") +\n                  \" \" +\n                  localStorage.getItem(\"l_name\")}\n              </strong>\n            </span>\n          </div>\n\n          <Form onChange={handleChange} onSubmit={CreatePostOrComment}>\n            <FormGroup style={{ margin: \"0\" }}>\n              <Form.Control\n                plaintext\n                as=\"textarea\"\n                rows=\"3\"\n                placeholder={\n                  props.type === \"post\"\n                    ? \"Type your comment here...\"\n                    : \"Type your reply here...\"\n                }\n                id=\"text\"\n                name=\"text\"\n                style={{ resize: \"none\", color: \"white\" }}\n              />\n            </FormGroup>\n\n            <FormGroup style={{ margin: \"0\" }}>\n              <Form.File\n                id=\"post-pic-upload\"\n                custom\n                style={{ display: \"none\" }}\n              >\n                <Form.File.Input\n                  name=\"img\"\n                  multiple\n                  onChange={uploadPicInputStyling}\n                />\n              </Form.File>\n            </FormGroup>\n\n            <div id=\"post-img-div\">\n              <i\n                className=\"material-icons\"\n                onClick={() => {\n                  document.getElementById(\"post-pic-upload\").value = \"\";\n                  document.getElementById(\"post-img-div\").style.display =\n                    \"none\";\n                  const data = {\n                    ...props.formData,\n                    img: [],\n                  };\n                  props.setFormData(data);\n                  document.getElementById(\"post-button\").disabled = isNull(\n                    data\n                  );\n                  document.getElementById(\n                    \"post-img-div\"\n                  ).childNodes[1].innerHTML = \"\";\n                }}\n              >\n                {\" \"}\n                remove_circle\n              </i>\n              <div></div>\n            </div>\n\n            <div id=\"post-gif-div\">\n              {props.formData !== undefined && (\n                <img src={props.formData[\"gif\"]} alt=\"gif\" />\n              )}\n              <i\n                className=\"material-icons\"\n                onClick={() => {\n                  const data = {\n                    ...props.formData,\n                    gif: null,\n                  };\n                  props.setFormData(data);\n                  document.getElementById(\"post-button\").disabled = isNull(\n                    data\n                  );\n                  document.getElementById(\"post-gif-div\").style.display =\n                    \"none\";\n                }}\n              >\n                {\" \"}\n                remove_circle\n              </i>\n            </div>\n\n            <Button\n              variant=\"secondary\"\n              type=\"submit\"\n              id=\"post-button\"\n              style={{ width: \"100%\" }}\n              disabled={true}\n            >\n              <strong>\n                {props.type === \"post\" ? \"Post Comment\" : \"Post Reply\"}\n              </strong>\n              &emsp;\n              <Spinner\n                animation=\"border\"\n                variant=\"dark\"\n                size=\"sm\"\n                id=\"post-spinner\"\n                style={{ display: \"none\" }}\n              />\n            </Button>\n          </Form>\n        </Modal.Body>\n\n        <Modal.Footer\n          id=\"post-footer\"\n          style={{\n            backgroundColor: \"#333333\",\n            borderTop: \"1px solid black\",\n          }}\n        >\n          <strong style={{ justifySelf: \"left\" }}>\n            Add to your {props.type === \"post\" ? \"Comment\" : \"Reply\"}\n          </strong>\n          <Button variant={\"light\"} title=\"Upload image\">\n            <i\n              className=\"material-icons\"\n              onClick={() => {\n                props.setFormData({\n                  ...props.formData,\n                  gif: null,\n                });\n                document.getElementById(\"post-pic-upload\").click();\n              }}\n            >\n              image\n            </i>\n          </Button>\n\n          <Button variant={\"light\"}>\n            {\" \"}\n            <i\n              className=\"material-icons\"\n              onClick={() => {\n                props.setFormData({\n                  ...props.formData,\n                  img: [],\n                });\n                gifOrEmojiClick(\"gif\");\n              }}\n            >\n              gif\n            </i>\n          </Button>\n\n          <Button\n            variant={\"light\"}\n            onClick={() => {\n              props.setFormData({\n                ...props.formData,\n                img: [],\n              });\n              gifOrEmojiClick(\"emoji\");\n            }}\n          >\n            <span>&#128516;</span>{\" \"}\n          </Button>\n\n          <div id=\"post-emoji-select\">\n            {\" \"}\n            <Grid\n              width={\n                window.matchMedia(\"(max-width: 480px)\").matches ? 250 : 450\n              }\n              columns={window.matchMedia(\"(max-width: 480px)\").matches ? 2 : 3}\n              fetchGifs={fetchEmojis}\n              hideAttribution={true}\n              onGifClick={(data, e) => giphyClick(data, e)}\n            />\n          </div>\n          <div id=\"post-gif-select\">\n            {\" \"}\n            <Grid\n              width={\n                window.matchMedia(\"(max-width: 480px)\").matches ? 250 : 450\n              }\n              columns={window.matchMedia(\"(max-width: 480px)\").matches ? 2 : 3}\n              fetchGifs={fetchGifs}\n              hideAttribution={true}\n              onGifClick={(data, e) => giphyClick(data, e)}\n            />\n          </div>\n        </Modal.Footer>\n      </Modal>\n    </div>\n  );\n}\n\nexport default CreateComment;\n","import React from \"react\";\nimport { Modal, Col, Row } from \"react-bootstrap\";\n\nfunction ShareModal(props) {\n  const styleShareButton = {\n    color: \"white\",\n    border: \"1px solid black\",\n    padding: \"1vh 1vw\",\n    backgroundColor: \"#444444\",\n  };\n  return (\n    <Modal show={props.show} onHide={props.handleClose}>\n      <Modal.Header\n        closeButton\n        style={{\n          backgroundColor: \"#333333\",\n          borderBottom: \"1px solid black\",\n        }}\n      >\n        <Modal.Title>Share Post</Modal.Title>\n      </Modal.Header>\n\n      <Modal.Body\n        style={{\n          backgroundColor: \"#333333\",\n        }}\n      >\n        <Row>\n          <Col>\n            <a\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              href={\n                \"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fchat-app-by-sanjay.herokuapp.com%2Fuser%2Fpost%2F\" +\n                props.postId +\n                \"&amp;src=sdkpreparse\"\n              }\n              class=\"fb-xfbml-parse-ignore\"\n              style={styleShareButton}\n            >\n              FaceBook\n            </a>\n          </Col>\n          <Col>\n            <a\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              class=\"twitter-share-button\"\n              href={\n                \"https://twitter.com/intent/tweet?url=https%3A%2F%2Fchat-app-by-sanjay.herokuapp.com%2Fuser%2Fpost%2F\" +\n                props.postId\n              }\n              style={styleShareButton}\n            >\n              Twitter\n            </a>\n          </Col>\n          <Col>\n            <a\n              href={\n                \"https://api.whatsapp.com/send?text=https%3A%2F%2Fchat-app-by-sanjay.herokuapp.com%2Fuser%2Fpost%2F\" +\n                props.postId\n              }\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              style={styleShareButton}\n            >\n              Whatsapp\n            </a>\n          </Col>\n        </Row>\n      </Modal.Body>\n    </Modal>\n  );\n}\n\nexport default ShareModal;\n","import React, { useState } from \"react\";\nimport CreateComment from \"./CreateComment\";\nimport { likeSharePost } from \"./functions\";\nimport moment from \"moment\";\nimport { useContext } from \"react\";\nimport Context from \"./Context\";\nimport { Spinner } from \"react-bootstrap\";\nimport { useHistory } from \"react-router-dom\";\nimport ShareModal from \"./ShareModal\";\n\nfunction Posts(props) {\n  const ctx = useContext(Context);\n  const history = useHistory();\n\n  const [show, setShow] = useState({ show: false, postId: \"\" });\n  const handleShow = (id) => setShow({ postId: id, show: true });\n  const handleClose = () => setShow({ postId: \"\", show: false });\n\n  const handleCloseCreateComment = () => {\n    ctx.dispatch({\n      type: \"setFormDataForComments\",\n      payload: {\n        text: null,\n        img: [],\n        gif: null,\n        postId: null,\n      },\n    });\n    ctx.dispatch({ type: \"setShowCreateComment\", payload: false });\n  };\n  const handleShowCreateComment = (e) => {\n    ctx.dispatch({\n      type: \"setFormDataForComments\",\n      payload: {\n        text: null,\n        img: [],\n        gif: null,\n        postId: e.target.id,\n      },\n    });\n    ctx.dispatch({ type: \"setShowCreateComment\", payload: true });\n  };\n\n  const setFormDataForComments = (data) =>\n    ctx.dispatch({ type: \"setFormDataForComments\", payload: data });\n\n  return (\n    <div id=\"home-posts\">\n      {props.type === \"home\" ? (\n        window.matchMedia(\"(max-width: 480px)\").matches ? (\n          <div id=\"home-profile-div\">\n            <img\n              src={localStorage.getItem(\"imageUri\")}\n              alt=\"profile pic\"\n              onClick={() =>\n                props.history.push(\n                  \"/user/profile/\" + localStorage.getItem(\"username\")\n                )\n              }\n            />\n            <p>\n              <strong> Home</strong>\n            </p>\n          </div>\n        ) : (\n          <h2>Home</h2>\n        )\n      ) : (\n        \"\"\n      )}\n      <div id={props.type === \"home\" ? \"home-div-posts\" : \"\"}>\n        {props.posts === undefined ? (\n          <div style={{ width: \"20%\", margin: \"2vh auto\" }}>\n            <Spinner animation=\"border\" variant=\"light\" size=\"md\" />\n          </div>\n        ) : props.posts.length > 0 ? (\n          props.posts.map((post) => (\n            <div key={post._id} className=\"user_posts\">\n              <img\n                src={post.user_id.imageUri}\n                alt=\"pic\"\n                id=\"user-post-img\"\n                onClick={() =>\n                  history.push(\n                    \"/user/profile/\" + post.user_id.username.split(\"@\")[1]\n                  )\n                }\n              />\n              <div id=\"post_detail\">\n                <p\n                  id=\"post-user-detail\"\n                  onClick={() =>\n                    history.push(\n                      \"/user/profile/\" + post.user_id.username.split(\"@\")[1]\n                    )\n                  }\n                >\n                  <strong>\n                    {post.user_id.f_name + \" \" + post.user_id.l_name}\n                  </strong>\n                  &ensp;\n                  <span>\n                    {post.user_id.username}\n                    {window.matchMedia(\"(max-width: 480px)\").matches ? (\n                      <br />\n                    ) : (\n                      \" · \"\n                    )}\n                    {new Date() - new Date(post.date) < 3600 * 12 * 1000\n                      ? moment(post.date).fromNow()\n                      : new Date(post.date).toLocaleDateString(\"en-US\", {\n                          day: \"numeric\",\n                          month: \"short\",\n                        })}\n                  </span>\n                </p>\n                <div\n                  onClick={() => props.history.push(\"/user/post/\" + post._id)}\n                >\n                  {post.postText !== \"null\" && post.postText}\n\n                  {post.postImg.length > 0 && (\n                    <div id=\"post-images\">\n                      {post.postImg.length > 1 && (\n                        <div id=\"overlayOnImage\">\n                          <h1>+{post.postImg.length - 1} more</h1>\n                        </div>\n                      )}\n                      <img src={post.postImg[0]} alt=\"\" />\n                    </div>\n                  )}\n                  {[null, undefined].indexOf(post.postVideo) === -1 && (\n                    <div id=\"post-images\">\n                      <video src={post.postVideo} controls />\n                    </div>\n                  )}\n                  {[null, undefined].indexOf(post.embedLink) === -1 && (\n                    <iframe\n                      title=\"Youtube Video\"\n                      src={\"https://www.youtube.com/embed/\" + post.embedLink}\n                    ></iframe>\n                  )}\n                </div>\n                <div id=\"like-share\">\n                  <span>\n                    <i\n                      className=\"material-icons\"\n                      onClick={(e) => likeSharePost(e, \"like\", \"posts\")}\n                      id={post._id}\n                      style={{\n                        color:\n                          post.likes.indexOf(localStorage.getItem(\"id\")) === -1\n                            ? \"lightgray\"\n                            : \"skyblue\",\n                      }}\n                    >\n                      thumb_up\n                    </i>\n                    &emsp;\n                    {post.likes.length}\n                  </span>\n                  <span onClick={() => handleShow(post._id)}>\n                    <i\n                      className=\"material-icons\"\n                      // onClick={(e) => likeSharePost(e, \"share\", \"posts\")}\n                      id={post._id}\n                      // style={{\n                      //   color:\n                      //     post.shares.indexOf(localStorage.getItem(\"id\")) === -1\n                      //       ? \"lightgray\"\n                      //       : \"skyblue\",\n                      // }}\n                    >\n                      {\" \"}\n                      share\n                    </i>\n                    &ensp;\n                    {/* {post.shares.length} */}\n                    Share\n                  </span>\n                  <span>\n                    <i\n                      className=\"material-icons\"\n                      onClick={handleShowCreateComment}\n                      id={post._id}\n                    >\n                      {\" \"}\n                      message\n                    </i>{\" \"}\n                    &ensp;\n                    {post.comments.length}\n                  </span>\n                </div>\n              </div>\n            </div>\n          ))\n        ) : props.type === \"home\" ? (\n          <h2 style={{ textAlign: \"center\" }}>\n            No Posts to show... <br />\n            Please follow some peoples...\n          </h2>\n        ) : (\n          \"\"\n        )}\n        <CreateComment\n          {...props}\n          setFormData={setFormDataForComments}\n          formData={ctx.formDataForComments}\n          handleCloseCreateComment={handleCloseCreateComment}\n          ShowCreateComment={ctx.ShowCreateComment}\n          type=\"post\"\n        />\n        <ShareModal\n          {...props}\n          show={show.show}\n          handleClose={handleClose}\n          postId={show.postId}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default Posts;\n","import React, { useEffect, useContext } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport Posts from \"./Posts\";\nimport Context from \"./Context\";\n\nfunction UserPosts(props) {\n  const ctx = useContext(Context);\n\n  const { id } = useParams();\n  const history = useHistory();\n\n  const setPostsObject = (data) =>\n    ctx.dispatch({\n      type: \"setPostsObject\",\n      payload: data,\n    });\n\n  useEffect(() => {\n    getPosts();\n  }, [id]);\n\n  const getPosts = () => {\n    const myheaders = new Headers();\n    myheaders.append(\n      \"Authorization\",\n      \"Bearer \" + localStorage.getItem(\"token\")\n    );\n    fetch(\"/users/profile/\" + id + \"/posts\", {\n      method: \"get\",\n      headers: myheaders,\n    })\n      .then((res) => res.json())\n      .then(async (details) => {\n        if (details.saved === \"success\") {\n          details.posts.sort((a, b) => new Date(b.date) - new Date(a.date));\n          await setPostsObject(details);\n        }\n      });\n  };\n\n  return (\n    <Posts\n      {...props}\n      type=\"user\"\n      history={history}\n      posts={ctx.postsObject.posts}\n    />\n  );\n}\n\nexport default UserPosts;\n","import React, { useEffect, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport avtar from \"../images/avtar.png\";\nimport {\n  Modal,\n  Alert,\n  Form,\n  Button,\n  Row,\n  Col,\n  FormGroup,\n  Spinner,\n} from \"react-bootstrap\";\nimport { useParams } from \"react-router-dom\";\nimport UserPosts from \"./userPosts\";\nimport Context from \"./Context\";\nimport { errorDisplay } from \"./functions\";\n\nfunction Profile(props) {\n  const ctx = useContext(Context);\n  const history = useHistory();\n\n  const setShowEditProfile = (data) =>\n    ctx.dispatch({ type: \"setShowEditProfile\", payload: data });\n\n  const handleCloseEditProfile = () => setShowEditProfile(false);\n  const handleShowEditProfile = () => setShowEditProfile(true);\n\n  const setShowEditProfilePic = (data) =>\n    ctx.dispatch({ type: \"setShowEditProfilePic\", payload: data });\n\n  const handleCloseEditProfilePic = () => setShowEditProfilePic(false);\n  const handleShowEditProfilePic = () => setShowEditProfilePic(true);\n\n  const setShowEditProfileCoverPic = (data) =>\n    ctx.dispatch({ type: \"setShowEditProfileCoverPic\", payload: data });\n\n  const handleCloseEditProfileCoverPic = () =>\n    setShowEditProfileCoverPic(false);\n  const handleShowEditProfileCoverPic = () => setShowEditProfileCoverPic(true);\n\n  const setEditProfile = (data) =>\n    ctx.dispatch({ type: \"setEditProfile\", payload: data });\n\n  var { id } = useParams();\n\n  useEffect(() => {\n    document.title = \"InstaChat - Profile\";\n    if (\n      ctx.profile.username === undefined ||\n      ctx.profile.username.split(\"@\")[1] !== id\n    )\n      getProfile();\n  }, [id]);\n\n  const getProfile = () => {\n    const myheaders = new Headers();\n    myheaders.append(\n      \"Authorization\",\n      \"Bearer \" + localStorage.getItem(\"token\")\n    );\n    myheaders.append(\"content-type\", \"application/json\");\n    fetch(\"/users/profile/\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        username: \"@\" + id,\n      }),\n      headers: myheaders,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        ctx.dispatch({ type: \"loadProfileComponent\", payload: data.details });\n        if (document.querySelector(\".follow-button\") !== null) {\n          document.querySelector(\".follow-button\").innerHTML =\n            data.details.followers.indexOf(data.id) === -1\n              ? \"Follow\"\n              : \"Following\";\n        }\n      });\n  };\n\n  const handleChange = (e) => {\n    const name = e.target.name;\n    const value = e.target.value;\n    setEditProfile({ ...ctx.editProfile, [name]: value });\n  };\n\n  const updateProfile = (e) => {\n    e.preventDefault();\n    const payload = {\n      ...ctx.editProfile,\n    };\n    const myheaders = new Headers();\n    myheaders.append(\n      \"Authorization\",\n      \"Bearer \" + localStorage.getItem(\"token\")\n    );\n    myheaders.append(\"content-type\", \"application/json\");\n    fetch(\"/users/update\", {\n      method: \"Post\",\n      body: JSON.stringify(payload),\n      headers: myheaders,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.saved === \"success\") {\n          const alert = document.getElementById(\"edit-alert\");\n          alert.className = \"fade alert alert-success show\";\n          alert.style.display = \"block\";\n          alert.innerHTML = \"Your details had been saved...\";\n          id = ctx.editProfile.username;\n          localStorage.setItem(\"username\", ctx.editProfile.username);\n          setTimeout(() => {\n            handleCloseEditProfile();\n          }, 2000);\n          history.push(\"/user/profile/\" + id); //used to update the url as well as call getProfile\n        } else {\n          errorDisplay(data, \"edit-alert\");\n        }\n      });\n  };\n\n  const followHandler = (e) => {\n    e.preventDefault();\n    const myheaders = new Headers();\n    myheaders.append(\n      \"Authorization\",\n      \"Bearer \" + localStorage.getItem(\"token\")\n    );\n    fetch(\"/users/profile/\" + id + \"/follow\", {\n      method: \"get\",\n      headers: myheaders,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.saved === \"success\") {\n          getProfile();\n        }\n      });\n  };\n\n  const uploadPic = (e, type) => {\n    e.preventDefault();\n    document.getElementById(\"upload-\" + type + \"-button\").disabled = true;\n    document.getElementById(type + \"-upload-spinner\").style.display =\n      \"inline-block\";\n    const fileInput = e.target[0].files[0];\n    const formData = new FormData();\n    formData.append(\"image\", fileInput);\n    const myheaders = new Headers();\n    myheaders.append(\n      \"Authorization\",\n      \"Bearer \" + localStorage.getItem(\"token\")\n    );\n    fetch(\"/users/profile/upload/\" + type, {\n      method: \"post\",\n      body: formData,\n      headers: myheaders,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.saved === \"success\") {\n          if (type === \"profile\") {\n            handleCloseEditProfilePic();\n          } else {\n            handleCloseEditProfileCoverPic();\n          }\n          getProfile();\n        }\n      });\n  };\n\n  const uploadPicInputStyling = (e, type) => {\n    document.getElementById(type + \"-pic-upload\").className =\n      \"custom-file-input \" +\n      (e.target.files[0].type === \"image/png\"\n        ? \"is-valid\"\n        : e.target.files[0].type === \"image/jpeg\"\n        ? \"is-valid\"\n        : \"is-invalid\");\n    document.getElementById(type + \"-pic-upload-label\").innerHTML =\n      e.target.files[0].name;\n    document.getElementById(\"upload-\" + type + \"-button\").disabled =\n      document.getElementById(type + \"-pic-upload\").className.split(\" \")[1] ===\n      \"is-valid\"\n        ? false\n        : true;\n  };\n\n  const signOut = () => {\n    const myheaders = new Headers();\n    myheaders.append(\n      \"Authorization\",\n      \"Bearer \" + localStorage.getItem(\"token\")\n    );\n    fetch(\"/users/signOut\", { method: \"post\", headers: myheaders }).then(() => {\n      localStorage.clear();\n      history.push(\"/login\");\n    });\n  };\n\n  return ctx.isFetchingPosts === true ? (\n    <div style={{ width: \"20%\", margin: \"2vh auto\" }}>\n      <Spinner animation=\"border\" variant=\"light\" size=\"md\" />\n    </div>\n  ) : (\n    <div>\n      <div id=\"profile-head\">\n        <div>\n          <strong>{ctx.profile.f_name + \" \" + ctx.profile.l_name}</strong>\n          <br />\n          {ctx.profile.posts && ctx.profile.posts.length} Tweets\n        </div>\n        <i className=\"material-icons\" title=\"sign out\" onClick={signOut}>\n          list\n        </i>\n      </div>\n      <div id=\"profile-body\">\n        {ctx.profile.coverImageUri === null ? (\n          <div\n            id=\"cover-image\"\n            onClick={\n              localStorage.getItem(\"username\") === id\n                ? handleShowEditProfileCoverPic\n                : \"\"\n            }\n          />\n        ) : (\n          <img\n            id=\"cover-image\"\n            src={ctx.profile.coverImageUri}\n            alt=\"cover\"\n            onClick={\n              localStorage.getItem(\"username\") === id\n                ? handleShowEditProfileCoverPic\n                : () => {\n                    document.getElementById(\"overlay-pics\").style.display =\n                      \"block\";\n\n                    ctx.dispatch({\n                      type: \"setOverlayPicSrc\",\n                      payload: ctx.profile.coverImageUri,\n                    });\n                  }\n            }\n          />\n        )}\n        {ctx.profile.imageUri === null ? (\n          <img\n            src={avtar}\n            alt=\"no profile\"\n            id=\"profile-pic\"\n            onClick={\n              localStorage.getItem(\"username\") === id\n                ? handleShowEditProfilePic\n                : \"\"\n            }\n          />\n        ) : (\n          <img\n            src={ctx.profile.imageUri}\n            alt=\"profile\"\n            id=\"profile-pic\"\n            onClick={\n              localStorage.getItem(\"username\") === id\n                ? handleShowEditProfilePic\n                : () => {\n                    document.getElementById(\"overlay-pics\").style.display =\n                      \"block\";\n\n                    ctx.dispatch({\n                      type: \"setOverlayPicSrc\",\n                      payload: ctx.profile.imageUri,\n                    });\n                  }\n            }\n          />\n        )}\n\n        <div id=\"profile-div\">\n          <div\n            style={{\n              justifySelf: \"right\",\n              padding: \"0\",\n              alignItems: \"center\",\n            }}\n          >\n            {localStorage.getItem(\"username\") === id ? (\n              <button\n                id=\"button\"\n                className=\"edit-button\"\n                onClick={handleShowEditProfile}\n              >\n                Edit Profile\n              </button>\n            ) : (\n              <button\n                id=\"button\"\n                className=\"follow-button\"\n                onClick={followHandler}\n              >\n                Follow\n              </button>\n            )}\n          </div>\n          <div>\n            &nbsp;\n            <strong>{ctx.profile.f_name + \" \" + ctx.profile.l_name}</strong>\n            <br />\n            &nbsp;\n            <span>{ctx.profile.username}</span>\n          </div>\n          <div>{ctx.profile.bio}</div>\n          <div>\n            <span>\n              <i className=\"material-icons\">location_on</i>\n              {ctx.profile.location + \" \"}&nbsp;\n              <i className=\"material-icons\"> date_range</i>{\" \"}\n              {\" Joined \" +\n                new Date(ctx.profile.join_date).toLocaleDateString(\"en-US\", {\n                  month: \"long\",\n                  year: \"numeric\",\n                })}\n            </span>\n          </div>\n          <div>\n            &nbsp;\n            <strong>\n              {(ctx.profile.following === undefined\n                ? 0\n                : ctx.profile.following.length) + \" \"}\n            </strong>{\" \"}\n            <span>Following</span>\n            &emsp;\n            <strong>\n              {\" \" +\n                (ctx.profile.followers === undefined\n                  ? 0\n                  : ctx.profile.followers.length) +\n                \" \"}\n            </strong>\n            <span>Followers</span>\n          </div>\n          <div style={{ justifySelf: \"center\", padding: \"0\" }}>\n            <strong>Tweets</strong>{\" \"}\n          </div>\n        </div>\n\n        <div>\n          <UserPosts />\n        </div>\n\n        <div\n          id=\"overlay-pics\"\n          onClick={() => {\n            document.getElementById(\"overlay-pics\").style.display = \"none\";\n            ctx.dispatch({\n              type: \"setOverlayPicSrc\",\n              payload: \"\",\n            });\n          }}\n        >\n          <img src={ctx.overlayPicSrc} alt=\"large size pic\" />\n        </div>\n        <Modal\n          show={ctx.showEditProfile}\n          onHide={handleCloseEditProfile}\n          {...props}\n          size=\"md\"\n          aria-labelledby=\"contained-modal-title-vcenter\"\n          centered\n          backdrop=\"static\"\n          keyboard={false}\n        >\n          <Modal.Header\n            closeButton={ctx.profile.username === \"\" ? false : true}\n            style={{\n              backgroundColor: \"#333333\",\n              borderBottom: \"1px solid black\",\n            }}\n          >\n            <Modal.Title>Edit Profile</Modal.Title>\n          </Modal.Header>\n          <Modal.Body\n            style={{\n              backgroundColor: \"#333333\",\n            }}\n          >\n            <Alert\n              variant={\"danger\"}\n              style={{ display: \"none\" }}\n              id=\"edit-alert\"\n            ></Alert>\n            <Form onSubmit={updateProfile}>\n              <Row>\n                <Col>\n                  <Form.Group controlId=\"formBasicFirstName\">\n                    <Form.Label>First Name</Form.Label>\n                    <Form.Control\n                      type=\"text\"\n                      placeholder=\"Enter First Name\"\n                      name=\"f_name\"\n                      required={true}\n                      onChange={handleChange}\n                      value={ctx.editProfile.f_name}\n                    />\n                  </Form.Group>\n                </Col>\n                <Col>\n                  <Form.Group controlId=\"formBasicLastName\">\n                    <Form.Label>Last Name</Form.Label>\n                    <Form.Control\n                      type=\"text\"\n                      placeholder=\"Enter Last Name\"\n                      name=\"l_name\"\n                      required={true}\n                      onChange={handleChange}\n                      value={ctx.editProfile.l_name}\n                    />\n                  </Form.Group>\n                </Col>\n              </Row>\n              <Form.Group controlId=\"formBasicUsername\">\n                <Form.Label>Username</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  placeholder=\"Enter Username\"\n                  name=\"username\"\n                  required={true}\n                  onChange={handleChange}\n                  value={ctx.editProfile.username}\n                />\n              </Form.Group>\n\n              <Form.Group controlId=\"formBasicBio\">\n                <Form.Label>Bio</Form.Label>\n                <Form.Control\n                  type=\"bio\"\n                  placeholder=\"Add Your Bio\"\n                  name=\"bio\"\n                  required={true}\n                  onChange={handleChange}\n                  value={ctx.editProfile.bio}\n                />\n              </Form.Group>\n\n              <Form.Group controlId=\"formBasicLocation\">\n                <Form.Label>Location</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  placeholder=\"Add Your location\"\n                  name=\"location\"\n                  required={true}\n                  onChange={handleChange}\n                  value={ctx.editProfile.location}\n                />\n              </Form.Group>\n              <Button variant=\"secondary\" type=\"submit\" id=\"login-button\">\n                Save\n              </Button>\n            </Form>\n          </Modal.Body>\n        </Modal>\n\n        <Modal\n          show={ctx.showEditProfilePic}\n          onHide={handleCloseEditProfilePic}\n          {...props}\n          size=\"md\"\n          aria-labelledby=\"contained-modal-title-vcenter\"\n          centered\n          backdrop=\"static\"\n        >\n          <Modal.Header\n            closeButton\n            style={{\n              backgroundColor: \"#333333\",\n              borderBottom: \"1px solid black\",\n            }}\n          >\n            <Modal.Title>Update Profile Pic</Modal.Title>\n          </Modal.Header>\n          <Modal.Body\n            style={{\n              backgroundColor: \"#333333\",\n            }}\n          >\n            <Form onSubmit={(e) => uploadPic(e, \"profile\")}>\n              <FormGroup>\n                <Form.File id=\"profile-pic-upload\" custom>\n                  <Form.File.Input\n                    onChange={(e) => uploadPicInputStyling(e, \"profile\")}\n                  />\n                  <Form.File.Label\n                    data-browse=\"Browse\"\n                    id=\"profile-pic-upload-label\"\n                  >\n                    Choose Your Pic\n                  </Form.File.Label>\n                  <Form.Control.Feedback type=\"invalid\">\n                    wrong file format (only .jpg and .png allowed)\n                  </Form.Control.Feedback>\n                </Form.File>\n              </FormGroup>\n              <Button\n                variant=\"secondary\"\n                type=\"submit\"\n                id=\"upload-profile-button\"\n                disabled\n              >\n                Upload\n              </Button>\n              &emsp;\n              <Spinner\n                animation=\"border\"\n                variant=\"primary\"\n                size=\"sm\"\n                id=\"profile-upload-spinner\"\n                style={{ display: \"none\" }}\n              />\n            </Form>\n          </Modal.Body>\n        </Modal>\n\n        <Modal\n          show={ctx.showEditProfileCoverPic}\n          onHide={handleCloseEditProfileCoverPic}\n          {...props}\n          size=\"md\"\n          aria-labelledby=\"contained-modal-title-vcenter\"\n          centered\n          backdrop=\"static\"\n        >\n          <Modal.Header\n            closeButton\n            style={{\n              backgroundColor: \"#333333\",\n              borderBottom: \"1px solid black\",\n            }}\n          >\n            <Modal.Title>Update Profile Cover</Modal.Title>\n          </Modal.Header>\n          <Modal.Body\n            style={{\n              backgroundColor: \"#333333\",\n            }}\n          >\n            <Form onSubmit={(e) => uploadPic(e, \"profile-cover\")}>\n              <FormGroup>\n                <Form.File id=\"profile-cover-pic-upload\" custom>\n                  <Form.File.Input\n                    onChange={(e) => uploadPicInputStyling(e, \"profile-cover\")}\n                  />\n                  <Form.File.Label\n                    data-browse=\"Browse\"\n                    id=\"profile-cover-pic-upload-label\"\n                  >\n                    Choose Your Pic\n                  </Form.File.Label>\n                  <Form.Control.Feedback type=\"invalid\">\n                    wrong file format (only .jpg and .png allowed)\n                  </Form.Control.Feedback>\n                </Form.File>\n              </FormGroup>\n              <Button\n                variant=\"secondary\"\n                type=\"submit\"\n                id=\"upload-profile-cover-button\"\n                disabled\n              >\n                Upload\n              </Button>\n              &emsp;\n              <Spinner\n                animation=\"border\"\n                variant=\"primary\"\n                size=\"sm\"\n                id=\"profile-cover-upload-spinner\"\n                style={{ display: \"none\" }}\n              />\n            </Form>\n          </Modal.Body>\n        </Modal>\n      </div>{\" \"}\n    </div>\n  );\n}\n\nexport default Profile;\n","import React, { useContext, useEffect } from \"react\";\nimport Context from \"./Context\";\nimport { Modal, Toast } from \"react-bootstrap\";\nimport { GiphyFetch } from \"@giphy/js-fetch-api\";\nimport { Grid } from \"@giphy/react-components\";\nimport moment from \"moment\";\nimport { useParams, Link } from \"react-router-dom\";\nimport io from \"socket.io-client\";\nimport { useState } from \"react\";\nimport { v4 } from \"uuid\";\nconst ENDPOINT = \"wss://chat-app-by-sanjay.herokuapp.com\";\nconst socket = io(ENDPOINT);\n\nexport function MessagesLeft(props) {\n  const ctx = useContext(Context);\n  const { id } = useParams();\n\n  const [msg, setMsg] = useState({});\n  const [typing, setTyping] = useState(false);\n  useEffect(() => {\n    ctx.dispatch({ type: \"appendMessages\", payload: [msg] });\n  }, [msg]);\n\n  useEffect(() => {\n    const elem = document.getElementById(\"msg-box-msgs\");\n    elem.scrollTop = elem.scrollHeight;\n  }, [ctx.messages]);\n\n  const gf = new GiphyFetch(process.env.REACT_APP_GIPHY_API_KEY);\n  const fetchEmojis = (offset) => gf.emoji({ offset, limit: 10 });\n\n  const handleCloseShowGifsForMsg = () =>\n    ctx.dispatch({ type: \"setShowGifsForMsg\", payload: false });\n  const handleShowGifsForMsg = () =>\n    ctx.dispatch({ type: \"setShowGifsForMsg\", payload: true });\n\n  socket.on(\"newMsg\", (data) =>\n    JSON.stringify(msg) !== JSON.stringify(data) ? setMsg(data) : \"\"\n  );\n\n  socket.on(\"sent\", ({ uuid, senderId }) => {\n    if (senderId.toString() === localStorage.getItem(\"id\").toString())\n      for (let i = ctx.messages.length - 1; i >= 0; i--) {\n        if (ctx.messages[i].uuid !== undefined) {\n          if (ctx.messages[i].uuid === uuid) {\n            ctx.dispatch({ type: \"editMessage\", payload: i });\n            break;\n          }\n        }\n      }\n  });\n\n  socket.on(\"typing\", () => {\n    setTyping(true);\n  });\n\n  socket.on(\"stopped\", () => {\n    setTyping(false);\n  });\n\n  useEffect(() => {\n    document.title = \"InstaChat - Messages\";\n    socket.emit(\"join\", id);\n    getMessages(id);\n    document.getElementById(\"tweet-button-phone\").style.display = \"none\";\n    return () => {\n      socket.emit(\"leaveRoom\", id);\n      if (window.matchMedia(\"(max-width: 480px)\").matches) {\n        document.getElementById(\"tweet-button-phone\").style.display = \"block\";\n      }\n    };\n  }, [id]);\n\n  const getMessages = (id) => {\n    const myheaders = new Headers();\n    myheaders.append(\n      \"Authorization\",\n      \"Bearer \" + localStorage.getItem(\"token\")\n    );\n    myheaders.append(\"content-type\", \"application/json\");\n    fetch(\"/users/messages/\" + id, {\n      method: \"get\",\n      headers: myheaders,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.saved === \"success\") {\n          ctx.dispatch({\n            type: \"setMessages\",\n            payload: {\n              msgs: data.msgs,\n              user:\n                data.user1._id === localStorage.getItem(\"id\")\n                  ? data.user2\n                  : data.user1,\n            },\n          });\n          const elem = document.getElementById(\"msg-box-msgs\");\n          elem.scrollTop = elem.scrollHeight;\n        }\n      });\n  };\n\n  const sendMessage = (name, value) => {\n    const elem = document.getElementById(\"msg-box-msgs\");\n    elem.scrollTop = elem.scrollHeight;\n    const msg = {\n      uuid: v4(),\n      sent: false,\n      senderId: localStorage.getItem(\"id\"),\n      [name]: value,\n      sent_time: Date.now(),\n    };\n    ctx.dispatch({ type: \"appendMessages\", payload: [msg] });\n    socket.emit(\"message\", { msg: msg, roomId: id });\n  };\n\n  const sendGiphy = async (gif, e) => {\n    e.preventDefault();\n    const { data } = await gf.gif(gif.id);\n    sendMessage(\"gif\", data.images.preview_webp.url);\n    handleCloseShowGifsForMsg();\n  };\n\n  const sendImage = (e) => {\n    const file = e.target.files[0];\n    const alert = document.getElementById(\"alert\");\n    const alertBody = document.querySelector(\".toast-body\");\n    if (file.type !== \"image/jpeg\" && file.type !== \"image/png\") {\n      alertBody.innerHTML = \"Only jpeg and png files allowed...\";\n      alert.className = \"fade toast show\";\n      setInterval(() => (alert.className = \"fade toast\"), 5000);\n      e.target.value = \"\";\n    } else {\n      const reader = new FileReader();\n      var msg;\n      reader.onload = (e) => {\n        msg = {\n          uuid: v4(),\n          sent: false,\n          senderId: localStorage.getItem(\"id\"),\n          image: e.target.result,\n          sent_time: Date.now(),\n        };\n        ctx.dispatch({ type: \"appendMessages\", payload: [msg] });\n      };\n      reader.readAsDataURL(file);\n\n      const form = new FormData();\n      form.append(\"image\", file);\n\n      const myheaders = new Headers();\n      myheaders.append(\n        \"Authorization\",\n        \"Bearer \" + localStorage.getItem(\"token\")\n      );\n\n      fetch(\"/users/uploadChatImage\", {\n        method: \"Post\",\n        body: form,\n        headers: myheaders,\n      })\n        .then((res) => {\n          if (!res.ok) {\n            throw new Error(\"Unable to Upload File\");\n          }\n          return res.json();\n        })\n        .then((data) => {\n          msg.image = data.link;\n          socket.emit(\"message\", { msg: msg, roomId: id });\n        })\n        .catch((err) => {\n          alertBody.innerHTML = \"Unable to Upload...\";\n          setInterval(() => (alert.className = \"fade toast\"), 5000);\n        });\n    }\n  };\n\n  const sendVideo = (e) => {\n    const file = e.target.files[0];\n    const alert = document.getElementById(\"alert\");\n    const alertBody = document.querySelector(\".toast-body\");\n    if (file.type !== \"video/mp4\") {\n      alertBody.innerHTML = \"Only MP4 files allowed...\";\n      alert.className = \"fade toast show\";\n      setInterval(() => (alert.className = \"fade toast\"), 5000);\n      e.target.value = \"\";\n    } else {\n      const reader = new FileReader();\n      var msg;\n      reader.onload = (e) => {\n        msg = {\n          uuid: v4(),\n          sent: false,\n          senderId: localStorage.getItem(\"id\"),\n          video: e.target.result,\n          sent_time: Date.now(),\n        };\n        ctx.dispatch({ type: \"appendMessages\", payload: [msg] });\n      };\n      reader.readAsDataURL(file);\n\n      const form = new FormData();\n      form.append(\"video\", file);\n\n      const myheaders = new Headers();\n      myheaders.append(\n        \"Authorization\",\n        \"Bearer \" + localStorage.getItem(\"token\")\n      );\n\n      fetch(\"/users/uploadChatVideo\", {\n        method: \"Post\",\n        body: form,\n        headers: myheaders,\n      })\n        .then((res) => {\n          if (!res.ok) {\n            throw new Error(\"Unable to Upload File\");\n          }\n          return res.json();\n        })\n        .then((data) => {\n          msg.video = data.link;\n          socket.emit(\"message\", { msg: msg, roomId: id });\n        })\n        .catch((err) => {\n          alertBody.innerHTML = \"Unable to Upload...\";\n          setInterval(() => (alert.className = \"fade toast\"), 5000);\n        });\n    }\n  };\n\n  return (\n    <div id=\"message-left\">\n      <div id=\"msg-box\">\n        <div id=\"msg-box-profile\">\n          {window.matchMedia(\"(max-width: 480px)\").matches && (\n            <Link to=\"/user/messages\">\n              <i className=\"material-icons\">arrow_back</i>\n            </Link>\n          )}\n          <img\n            src={ctx.userInfoForMsg.imageUri}\n            alt={ctx.userInfoForMsg.name + \" pic\"}\n          />\n          <div>\n            <strong>\n              {ctx.userInfoForMsg.f_name + \" \" + ctx.userInfoForMsg.l_name}\n            </strong>\n            <br />\n            <span>\n              {ctx.userInfoForMsg.username} {typing ? \"Typing...\" : \"\"}\n            </span>\n          </div>\n        </div>\n\n        <div id=\"msg-box-msgs\">\n          {ctx.messages.length > 0 &&\n            ctx.messages.map((msg) =>\n              msg.text ? (\n                <div\n                  key={msg._id || msg.uuid}\n                  className={\n                    msg.senderId === localStorage.getItem(\"id\")\n                      ? \"right\"\n                      : \"left\"\n                  }\n                >\n                  <li>\n                    {msg.text}&ensp;\n                    <span>{moment(msg.sent_time).format(\"HH:mm A\")}</span>\n                    {msg.sent === undefined ? (\n                      <i className=\"material-icons\">check</i>\n                    ) : (\n                      <i className=\"material-icons\">access_time</i>\n                    )}\n                  </li>\n                </div>\n              ) : msg.image ? (\n                <div\n                  key={msg._id || msg.uuid}\n                  className={\n                    msg.senderId === localStorage.getItem(\"id\")\n                      ? \"right\"\n                      : \"left\"\n                  }\n                >\n                  <img src={msg.image} alt=\"\" />\n                  <br />\n                  <span>{moment(msg.sent_time).format(\"HH:mm A\")}</span>\n                  {msg.sent === undefined ? (\n                    <i\n                      className=\"material-icons\"\n                      style={{\n                        position: \"absolute\",\n                        bottom: \"1vh\",\n                        right: \"1vw\",\n                      }}\n                    >\n                      check\n                    </i>\n                  ) : (\n                    <i\n                      className=\"material-icons\"\n                      style={{\n                        position: \"absolute\",\n                        bottom: \"1vh\",\n                        right: \"1vw\",\n                      }}\n                    >\n                      access_time\n                    </i>\n                  )}\n                </div>\n              ) : msg.gif ? (\n                <div\n                  key={msg._id || msg.uuid}\n                  className={\n                    msg.senderId === localStorage.getItem(\"id\")\n                      ? \"right\"\n                      : \"left\"\n                  }\n                >\n                  <span>{moment(msg.sent_time).format(\"HH:mm A\")}</span>\n                  <img src={msg.gif} alt=\"\" />\n                  {msg.sent === undefined ? (\n                    <i\n                      className=\"material-icons\"\n                      style={{\n                        position: \"absolute\",\n                        bottom: \"4vh\",\n                        right: \"1vw\",\n                      }}\n                    >\n                      check\n                    </i>\n                  ) : (\n                    <i\n                      className=\"material-icons\"\n                      style={{\n                        position: \"absolute\",\n                        bottom: \"4vh\",\n                        right: \"1vw\",\n                      }}\n                    >\n                      access_time\n                    </i>\n                  )}\n                </div>\n              ) : (\n                <div\n                  key={msg._id || msg.uuid}\n                  className={\n                    msg.senderId === localStorage.getItem(\"id\")\n                      ? \"right\"\n                      : \"left\"\n                  }\n                >\n                  <video\n                    src={msg.video}\n                    controls\n                    name=\"video\"\n                    style={{ width: \"60%\" }}\n                  />\n                  <br />\n                  <span>{moment(msg.sent_time).format(\"HH:mm A\")}</span>\n                  {msg.sent === undefined ? (\n                    <i\n                      className=\"material-icons\"\n                      style={{\n                        position: \"absolute\",\n                        top: \"1vh\",\n                        right: \"1vw\",\n                      }}\n                    >\n                      check\n                    </i>\n                  ) : (\n                    <i\n                      className=\"material-icons\"\n                      style={{\n                        position: \"absolute\",\n                        top: \"1vh\",\n                        right: \"1vw\",\n                      }}\n                    >\n                      access_time\n                    </i>\n                  )}\n                </div>\n              )\n            )}\n        </div>\n        <div id=\"msg-box-bottom-div\">\n          <i\n            className=\"material-icons\"\n            onClick={() => document.getElementById(\"send-image\").click()}\n          >\n            image\n          </i>\n          <i\n            className=\"material-icons\"\n            onClick={() => document.getElementById(\"send-video\").click()}\n          >\n            videocam\n          </i>\n          <i className=\"material-icons\" onClick={handleShowGifsForMsg}>\n            gif\n          </i>\n          <input\n            type=\"text\"\n            placeholder=\"Type your msg here... press enter to send\"\n            onChange={(e) => {\n              e.target.value !== \"\"\n                ? socket.emit(\"typing\", id)\n                : socket.emit(\"stopped\", id);\n            }}\n            onKeyDown={(e) => {\n              if (e.keyCode === 13 && e.target.value !== \"\") {\n                e.currentTarget.blur();\n                const elem = document.getElementById(\"msg-box-msgs\");\n                elem.scrollTop = elem.scrollHeight;\n                sendMessage(\"text\", e.target.value);\n                e.target.value = \"\";\n              }\n            }}\n          />\n        </div>\n      </div>\n\n      <input\n        type=\"file\"\n        id=\"send-image\"\n        onChange={sendImage}\n        style={{ display: \"none\" }}\n      />\n      <input\n        type=\"file\"\n        id=\"send-video\"\n        onChange={sendVideo}\n        style={{ display: \"none\" }}\n      />\n      <Modal\n        show={ctx.showGifsForMsg}\n        onHide={handleCloseShowGifsForMsg}\n        {...props}\n        size=\"md\"\n        centered\n      >\n        <Modal.Header\n          closeButton\n          style={{\n            backgroundColor: \"#2a2a2a\",\n            borderBottom: \"1px solid black\",\n          }}\n        >\n          <Modal.Title>Select Gif</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ backgroundColor: \"#2a2a2a\" }}>\n          <div id=\"gif-modal\">\n            <Grid\n              fetchGifs={fetchEmojis}\n              width={\n                window.matchMedia(\"(max-width: 480px)\").matches ? 250 : 450\n              }\n              columns={window.matchMedia(\"(max-width: 480px)\").matches ? 2 : 3}\n              hideAttribution={true}\n              onGifClick={sendGiphy}\n            />\n          </div>\n        </Modal.Body>\n      </Modal>\n\n      <Toast\n        show={false}\n        id=\"alert\"\n        style={{\n          position: \"absolute\",\n          bottom: \"15vh\",\n          right: \"45vw\",\n          backgroundColor: \"black\",\n          color: \"white\",\n          zIndex: \"10000\",\n        }}\n      >\n        <Toast.Body>Only jpg and png files allowed</Toast.Body>\n      </Toast>\n    </div>\n  );\n}\n\nexport default MessagesLeft;\n","import React, { useEffect, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Posts from \"./Posts\";\nimport Context from \"./Context\";\n\nfunction Home(props) {\n  const ctx = useContext(Context);\n\n  const history = useHistory();\n\n  useEffect(() => {\n    document.title = \"InstaChat - Home\";\n    getHomePosts();\n  }, []);\n\n  const getHomePosts = () => {\n    const myheaders = new Headers();\n    myheaders.append(\n      \"Authorization\",\n      \"Bearer \" + localStorage.getItem(\"token\")\n    );\n    fetch(\"/users/homePosts/\", {\n      method: \"get\",\n      headers: myheaders,\n    })\n      .then((res) => res.json())\n      .then(async (data) => {\n        if (data.saved === \"success\") {\n          data.details.sort((a, b) => new Date(b.date) - new Date(a.date));\n          ctx.dispatch({ type: \"setHomePosts\", payload: data.details });\n        }\n      });\n  };\n\n  return (\n    <Posts {...props} type=\"home\" history={history} posts={ctx.homePosts} />\n  );\n}\n\nexport default Home;\n","import React, { useEffect, useContext } from \"react\";\nimport { InputGroup, FormControl } from \"react-bootstrap\";\nimport Context from \"./Context\";\nimport { useHistory } from \"react-router-dom\";\n\nfunction MessagesRight() {\n  const ctx = useContext(Context);\n  const history = useHistory();\n\n  useEffect(() => {\n    getFriendList();\n  }, []);\n\n  const getFriendList = () => {\n    const myheaders = new Headers();\n    myheaders.append(\n      \"Authorization\",\n      \"Bearer \" + localStorage.getItem(\"token\")\n    );\n    fetch(\"/users/friend-list\", {\n      method: \"get\",\n      headers: myheaders,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.saved === \"success\") {\n          ctx.dispatch({ type: \"setFriendList\", payload: data.data });\n        }\n      });\n  };\n\n  const getMsgBoxId = (friend) => {\n    const myheaders = new Headers();\n    myheaders.append(\n      \"Authorization\",\n      \"Bearer \" + localStorage.getItem(\"token\")\n    );\n    myheaders.append(\"content-type\", \"application/json\");\n    fetch(\"/users/getMsgBoxId\", {\n      method: \"post\",\n      body: JSON.stringify({\n        friend_id: friend.id,\n      }),\n      headers: myheaders,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.saved === \"success\") {\n          ctx.dispatch({\n            type: \"changeUserInfoForMsg\",\n            payload: friend,\n          });\n          history.push(\"/user/messages/\" + data.msgBoxId);\n        } else {\n          ctx.dispatch({\n            type: \"setMessages\",\n            payload: { saved: \"unsuccessful\" },\n          });\n        }\n      });\n  };\n\n  const handleChange = (e) => {\n    const value = e.target.value;\n    const list = ctx.friendList.filter(\n      (friend) => new RegExp(\"(\" + value + \")\", \"i\").test(friend.name) && friend\n    );\n    ctx.dispatch({ type: \"filterFriendList\", payload: list });\n  };\n\n  return (\n    <div id=\"messages-right\">\n      <p>\n        <strong>\n          {history.location.pathname === \"/user/messages\"\n            ? \"Messages\"\n            : \"Friends\"}\n        </strong>{\" \"}\n      </p>\n      {history.location.pathname === \"/user/messages\" && (\n        <div id=\"msg-people-search\">\n          <InputGroup className=\"mb-3\">\n            <InputGroup.Prepend>\n              <InputGroup.Text\n                style={{\n                  backgroundColor: \"#333333\",\n                  border: \"1px solid black\",\n                }}\n              >\n                <i className=\"material-icons\">&#xe8b6;</i>\n              </InputGroup.Text>\n            </InputGroup.Prepend>\n            <FormControl\n              placeholder=\"Search your Friends\"\n              onChange={handleChange}\n              style={{\n                backgroundColor: \"#444444\",\n                border: \"1px solid black\",\n                color: \"white\",\n              }}\n            />\n          </InputGroup>\n        </div>\n      )}\n      {ctx.filterFriendList.length > 0\n        ? ctx.filterFriendList.map((friend) => (\n            <div\n              key={friend.id}\n              id=\"msg-profile-div\"\n              onClick={() => getMsgBoxId(friend)}\n            >\n              <div id=\"msg-profile-pic\">\n                <img src={friend.imageUri} alt={friend.name + \" pic\"} />\n                {friend.isOnline && <span id=\"dot\"></span>}\n              </div>\n              <div>\n                <strong> {friend.name}</strong>\n\n                <br />\n                <span>{\"@\" + friend.username}</span>\n              </div>\n            </div>\n          ))\n        : ctx.friendList.map((friend) => (\n            <div\n              key={friend.id}\n              id=\"msg-profile-div\"\n              onClick={() => getMsgBoxId(friend)}\n            >\n              <div id=\"msg-profile-pic\">\n                <img src={friend.imageUri} alt={friend.name + \" pic\"} />\n                {friend.isOnline && <span id=\"dot\"></span>}\n              </div>\n              <div>\n                <strong> {friend.name}</strong>\n\n                <br />\n                <span>{\"@\" + friend.username}</span>\n              </div>\n            </div>\n          ))}\n    </div>\n  );\n}\n\nexport default MessagesRight;\n","import React from \"react\";\nimport moment from \"moment\";\nimport { useContext } from \"react\";\nimport Context from \"./Context\";\nimport { useHistory } from \"react-router-dom\";\n\nfunction CommentReplies(props) {\n  const ctx = useContext(Context);\n  const history = useHistory();\n\n  const likeReply = (e) => {\n    e.preventDefault();\n    const target = e.target;\n    const myheaders = new Headers();\n    myheaders.append(\n      \"Authorization\",\n      \"Bearer \" + localStorage.getItem(\"token\")\n    );\n    myheaders.append(\"content-type\", \"application/json\");\n    const url = \"/users/comment/commentOnComment/like\";\n    fetch(url, {\n      method: \"post\",\n      body: JSON.stringify({\n        commentId: props.commentId,\n        replyId: e.target.id,\n      }),\n      headers: myheaders,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.saved === \"success\") {\n          //no of likes or shares before clicking\n          let number = Number(target.nextSibling.nextSibling.textContent);\n          target.nextSibling.nextSibling.textContent =\n            target.style.color === \"skyblue\" ? number - 1 : number + 1;\n          target.style.color =\n            target.style.color === \"skyblue\" ? \"lightgray\" : \"skyblue\";\n        }\n      });\n  };\n\n  return (\n    <React.Fragment>\n      {props.replies !== undefined &&\n        props.replies.length > 0 &&\n        props.replies.map((reply) => (\n          <div key={reply._id} id=\"sub_comments\">\n            <img\n              src={reply.user_id.imageUri}\n              alt=\"pic\"\n              id=\"user-post-img\"\n              onClick={() =>\n                history.push(\n                  \"/user/profile/\" + reply.user_id.username.split(\"@\")[1]\n                )\n              }\n            />\n            <div id=\"comment_detail\">\n              <p\n                id=\"post-user-detail\"\n                onClick={() =>\n                  history.push(\n                    \"/user/profile/\" + reply.user_id.username.split(\"@\")[1]\n                  )\n                }\n              >\n                <strong>\n                  {reply.user_id.f_name + \" \" + reply.user_id.l_name}\n                </strong>\n                &ensp;\n                <span>\n                  {reply.user_id.username}\n                  {window.matchMedia(\"(max-width: 480px)\").matches ? (\n                    <br />\n                  ) : (\n                    \" · \"\n                  )}\n                  {new Date() - new Date(reply.date) < 3600 * 12 * 1000\n                    ? moment(reply.date).fromNow()\n                    : new Date(reply.date).toLocaleDateString(\"en-US\", {\n                        day: \"numeric\",\n                        month: \"short\",\n                      })}\n                </span>\n              </p>\n              <div>\n                {reply.replyText !== \"null\" && reply.replyText}\n                {[undefined, null].indexOf(reply.replyImg) === -1 && (\n                  <div id=\"comment-images\">\n                    <img\n                      src={reply.replyImg}\n                      alt=\"\"\n                      onClick={() => {\n                        ctx.dispatch({\n                          type: \"setOverlayPicSrc\",\n                          payload: reply.replyImg,\n                        });\n                        document.getElementById(\"overlay-pics\").style.display =\n                          \"block\";\n                      }}\n                    />\n                  </div>\n                )}\n\n                {[undefined, null, \"null\"].indexOf(reply.replyGif) === -1 && (\n                  <div id=\"comment-gif-div\">\n                    <img src={reply.replyGif} alt=\"\" />{\" \"}\n                  </div>\n                )}\n              </div>\n              <div id=\"like-share-onComment\">\n                <span>\n                  <i\n                    className=\"material-icons\"\n                    onClick={likeReply}\n                    id={reply._id}\n                    style={{\n                      color:\n                        reply.likes.indexOf(localStorage.getItem(\"id\")) === -1\n                          ? \"lightgray\"\n                          : \"skyblue\",\n                    }}\n                  >\n                    thumb_up\n                  </i>\n                  &emsp;\n                  {reply.likes.length}\n                </span>\n              </div>\n            </div>\n            <div\n              id=\"overlay-pics\"\n              onClick={() => {\n                document.getElementById(\"overlay-pics\").style.display = \"none\";\n                ctx.dispatch({\n                  type: \"setOverlayPicSrc\",\n                  payload: \"\",\n                });\n              }}\n            >\n              <img src={ctx.overlayPicSrc} alt=\"large size pic\" />\n            </div>\n          </div>\n        ))}\n    </React.Fragment>\n  );\n}\n\nexport default CommentReplies;\n","import React from \"react\";\nimport CreateComment from \"./CreateComment\";\nimport moment from \"moment\";\nimport { useContext } from \"react\";\nimport Context from \"./Context\";\nimport CommentReplies from \"./CommentReplies\";\nimport { Carousel } from \"react-bootstrap\";\nimport { useHistory } from \"react-router-dom\";\n\nfunction Comment(props) {\n  const ctx = useContext(Context);\n  const history = useHistory();\n  //comment on comment\n\n  const setFormDataForCmtOnCmt = (data) =>\n    ctx.dispatch({ type: \"setFormDataForCmtOnCmt\", payload: data });\n\n  const setShowCreateCommentForCmt = (data) =>\n    ctx.dispatch({ type: \"setShowCreateCommentForCmt\", payload: data });\n\n  const handleCloseCreateCommentForCmt = () => {\n    ctx.dispatch({\n      type: \"setFormDataForCmtOnCmt\",\n      payload: {\n        text: null,\n        gif: null,\n        img: [],\n        commentId: null,\n      },\n    });\n    setShowCreateCommentForCmt(false);\n    props.getPost();\n  };\n  const handleShowCreateCommentForCmt = (e) => {\n    ctx.dispatch({\n      type: \"setFormDataForCmtOnCmt\",\n      payload: {\n        text: null,\n        gif: null,\n        img: [],\n        commentId: e.target.id,\n      },\n    });\n    setShowCreateCommentForCmt(true);\n  };\n\n  const likeComment = (e, type) => {\n    e.preventDefault();\n    const target = e.target;\n    const myheaders = new Headers();\n    myheaders.append(\n      \"Authorization\",\n      \"Bearer \" + localStorage.getItem(\"token\")\n    );\n    myheaders.append(\"content-type\", \"application/json\");\n    const url =\n      type !== \"comment\"\n        ? \"/users/commentOnComment/like\"\n        : \"/users/comment/like\";\n    fetch(url, {\n      method: \"post\",\n      body: JSON.stringify({\n        commentId: e.target.id, //commment id for comments and reply id for replies\n      }),\n      headers: myheaders,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.saved === \"success\") {\n          //no of likes or shares before clicking\n          let number = Number(target.nextSibling.nextSibling.textContent);\n          target.nextSibling.nextSibling.textContent =\n            target.style.color === \"skyblue\" ? number - 1 : number + 1;\n          target.style.color =\n            target.style.color === \"skyblue\" ? \"lightgray\" : \"skyblue\";\n        }\n      });\n  };\n  return (\n    <div>\n      {props.comments !== undefined &&\n        props.comments.length > 0 &&\n        props.comments.map((comment) => (\n          <div key={comment._id} id=\"comments\">\n            <img\n              src={comment.user_id.imageUri}\n              alt=\"pic\"\n              id=\"user-post-img\"\n              onClick={() =>\n                history.push(\n                  \"/user/profile/\" + comment.user_id.username.split(\"@\")[1]\n                )\n              }\n            />\n            <div id=\"comment_detail\">\n              <p\n                id=\"comment-user-detail\"\n                onClick={() =>\n                  history.push(\n                    \"/user/profile/\" + comment.user_id.username.split(\"@\")[1]\n                  )\n                }\n              >\n                <strong>\n                  {comment.user_id.f_name + \" \" + comment.user_id.l_name}\n                </strong>\n                &ensp;\n                <span>\n                  {comment.user_id.username}\n                  {window.matchMedia(\"(max-width: 480px)\").matches ? (\n                    <br />\n                  ) : (\n                    \" · \"\n                  )}\n                  {new Date() - new Date(comment.date) < 3600 * 12 * 1000\n                    ? moment(comment.date).fromNow()\n                    : new Date(comment.date).toLocaleDateString(\"en-US\", {\n                        day: \"numeric\",\n                        month: \"short\",\n                      })}\n                </span>\n              </p>\n              <div>\n                {comment.commentText !== \"null\" && comment.commentText}\n                {comment.commentImg.length > 0 && (\n                  <div id=\"comment-images\">\n                    {comment.commentImg.length > 1 ? (\n                      <Carousel>\n                        {comment.commentImg.map((img) => (\n                          <Carousel.Item\n                            onClick={() => {\n                              ctx.dispatch({\n                                type: \"setOverlayPicSrc\",\n                                payload: img,\n                              });\n                              document.getElementById(\n                                \"overlay-pics\"\n                              ).style.display = \"block\";\n                            }}\n                          >\n                            <img className=\"d-block w-100\" src={img} alt=\"\" />\n                          </Carousel.Item>\n                        ))}\n                      </Carousel>\n                    ) : (\n                      <img\n                        src={comment.commentImg[0]}\n                        alt=\"\"\n                        onClick={() => {\n                          ctx.dispatch({\n                            type: \"setOverlayPicSrc\",\n                            payload: comment.commentImg[0],\n                          });\n                          document.getElementById(\n                            \"overlay-pics\"\n                          ).style.display = \"block\";\n                        }}\n                      />\n                    )}\n                  </div>\n                )}\n\n                {[undefined, null].indexOf(comment.commentGif) === -1 && (\n                  <div id=\"comment-gif-div\">\n                    <img src={comment.commentGif} alt=\"\" />{\" \"}\n                  </div>\n                )}\n              </div>\n              <div id=\"like-share-onComment\">\n                <span>\n                  <i\n                    className=\"material-icons\"\n                    onClick={(e) => likeComment(e, \"comment\")}\n                    id={comment._id}\n                    style={{\n                      color:\n                        comment.likes.indexOf(localStorage.getItem(\"id\")) === -1\n                          ? \"lightgray\"\n                          : \"skyblue\",\n                    }}\n                  >\n                    thumb_up\n                  </i>\n                  &emsp;\n                  {comment.likes.length}\n                </span>\n                <span>\n                  <i\n                    className=\"material-icons\"\n                    onClick={handleShowCreateCommentForCmt}\n                    id={comment._id}\n                  >\n                    {\" \"}\n                    message\n                  </i>{\" \"}\n                  &ensp;\n                  {props.type !== \"comment\"\n                    ? comment.comments.length\n                    : comment.sub_comments.length}\n                </span>\n              </div>\n            </div>\n            <CommentReplies\n              {...props}\n              replies={comment.sub_comments}\n              commentId={comment._id}\n            />\n          </div>\n        ))}\n      <CreateComment\n        {...props}\n        setFormData={setFormDataForCmtOnCmt}\n        formData={ctx.formDataForCmtOnCmt}\n        handleCloseCreateComment={handleCloseCreateCommentForCmt}\n        ShowCreateComment={ctx.ShowCreateCommentForCmt}\n        type=\"comment\"\n        emitCommentEvent={props.emitCommentEvent}\n      />\n      <div\n        id=\"overlay-pics\"\n        onClick={() => {\n          document.getElementById(\"overlay-pics\").style.display = \"none\";\n          ctx.dispatch({\n            type: \"setOverlayPicSrc\",\n            payload: \"\",\n          });\n        }}\n      >\n        <img src={ctx.overlayPicSrc} alt=\"large size pic\" />\n      </div>\n    </div>\n  );\n}\n\nexport default Comment;\n","import React, { useEffect, useContext, useState } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport moment from \"moment\";\nimport CreateComment from \"./CreateComment\";\nimport Comment from \"./Comment\";\nimport Context from \"./Context\";\nimport { likeSharePost } from \"./functions\";\nimport { Carousel } from \"react-bootstrap\";\nimport ShareModal from \"./ShareModal\";\nimport io from \"socket.io-client\";\nconst ENDPOINT = \"wss://chat-app-by-sanjay.herokuapp.com\";\nconst socket = io(ENDPOINT);\n\nfunction Post(props) {\n  const { id } = useParams();\n  const ctx = useContext(Context);\n  const history = useHistory();\n\n  const [show, setShow] = useState(false);\n  const handleShow = () => setShow(true);\n  const handleClose = () => setShow(false);\n\n  useEffect(() => {\n    getPost();\n    socket.emit(\"join\", id);\n    return () => {\n      socket.emit(\"leaveRoom\", id);\n    };\n  }, []);\n\n  socket.on(\"newCmt\", () => {\n    getPost();\n  });\n\n  const emitCommentEvent = () => {\n    socket.emit(\"comment\", id);\n  };\n\n  const handleCloseCreateComment = () => {\n    ctx.dispatch({\n      type: \"setFormDataForComments\",\n      payload: {\n        text: null,\n        img: [],\n        gif: null,\n        postId: null,\n      },\n    });\n    ctx.dispatch({ type: \"setShowCreateComment\", payload: false });\n    getPost();\n  };\n  const handleShowCreateComment = () => {\n    ctx.dispatch({\n      type: \"setFormDataForComments\",\n      payload: {\n        text: null,\n        img: [],\n        gif: null,\n        postId: id,\n      },\n    });\n    ctx.dispatch({ type: \"setShowCreateComment\", payload: true });\n  };\n\n  const setFormDataForComments = (data) =>\n    ctx.dispatch({ type: \"setFormDataForComments\", payload: data });\n\n  const getPost = () => {\n    const myheaders = new Headers();\n    myheaders.append(\n      \"Authorization\",\n      \"Bearer \" + localStorage.getItem(\"token\")\n    );\n    fetch(\"/users/post/\" + id, {\n      method: \"get\",\n      headers: myheaders,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.saved === \"success\") {\n          data.details.comments.sort(\n            (a, b) => new Date(b.date) - new Date(a.date)\n          );\n          ctx.dispatch({ type: \"setPostDetails\", payload: data.details });\n        }\n      });\n  };\n\n  return (\n    <React.Fragment>\n      {Object.keys(ctx.postDetails).length > 0 && (\n        <div>\n          <div id=\"single-post-head\">\n            <h3>Post</h3>\n          </div>\n\n          <div id=\"single-post-div\">\n            <div\n              id=\"single-post-profile-pic\"\n              onClick={() =>\n                history.push(\n                  \"/user/profile/\" +\n                    ctx.postDetails.user_id.username.split(\"@\")[1]\n                )\n              }\n            >\n              <img\n                src={ctx.postDetails.user_id.imageUri}\n                alt={ctx.postDetails.user_id.f_name + \" profile pic\"}\n              />\n            </div>\n            <div>\n              <strong\n                onClick={() =>\n                  history.push(\n                    \"/user/profile/\" +\n                      ctx.postDetails.user_id.username.split(\"@\")[1]\n                  )\n                }\n              >\n                {ctx.postDetails.user_id.f_name +\n                  \" \" +\n                  ctx.postDetails.user_id.l_name}\n              </strong>\n              <span\n                onClick={() =>\n                  history.push(\n                    \"/user/profile/\" +\n                      ctx.postDetails.user_id.username.split(\"@\")[1]\n                  )\n                }\n              >\n                {\" · \" + ctx.postDetails.user_id.username}\n              </span>\n              <div id=\"single-post-text\">\n                {ctx.postDetails.postText !== \"null\" &&\n                  ctx.postDetails.postText}\n              </div>\n              <div id=\"single-post-img-div\">\n                {ctx.postDetails.postImg.length > 0 &&\n                  (ctx.postDetails.postImg.length === 1 ? (\n                    <img\n                      className=\"d-block w-100\"\n                      src={ctx.postDetails.postImg[0]}\n                      alt=\"\"\n                      onClick={() => {\n                        ctx.dispatch({\n                          type: \"setOverlayPicSrc\",\n                          payload: ctx.postDetails.postImg[0],\n                        });\n                        document.getElementById(\"overlay-pics\").style.display =\n                          \"block\";\n                      }}\n                    />\n                  ) : (\n                    <Carousel>\n                      {ctx.postDetails.postImg.map((img) => (\n                        <Carousel.Item\n                          onClick={() => {\n                            ctx.dispatch({\n                              type: \"setOverlayPicSrc\",\n                              payload: img,\n                            });\n                            document.getElementById(\n                              \"overlay-pics\"\n                            ).style.display = \"block\";\n                          }}\n                        >\n                          <img className=\"d-block w-100\" src={img} alt=\"\" />\n                        </Carousel.Item>\n                      ))}\n                    </Carousel>\n                  ))}\n                {ctx.postDetails.postGif !== undefined && (\n                  <div>\n                    <img src={ctx.postDetails.postGif} alt=\"\" />\n                  </div>\n                )}\n              </div>\n              {ctx.postDetails.embedLink !== null && (\n                <iframe\n                  title=\"Youtube Video\"\n                  src={\n                    \"https://www.youtube.com/embed/\" + ctx.postDetails.embedLink\n                  }\n                ></iframe>\n              )}\n              {ctx.postDetails.postVideo !== null && (\n                <video src={ctx.postDetails.postVideo} controls />\n              )}\n            </div>\n          </div>\n\n          <div id=\"single-post-date\">\n            <span>\n              {moment(ctx.postDetails.date).format(\"HH:mm A\") +\n                \" · \" +\n                moment(ctx.postDetails.date).format(\"ll\")}\n            </span>\n          </div>\n\n          <div id=\"single-post-likeshare\">\n            <strong>{ctx.postDetails.likes.length}</strong>\n            <span> Likes</span> &emsp;\n            <strong>{ctx.postDetails.shares.length}</strong>\n            <span> Shares</span>\n          </div>\n\n          <div id=\"likesharecomment\">\n            <span>\n              <i\n                className=\"material-icons\"\n                onClick={(e) => likeSharePost(e, \"like\", \"post\")}\n                id={ctx.postDetails._id}\n                style={{\n                  color:\n                    ctx.postDetails.likes.indexOf(\n                      localStorage.getItem(\"id\")\n                    ) === -1\n                      ? \"lightgray\"\n                      : \"skyblue\",\n                }}\n              >\n                thumb_up\n              </i>\n              &ensp; Like\n            </span>\n\n            <span onClick={handleShow}>\n              <i\n                className=\"material-icons\"\n                // onClick={(e) => likeSharePost(e, \"share\", \"post\")}\n                id={ctx.postDetails._id}\n                // style={{\n                //   color:\n                //     ctx.postDetails.shares.indexOf(\n                //       localStorage.getItem(\"id\")\n                //     ) === -1\n                //       ? \"lightgray\"\n                //       : \"skyblue\",\n                // }}\n              >\n                {\" \"}\n                share\n              </i>\n              &ensp;\n              {/* Share */}\n              Share\n            </span>\n\n            <span>\n              <i className=\"material-icons\" onClick={handleShowCreateComment}>\n                {\" \"}\n                message\n              </i>\n              &ensp; Comment\n            </span>\n          </div>\n\n          <div\n            id=\"overlay-pics\"\n            onClick={() => {\n              document.getElementById(\"overlay-pics\").style.display = \"none\";\n              ctx.dispatch({\n                type: \"setOverlayPicSrc\",\n                payload: \"\",\n              });\n            }}\n          >\n            <img src={ctx.overlayPicSrc} alt=\"large size pic\" />\n          </div>\n\n          <Comment\n            {...props}\n            type=\"comment\"\n            comments={ctx.postDetails.comments}\n            emitCommentEvent={emitCommentEvent}\n            getPost={getPost}\n          />\n\n          {/* comment on opened post */}\n\n          <CreateComment\n            {...props}\n            setFormData={setFormDataForComments}\n            formData={ctx.formDataForComments}\n            handleCloseCreateComment={handleCloseCreateComment}\n            ShowCreateComment={ctx.ShowCreateComment}\n            type=\"post\"\n            emitCommentEvent={emitCommentEvent}\n          />\n\n          <ShareModal\n            {...props}\n            show={show}\n            handleClose={handleClose}\n            postId={id}\n          />\n        </div>\n      )}\n    </React.Fragment>\n  );\n}\n\nexport default Post;\n","import React, { useContext } from \"react\";\nimport Context from \"./Context\";\nimport moment from \"moment\";\nimport { useHistory } from \"react-router-dom\";\nimport { switchInJsx } from \"./functions\";\nimport { useEffect } from \"react\";\n\nfunction Notifications() {\n  const ctx = useContext(Context);\n  const history = useHistory();\n  useEffect(() => {\n    document.title = \"InstaChat - Notifications\";\n  }, []);\n\n  return (\n    <div id=\"notific-div\">\n      <div id=\"notific-head\">\n        <h3>Notifications</h3>\n      </div>\n      <div id=\"notifics\">\n        {ctx.notifics.length > 0 ? (\n          ctx.notifics.map((notific) => (\n            <div id=\"notific\" key={notific._id}>\n              <img\n                src={notific.userWhoPushed.imageUri}\n                alt={notific.userWhoPushed.f_name + \" pic\"}\n              />\n              <div\n                onClick={\n                  notific.type !== \"follow\"\n                    ? () => history.push(\"/user/post/\" + notific.postId)\n                    : () =>\n                        history.push(\n                          \"/user/profile/\" +\n                            notific.userWhoPushed.username.split(\"@\")[1]\n                        )\n                }\n              >\n                <strong>\n                  {notific.userWhoPushed.f_name +\n                    \" \" +\n                    notific.userWhoPushed.l_name}\n                </strong>{\" \"}\n                {switchInJsx(notific.type)}\n                <br />\n                <span>{moment(notific.datetime).fromNow()}</span>\n              </div>\n            </div>\n          ))\n        ) : (\n          <div id=\"no-notific\">\n            <h3> There are no notifications to show</h3>\n            <span>Follow peoples and create posts</span>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Notifications;\n","import { useEffect, useContext } from \"react\";\nimport Context from \"./Context\";\n\nfunction useInfiniteScroll() {\n  const ctx = useContext(Context);\n\n  const setIsFetching = (data) =>\n    ctx.dispatch({ type: \"setIsFetching\", payload: data });\n\n  useEffect(() => {\n    window.addEventListener(\"scroll\", handleScroll);\n    return () => window.removeEventListener(\"scroll\", handleScroll);\n  }, []);\n\n  const handleScroll = () => {\n    if (\n      window.innerHeight + document.documentElement.scrollTop !==\n        document.getElementById(\"main\").offsetHeight ||\n      ctx.isFetching\n    )\n      return;\n    setIsFetching(true);\n  };\n\n  return [ctx.isFetching, setIsFetching];\n}\n\nexport default useInfiniteScroll;\n","import React, { useContext, useEffect } from \"react\";\nimport Context from \"./Context\";\nimport { InputGroup, FormControl, Spinner } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport Posts from \"./Posts\";\nimport useInfiniteScroll from \"./useInfiniteScroll\";\nimport avtar from \"../images/avtar.png\";\n\nfunction ExploreLeft(props) {\n  const ctx = useContext(Context);\n  const [isFetching, setIsFetching] = useInfiniteScroll();\n\n  useEffect(() => {\n    if (isFetching) {\n      ctx.tab === \"posts\"\n        ? getTrendingPosts(ctx.trendingPosts.length)\n        : getTrendingVideos(ctx.trendingVideos.length);\n    }\n  }, [isFetching]);\n\n  useEffect(() => {\n    document.title = \"InstaChat - Explore\";\n    getTrendingPosts(ctx.trendingPosts.length);\n    getTrendingVideos(ctx.trendingVideos.length);\n  }, []);\n\n  const searchPeople = (e) => {\n    document.getElementById(\"search-people-results\").style.display = \"block\";\n    const keyword = e.target.value;\n    const myheaders = new Headers();\n    myheaders.append(\n      \"Authorization\",\n      \"Bearer \" + localStorage.getItem(\"token\")\n    );\n    myheaders.append(\"content-type\", \"application/json\");\n    if (keyword !== \"\") {\n      fetch(\"/users/search\", {\n        method: \"post\",\n        body: JSON.stringify({ value: keyword }),\n        headers: myheaders,\n      })\n        .then((res) => res.json())\n        .then((data) => {\n          ctx.dispatch({ type: \"setSearchResults\", payload: data });\n        });\n    } else {\n      document.getElementById(\"search-people-results\").style.display = \"none\";\n    }\n  };\n\n  const getTrendingPosts = (index) => {\n    const myheaders = new Headers();\n    myheaders.append(\n      \"Authorization\",\n      \"Bearer \" + localStorage.getItem(\"token\")\n    );\n    fetch(\"/users/get-trending-posts/from/\" + index, {\n      method: \"get\",\n      headers: myheaders,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.saved === \"success\") {\n          ctx.dispatch({ type: \"setTrendingPosts\", payload: data.data });\n        }\n        setIsFetching(false);\n      });\n  };\n\n  const getTrendingVideos = (index) => {\n    const myheaders = new Headers();\n    myheaders.append(\n      \"Authorization\",\n      \"Bearer \" + localStorage.getItem(\"token\")\n    );\n    fetch(\"/users/get-trending-videos/from/\" + index, {\n      method: \"get\",\n      headers: myheaders,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.saved === \"success\") {\n          ctx.dispatch({ type: \"setTrendingVideos\", payload: data.data });\n          setIsFetching(false);\n        }\n      });\n  };\n\n  return (\n    <div className=\"explore-left\">\n      <div id=\"explore-fixed\">\n        <form onChange={searchPeople}>\n          <InputGroup className=\"mb-1\">\n            <InputGroup.Prepend>\n              <InputGroup.Text\n                style={{\n                  backgroundColor: \"#444444\",\n                  color: \"white\",\n                  border: \"1px solid black\",\n                }}\n              >\n                <i className=\"material-icons\">&#xe8b6;</i>\n              </InputGroup.Text>\n            </InputGroup.Prepend>\n            <FormControl\n              placeholder=\"Search your Friends\"\n              name=\"search\"\n              id=\"search-people\"\n              style={{\n                backgroundColor: \"#444444\",\n                color: \"white\",\n                border: \"1px solid black\",\n              }}\n            />\n          </InputGroup>\n          <ul id=\"search-people-results\">\n            {ctx.searchResults.map((item) => (\n              <Link to={\"/user/profile/\" + item.username.split(\"@\")[1]}>\n                <li>\n                  <img src={item.imageUri || avtar} alt=\"profile\" />\n                  <div>\n                    <strong>{item.f_name + \" \" + item.l_name}</strong> <br />\n                    <span>{item.username}</span>\n                  </div>\n                </li>\n              </Link>\n            ))}\n          </ul>\n        </form>\n\n        <div id=\"explore-tabs\">\n          <div\n            id=\"posts\"\n            onClick={() => ctx.dispatch({ type: \"setTab\", payload: \"posts\" })}\n            style={\n              ctx.tab === \"posts\" ? { borderBottom: \"1vh solid #5cb85b\" } : {}\n            }\n          >\n            Posts\n          </div>\n          <div\n            id=\"videos\"\n            onClick={() => ctx.dispatch({ type: \"setTab\", payload: \"videos\" })}\n            style={\n              ctx.tab === \"videos\" ? { borderBottom: \"1vh solid #5cb85b\" } : {}\n            }\n          >\n            Videos\n          </div>\n        </div>\n      </div>\n      <div id=\"explore-posts\">\n        {ctx.tab === \"posts\" ? (\n          <Posts {...props} type=\"user\" posts={ctx.trendingPosts} />\n        ) : (\n          <Posts {...props} type=\"user\" posts={ctx.trendingVideos} />\n        )}\n        <button\n          style={{\n            display: \"block\",\n            margin: \"0 auto\",\n            backgroundColor: \"#333333\",\n            border: \"0\",\n          }}\n          onClick={(e) => {\n            e.preventDefault();\n            ctx.dispatch({ type: \"setIsFetching\", payload: true });\n          }}\n        >\n          Load More\n        </button>\n        {isFetching === true && (\n          <div style={{ width: \"20%\", margin: \"2vh auto\" }}>\n            <Spinner animation=\"border\" variant=\"light\" size=\"md\" />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default ExploreLeft;\n","import React from \"react\";\nimport { useEffect } from \"react\";\n\nfunction NoMsgBox() {\n  useEffect(() => {\n    document.title = \"InstaChat - Messages\";\n  }, []);\n  return (\n    <div id=\"message-left\">\n      <div id=\"msg-not-selected\">\n        <h2>You don't have a message selected</h2>\n        <span>Select one of your friend to message</span>\n      </div>\n    </div>\n  );\n}\n\nexport default NoMsgBox;\n","import React, { useContext } from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport Profile from \"./Profile\";\nimport MessagesLeft from \"./messagesLeft\";\nimport Home from \"./Home\";\nimport MessagesRight from \"./messagesRight\";\nimport Post from \"./Post\";\nimport Context from \"./Context\";\nimport Notifications from \"./Notifications\";\nimport ExploreLeft from \"./ExploreLeft\";\nimport NoMsgBox from \"./NoMsgBox\";\n\nfunction MainLeft() {\n  const ctx = useContext(Context);\n  return (\n    <div className=\"main-left\">\n      <Switch>\n        <Route path=\"/user/\" exact component={Home} />\n\n        <Route path=\"/user/profile/:id\" component={Profile} />\n\n        <Route\n          path=\"/user/messages/:id\"\n          component={\n            window.matchMedia(\"(min-width: 901px)\").matches\n              ? MessagesLeft\n              : Object.keys(ctx.userInfoForMsg).length > 0\n              ? MessagesLeft\n              : MessagesRight\n          }\n        />\n\n        <Route\n          path=\"/user/messages/\"\n          component={\n            window.matchMedia(\"(min-width: 901px)\").matches\n              ? NoMsgBox\n              : MessagesRight\n          }\n        />\n\n        <Route path=\"/user/post/:id\" component={Post} />\n\n        <Route path=\"/user/notifications/\" component={Notifications} />\n\n        <Route path=\"/user/explore/\" component={ExploreLeft} />\n      </Switch>\n    </div>\n  );\n}\n\nexport default MainLeft;\n","import React, { useEffect, useContext } from \"react\";\nimport Context from \"./Context\";\nimport { useHistory } from \"react-router-dom\";\n\nfunction FriendSuggesstion() {\n  const ctx = useContext(Context);\n  const history = useHistory();\n\n  const getSuggesstions = () => {\n    const myheaders = new Headers();\n    myheaders.append(\n      \"Authorization\",\n      \"Bearer \" + localStorage.getItem(\"token\")\n    );\n    fetch(\"/users/friend-suggesstions\", {\n      method: \"get\",\n      headers: myheaders,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.saved === \"success\") {\n          ctx.dispatch({ type: \"setFriendSuggesstions\", payload: data.data });\n        }\n      });\n  };\n\n  useEffect(() => {\n    getSuggesstions();\n  }, []);\n\n  const followHandler = (e, id) => {\n    e.preventDefault();\n    const myheaders = new Headers();\n    myheaders.append(\n      \"Authorization\",\n      \"Bearer \" + localStorage.getItem(\"token\")\n    );\n    fetch(\"/users/profile/\" + id + \"/follow\", {\n      method: \"get\",\n      headers: myheaders,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.saved === \"success\") {\n          getSuggesstions();\n        }\n      });\n  };\n\n  return (\n    <div id=\"friend-suggesstions\">\n      <p>\n        <strong>Peoples You May Know</strong>{\" \"}\n      </p>\n      {ctx.friendSuggesstions.map((friend) => (\n        <div key={friend._id} id=\"suggess-profile-pic\">\n          <img src={friend.imageUri} alt={friend.name + \" pic\"} />\n          <div\n            onClick={() =>\n              history.push(\"/user/profile/\" + friend.username.split(\"@\")[1])\n            }\n          >\n            <strong>{friend.f_name + \" \" + friend.l_name}</strong>\n\n            <br />\n            {friend.username}\n          </div>\n          <button\n            onClick={(e) => followHandler(e, friend.username.split(\"@\")[1])}\n          >\n            Follow\n          </button>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default FriendSuggesstion;\n","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport MessagesRight from \"./messagesRight\";\nimport FriendSuggesstion from \"./FriendSuggesstion\";\n\nfunction MainRight() {\n  return (\n    <div className=\"main-right\">\n      <Switch>\n        <Route path=\"/user/profile/:id\" component={MessagesRight} />\n        <Route path=\"/user/messages/\" component={MessagesRight} />\n        <Route path=\"/user/explore\" component={FriendSuggesstion} />\n        <Route path=\"/user/\" exact component={FriendSuggesstion} />\n      </Switch>\n    </div>\n  );\n}\n\nexport default MainRight;\n","import React from \"react\";\nimport MainLeft from \"./MainLeft\";\nimport MainRight from \"./MainRight\";\n\nfunction Main() {\n  return (\n    <div id=\"main\">\n      <MainLeft />\n      <MainRight />\n    </div>\n  );\n}\n\nexport default Main;\n","import React from \"react\";\nimport SideNav from \"./SideNav\";\nimport Main from \"./Main\";\n\nfunction User() {\n  return (\n    <div id=\"user\">\n      <Main />\n      <SideNav />\n    </div>\n  );\n}\n\nexport default User;\n","import React, { useRef, useContext, useEffect } from \"react\";\nimport { Modal, Button, Form, Row, Col, Alert } from \"react-bootstrap\";\nimport { useHistory } from \"react-router-dom\";\nimport Context from \"./Context\";\nimport { errorDisplay } from \"./functions\";\nimport { Link } from \"react-router-dom\";\n\nfunction Homepage(props) {\n  const ctx = useContext(Context);\n\n  useEffect(() => {\n    if (localStorage.getItem(\"token\")) {\n      const myheaders = new Headers();\n      myheaders.append(\n        \"Authorization\",\n        \"Bearer \" + localStorage.getItem(\"token\")\n      );\n      fetch(\"/users/loginByToken\", { method: \"get\", headers: myheaders })\n        .then((res) => res.json())\n        .then((data) => {\n          if (data.saved === \"success\") {\n            localStorage.setItem(\"token\", data.token);\n            localStorage.setItem(\"id\", data._id);\n            localStorage.setItem(\"username\", data.username);\n            localStorage.setItem(\"f_name\", data.f_name);\n            localStorage.setItem(\"l_name\", data.l_name);\n            localStorage.setItem(\"imageUri\", data.imageUri);\n            history.push(\"/user/explore/\");\n          } else {\n            errorDisplay(data, \"login-alert\");\n          }\n        });\n    }\n  }, []);\n\n  const setShowLogin = (data) =>\n    ctx.dispatch({ type: \"setShowLogin\", payload: data });\n  const handleCloseLogin = () => setShowLogin(false);\n  const handleShowLogin = () => {\n    setShowLogin(true);\n    loadButtons();\n  };\n\n  const setShowRegister = (data) =>\n    ctx.dispatch({ type: \"setShowRegister\", payload: data });\n  const handleCloseRegister = () => setShowRegister(false);\n  const handleShowRegister = () => {\n    setShowRegister(true);\n    loadButtons();\n  };\n\n  const setLogin = (data) => ctx.dispatch({ type: \"setLogin\", payload: data });\n  const setRegister = (data) =>\n    ctx.dispatch({ type: \"setRegister\", payload: data });\n\n  const loadButtons = () => {\n    const script = document.createElement(\"script\");\n    script.async = true;\n    script.defer = true;\n    script.crossorigin = \"anonymous\";\n    script.src =\n      \"https://connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v6.0&appId=593870491214414&autoLogAppEvents=1\";\n    document.head.appendChild(script);\n    googleSDK();\n  };\n\n  const googleButton = useRef();\n  const prepareLoginButton = () => {\n    const button_type = googleButton.current.attributes[0].value;\n    window.auth2.attachClickHandler(\n      googleButton.current,\n      {},\n      (googleUser) => {\n        let profile = googleUser.getBasicProfile();\n        if (button_type === \"register\") {\n          setRegister({\n            f_name: profile.getGivenName(),\n            l_name: profile.getFamilyName(),\n            email: profile.getEmail(),\n            imageUri: profile.getImageUrl(),\n            method: \"google\",\n          });\n          document.getElementById(\"register-button\").click();\n        } else {\n          setLogin({\n            email: profile.getEmail(),\n            method: \"google\",\n            password: \"no\",\n          });\n          document.getElementById(\"login-button\").click();\n        }\n      },\n      (error) => {\n        alert(JSON.stringify(error, undefined, 2));\n      }\n    );\n  };\n\n  const googleSDK = () => {\n    const script = document.createElement(\"script\");\n    script.src =\n      \"https://apis.google.com/js/platform.js?onload=googleSDKLoaded\";\n    script.async = true;\n    script.defer = true;\n    document.head.appendChild(script);\n\n    window[\"googleSDKLoaded\"] = () => {\n      window[\"gapi\"].load(\"auth2\", () => {\n        window.auth2 = window[\"gapi\"].auth2.init({\n          client_id:\n            \"696463816448-rsbv7ci8el2kmd18q582li2832bbuvpl.apps.googleusercontent.com\",\n          cookiepolicy: \"single_host_origin\",\n          scope: \"profile email\",\n        });\n        prepareLoginButton();\n      });\n    };\n  };\n\n  const handleChangeLogin = (e) => {\n    const name = e.target.name;\n    const value = e.target.value;\n    setLogin({ ...ctx.Login, [name]: value });\n  };\n\n  const handleChangeRegister = (e) => {\n    const name = e.target.name;\n    const value = e.target.value;\n    setRegister({ ...ctx.Register, [name]: value });\n  };\n\n  const history = useHistory();\n\n  const login = (e) => {\n    e.preventDefault();\n    const url = \"/users/login/\";\n    const payload = {\n      ...ctx.Login,\n    };\n    fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify(payload),\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\",\n      },\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.saved === \"success\") {\n          localStorage.setItem(\"token\", data.token);\n          localStorage.setItem(\"id\", data._id);\n          localStorage.setItem(\"username\", data.username);\n          localStorage.setItem(\"f_name\", data.f_name);\n          localStorage.setItem(\"l_name\", data.l_name);\n          localStorage.setItem(\"imageUri\", data.imageUri);\n          history.push(\"/user/profile/\" + data.username);\n        } else {\n          errorDisplay(data, \"login-alert\");\n        }\n      });\n  };\n\n  const register = (e) => {\n    e.preventDefault();\n    const url = \"/users/register/\";\n    let data = {\n      ...ctx.Register,\n    };\n    fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify(data),\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\",\n      },\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.saved === \"success\") {\n          const alert = document.getElementById(\"register-alert\");\n          alert.className = \"fade alert alert-success show\";\n          alert.style.display = \"block\";\n          alert.innerHTML = \"Registration Successful...\\nProceed to Login.\";\n          setTimeout(() => {\n            handleCloseRegister();\n            handleShowLogin();\n          }, 2000);\n        } else {\n          errorDisplay(data, \"register-alert\");\n        }\n      });\n  };\n\n  const fbButton = (e, type) => {\n    e.preventDefault();\n    window.FB.login(\n      (res) => {\n        if (res.status === \"connected\") {\n          window.FB.api(\n            \"/me?fields=email\" +\n              (type === \"register\" ? \",first_name,last_name,picture\" : \"\"),\n            function (res) {\n              if (type === \"login\") {\n                setLogin({\n                  email: res.email,\n                  method: \"facebook\",\n                  password: \"no\",\n                });\n                document.getElementById(\"login-button\").click();\n              } else {\n                setRegister({\n                  f_name: res.first_name,\n                  l_name: res.last_name,\n                  email: res.email,\n                  imageUri: res.picture.data.url,\n                  method: \"facebook\",\n                });\n                document.getElementById(\"register-button\").click();\n              }\n            }\n          );\n        }\n      },\n      {\n        scope: \"public_profile,email\",\n      }\n    );\n  };\n\n  return (\n    <div id=\"home\">\n      <Link to=\"/about\" id=\"about-button\">\n        <li>About</li>\n      </Link>\n      <div>Welcome To Insta Chat</div>\n      <div>\n        <button onClick={handleShowLogin}>Login</button>\n        <button onClick={handleShowRegister}>Sign Up</button>\n      </div>\n\n      <Modal\n        show={ctx.showLogin}\n        onHide={handleCloseLogin}\n        {...props}\n        size=\"md\"\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered\n      >\n        <Modal.Header\n          closeButton\n          style={{\n            backgroundColor: \"#2a2a2a\",\n            borderBottom: \"1px solid black\",\n          }}\n        >\n          <Modal.Title>Login</Modal.Title>\n        </Modal.Header>\n        <Modal.Body\n          style={{\n            backgroundColor: \"#2a2a2a\",\n          }}\n        >\n          <Alert\n            variant={\"danger\"}\n            style={{ display: \"none\" }}\n            id=\"login-alert\"\n          ></Alert>\n          <Form onSubmit={login} onChange={handleChangeLogin}>\n            <Form.Group controlId=\"formBasicEmail\">\n              <Form.Label>Email address</Form.Label>\n              <Form.Control\n                type=\"email\"\n                placeholder=\"Enter email\"\n                name=\"email\"\n              />\n            </Form.Group>\n\n            <Form.Group controlId=\"formBasicPassword\">\n              <Form.Label>Password</Form.Label>\n              <Form.Control\n                type=\"password\"\n                placeholder=\"Password\"\n                name=\"password\"\n              />\n            </Form.Group>\n            <Button variant=\"secondary\" type=\"submit\" id=\"login-button\">\n              Login\n            </Button>\n          </Form>\n        </Modal.Body>\n        <Modal.Footer\n          style={{\n            backgroundColor: \"#2a2a2a\",\n            borderTop: \"1px solid black\",\n          }}\n        >\n          <Col>\n            <Button\n              ref={googleButton}\n              button_type=\"login\"\n              variant={\"secondary\"}\n            >\n              Google Login\n            </Button>\n          </Col>\n          <Col>\n            <Button onClick={(e) => fbButton(e, \"login\")} variant={\"secondary\"}>\n              FB Login\n            </Button>\n          </Col>\n        </Modal.Footer>\n      </Modal>\n\n      <Modal\n        show={ctx.showRegister}\n        onHide={handleCloseRegister}\n        {...props}\n        size=\"md\"\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered\n      >\n        <Modal.Header\n          closeButton\n          style={{\n            backgroundColor: \"#2a2a2a\",\n            borderBottom: \"1px solid black\",\n          }}\n        >\n          <Modal.Title>Register</Modal.Title>\n        </Modal.Header>\n        <Modal.Body\n          style={{\n            backgroundColor: \"#2a2a2a\",\n          }}\n        >\n          <Alert\n            id=\"register-alert\"\n            variant={\"danger\"}\n            style={{ display: \"none\" }}\n          ></Alert>\n          <Form onSubmit={register} onChange={handleChangeRegister}>\n            <Row>\n              <Col>\n                <Form.Group controlId=\"formBasicEmail\">\n                  <Form.Label>First Name</Form.Label>\n                  <Form.Control\n                    type=\"text\"\n                    placeholder=\"First Name\"\n                    name=\"f_name\"\n                    value={ctx.Register.f_name}\n                    required={true}\n                  />\n                </Form.Group>\n              </Col>\n              <Col>\n                <Form.Group controlId=\"formBasicEmail\">\n                  <Form.Label>Last Name</Form.Label>\n                  <Form.Control\n                    type=\"text\"\n                    placeholder=\"Last Name\"\n                    name=\"l_name\"\n                    value={ctx.Register.l_name}\n                    required={true}\n                  />\n                </Form.Group>\n              </Col>\n            </Row>\n            <Form.Group controlId=\"formBasicEmail\">\n              <Form.Label>Email address</Form.Label>\n              <Form.Control\n                type=\"email\"\n                placeholder=\"Enter email\"\n                name=\"email\"\n                value={ctx.Register.email}\n                required={true}\n              />\n            </Form.Group>\n\n            <Form.Group controlId=\"formBasicPassword\">\n              <Form.Label>Password</Form.Label>\n              <Form.Control\n                type=\"password\"\n                placeholder=\"Password\"\n                name=\"password\"\n                value={ctx.Register.password}\n              />\n            </Form.Group>\n            <Button variant=\"secondary\" type=\"submit\" id=\"register-button\">\n              Sign Up\n            </Button>\n          </Form>\n        </Modal.Body>\n        <Modal.Footer\n          style={{\n            backgroundColor: \"#2a2a2a\",\n            borderTop: \"1px solid black\",\n          }}\n        >\n          <Col>\n            <Button\n              ref={googleButton}\n              button_type=\"register\"\n              variant={\"secondary\"}\n            >\n              Google SignUp\n            </Button>\n          </Col>\n          <Col>\n            <Button\n              onClick={(e) => fbButton(e, \"register\")}\n              variant={\"secondary\"}\n            >\n              FB SignUp\n            </Button>\n          </Col>\n        </Modal.Footer>\n      </Modal>\n    </div>\n  );\n}\n\nexport default Homepage;\n","import React from \"react\";\nfunction About() {\n  const style = window.matchMedia(\"(min-width: 901px)\").matches\n    ? { gridColumn: \"span 3\" }\n    : { gridColumn: \"span 2\" };\n\n  return (\n    <div id=\"about\">\n      <div id=\"about-head\" style={style}>\n        <h1>Insta Chat</h1>\n      </div>\n      <div style={style}>\n        <h2>About Developer</h2>\n        <p>\n          <strong>Name : Sanjay Majhi</strong>{\" \"}\n        </p>\n        <p>\n          I am a Full Stack MERN Developer and a pround Indian. This Website is\n          one of my project.\n        </p>\n        <p>\n          For github profile :{\" \"}\n          <a href=\"https://github.com/sanjaymajhi\">GitHub - sanjaymajhi</a>\n          <br />\n          For LinkedIn profile :{\" \"}\n          <a href=\"https://www.linkedin.com/in/sanjay-majhi-898938188/\">\n            LinkedIn - sanjaymajhi\n          </a>\n        </p>\n      </div>\n      <div style={style}>\n        <h2>About the project</h2>\n        <p>This project is a Full Stack Social Media Website.</p>\n        <p>\n          In this website, one can make his/her profile and follow other\n          peoples, create posts, like, share, comment, like comments and reply\n          to them.\n          <br />\n          See trending posts, videos, search peoples, upload photos, videos,\n          chat with friends, see notifications and so on.\n        </p>\n        <p>\n          Note : This website is not official website of any\n          company/organistaion. This is just a practice project.\n        </p>\n      </div>\n\n      <div>\n        <h3>Front end </h3>\n        <ul>\n          <li>HTML</li>\n          <li>CSS with SCSS and Bootstrap</li>\n          <li>Reactjs + Hooks</li>\n        </ul>\n      </div>\n      <div>\n        <h3>Back end </h3>\n        <ul>\n          <li>Nodejs runtime engine</li>\n          <li>Expressjs framework</li>\n        </ul>\n      </div>\n      <div>\n        <h3>DBMS used </h3>\n        <ul>\n          <li>MongoDB Atlas</li>\n          <li>Mongoose ODM</li>\n        </ul>\n      </div>\n      <div>\n        <h3>Chats</h3>\n        <ul>\n          <li>Socket.io for realtime chatting</li>\n          <li>Multer for uploading</li>\n          <li>Cloudinary for storage</li>\n        </ul>\n      </div>\n      <div>\n        <h3>Authentication </h3>\n        <ul>\n          <li>JWT based token authentication</li>\n          <li>Passwords Encypted using bcryptjs</li>\n        </ul>\n      </div>\n      <div>\n        <h3>APIs</h3>\n        <ul>\n          <li>Google Login</li>\n          <li>FB Login</li>\n          <li>Giphy API</li>\n        </ul>\n      </div>\n    </div>\n  );\n}\n\nexport default About;\n","import React from \"react\";\nimport \"../node_modules/bootstrap/dist/css/bootstrap.min.css\";\nimport User from \"./components/User\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Homepage from \"./components/Homepage\";\nimport { ContextProvider } from \"./components/Context\";\nimport About from \"./components/About\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <ContextProvider>\n          <Switch>\n            <Route path=\"/login\" exact component={Homepage} />\n            <Route path=\"/user/\" component={User} />\n            <Route path=\"/about\" component={About} />\n          </Switch>\n        </ContextProvider>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/avtar.1e976c46.png\";"],"sourceRoot":""}