{"version":3,"sources":["../node_modules/@giphy/js-brand/dist sync","components/functions.jsx","components/CreatePostOrComment.jsx","components/Context.jsx","components/SideNav.jsx","components/Posts.jsx","components/userPosts.jsx","components/Profile.jsx","components/messagesLeft.jsx","components/useInfiniteScroll.jsx","components/Home.jsx","components/messagesRight.jsx","components/Post.jsx","components/Notifications.jsx","components/ExploreLeft.jsx","components/NoMsgBox.jsx","components/MainLeft.jsx","components/FriendSuggesstion.jsx","components/MainRight.jsx","components/Main.jsx","components/User.jsx","components/Homepage.jsx","App.js","serviceWorker.js","index.js","images/avtar.png"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","likeSharePost","type","origin","preventDefault","target","myheaders","Headers","append","localStorage","getItem","fetch","method","body","JSON","stringify","postId","headers","then","res","json","data","saved","number","Number","nextSibling","textContent","style","color","CreatePostOrCommentComponent","props","gf","GiphyFetch","process","gifOrEmojiClick","selectedElem","document","getElementById","display","giphyClick","gif","a","formData","images","preview_webp","url","setFormData","disabled","isNull","key","length","flag","Modal","show","ShowCreatePostOrComment","onHide","handleCloseCreatePostOrComment","size","aria-labelledby","centered","Header","closeButton","Title","Body","Alert","variant","src","alt","Form","onChange","name","value","files","map","file","push","undefined","console","log","onSubmit","embedLink","test","form","FormData","alert","className","innerHTML","setTimeout","elem","error","msg","errors","count","err","errorDisplay","FormGroup","margin","Control","plaintext","as","rows","placeholder","resize","File","custom","Input","multiple","childNodes","reader","FileReader","onload","img","createElement","result","appendChild","readAsDataURL","InputGroup","FormControl","aria-describedby","OverlayTrigger","placement","overlay","Tooltip","Append","Text","onClick","width","height","controls","Button","Spinner","animation","Footer","justifySelf","title","click","window","matchMedia","matches","columns","fetchGifs","offset","emoji","limit","hideAttribution","onGifClick","trending","Context","React","createContext","reducer","state","action","homePosts","payload","postIdForComment","ShowCreateComment","formDataForHomeComments","userInfoForMsg","messages","showGifsForMsg","friendList","filterFriendList","formDataForPostComment","ShowCreateCommentForCmt","postDetails","commentIdForComment","showEditProfile","showEditProfilePic","showEditProfileCoverPic","profile","editProfile","searchResults","showCreatePost","gifForPost","formDataForPost","ShowCreateCommentForProfilePosts","gifForUserPostsCmnt","formDataForUserPostsCmnt","postsObject","postIdForUserPostsComment","showLogin","showRegister","Login","Register","notifics","overlayPicSrc","friendSuggesstions","trendingPosts","tab","isFetching","initialState","email","password","f_name","l_name","imageUri","bio","location","username","ContextProvider","children","useReducer","dispatch","Provider","Consumer","SideNav","ctx","useContext","setShowCreatePost","handleShowCreatePost","setFormDataForPost","to","setGif","Posts","history","posts","post","_id","user_imageUri","userId","Date","date","moment","fromNow","toLocaleDateString","day","month","postText","postImg","indexOf","postVideo","postGif","likes","shares","handleShowCreateComment","comments","sub_comments","UserPosts","useParams","useHistory","setPostsObject","setShowCreateCommentForProfilePosts","setFormDataForUserPostsCmnt","useEffect","getPosts","details","sort","b","setPosts","Profile","setShowEditProfile","handleCloseEditProfile","setShowEditProfilePic","handleCloseEditProfilePic","handleShowEditProfilePic","setShowEditProfileCoverPic","handleCloseEditProfileCoverPic","handleShowEditProfileCoverPic","getProfile","setItem","querySelector","followers","uploadPic","fileInput","uploadPicInputStyling","split","coverImageUri","avtar","padding","alignItems","join_date","year","following","backdrop","keyboard","Row","Col","Group","controlId","Label","required","data-browse","Feedback","MessagesLeft","handleCloseShowGifsForMsg","getMessages","interval","setInterval","getNewMessages","clearInterval","msgs","user1","user2","scrollTop","scrollHeight","leave","sendMessage","sendGiphy","direction","senderId","text","class","sent_time","format","image","onKeyDown","keyCode","useInfiniteScroll","setIsFetching","addEventListener","handleScroll","removeEventListener","innerHeight","documentElement","offsetHeight","Home","getHomePosts","MessagesRight","getFriendList","getMsgBoxId","friend","friend_id","msgBoxId","pathname","Prepend","list","filter","RegExp","isOnline","Post","getPost","useState","setShowCreateComment","setFormDataForPostComment","setFormDataForCmtOnCmt","setShowCreateCommentForCmt","Fragment","Object","Carousel","Item","formDataForCmtOnCmt","gifForCommentOnComment","gifForPostComment","Notifications","datetime","notific","userWhoPushed","switchInJsx","ExploreLeft","getTrendingPosts","index","setPostIdForComment","keyword","item","borderBottom","NoMsgBox","MainLeft","path","exact","component","FriendSuggesstion","getSuggesstions","followHandler","MainRight","Main","User","Homepage","setShowLogin","handleShowLogin","loadButtons","setShowRegister","handleCloseRegister","setLogin","setRegister","script","async","defer","crossorigin","head","googleSDK","googleButton","useRef","load","auth2","init","client_id","cookiepolicy","scope","button_type","current","attributes","attachClickHandler","googleUser","getBasicProfile","getGivenName","getFamilyName","getEmail","getImageUrl","prepareLoginButton","fbButton","FB","login","status","api","first_name","last_name","picture","token","ref","App","Boolean","hostname","match","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.f7a73fa4.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 109;","export default function likeSharePost(e, type, origin = \"posts\") {\n  e.preventDefault();\n  const target = e.target;\n  const myheaders = new Headers();\n  myheaders.append(\"Authorization\", \"Bearer \" + localStorage.getItem(\"token\"));\n  myheaders.append(\"content-type\", \"application/json\");\n  fetch(\"/users/posts/\" + type, {\n    method: \"post\",\n    body: JSON.stringify({\n      postId: e.target.id,\n    }),\n    headers: myheaders,\n  })\n    .then((res) => res.json())\n    .then((data) => {\n      if (data.saved === \"success\") {\n        //no of likes or shares before clicking\n        if (origin === \"posts\") {\n          let number = Number(target.nextSibling.nextSibling.textContent);\n          target.nextSibling.nextSibling.textContent =\n            target.style.color === \"blue\" ? number - 1 : number + 1;\n        }\n        target.style.color = target.style.color === \"blue\" ? \"gray\" : \"blue\";\n      }\n    });\n}\n\nexport function errorDisplay(data, elem) {\n  const alert = document.getElementById(elem);\n  alert.style.display = \"block\";\n  if (data.error) {\n    alert.innerHTML += data.error.msg;\n  }\n  if (data.errors) {\n    let count = 1;\n    data.errors.map((err) => {\n      alert.innerHTML += \"<p>\" + count + \". \" + err.msg + \"<br/></p>\";\n      count++;\n    });\n  }\n  setTimeout(function () {\n    alert.style.display = \"none\";\n  }, 10000);\n}\n","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { GiphyFetch } from \"@giphy/js-fetch-api\";\nimport { Grid } from \"@giphy/react-components\";\nimport { errorDisplay } from \"./functions\";\n\nimport {\n  Modal,\n  Form,\n  Button,\n  Alert,\n  FormGroup,\n  Spinner,\n  InputGroup,\n  FormControl,\n  Tooltip,\n  OverlayTrigger,\n} from \"react-bootstrap\";\n\nfunction CreatePostOrCommentComponent(props) {\n  const gf = new GiphyFetch(process.env.REACT_APP_GIPHY_API_KEY);\n  const fetchGifs = (offset) => gf.trending({ offset, limit: 10 });\n  const fetchEmojis = (offset) => gf.emoji({ offset, limit: 10 });\n\n  const handleChange = (e) => {\n    const name = e.target.name;\n    const value = e.target.value;\n\n    var data = {};\n    if (e.target.name === \"post-img\") {\n      data = { ...props.formData, \"post-img\": [] };\n      [...e.target.files].map((file) => data[\"post-img\"].push(file));\n      props.setFormData(data);\n    } else if (e.target.name === \"post-video\") {\n      data = props.formData;\n      data[\"post-video\"] =\n        e.target.files[0] === undefined ? null : e.target.files[0];\n      props.setFormData(data);\n    } else {\n      data = { ...props.formData, [name]: value };\n      props.setFormData(data);\n    }\n\n    console.log(data);\n    document.getElementById(\"post-button\").disabled = isNull(data);\n  };\n\n  const CreatePostOrComment = (e) => {\n    e.preventDefault();\n    if (\n      !(\n        props.formData.embedLink === null ||\n        (/[-]?[A-Za-z0-9]*[_]?[A-Za-z0-9]*/.test(props.formData.embedLink) &&\n          props.formData.embedLink.length === 11)\n      )\n    ) {\n      alert(\"Not a valid Youtube Video ID...\");\n      return;\n    }\n    document.getElementById(\"post-spinner\").style.display = \"inline-block\";\n    const form = new FormData();\n    form.append(\"post-text\", props.formData[\"post-text\"]);\n    if (props.type === \"post\") {\n      form.append(\"embedLink\", props.formData.embedLink);\n      form.append(\"post-video\", props.formData[\"post-video\"]);\n    } else {\n      form.append(\"post-gif\", props.formData[\"gif-id\"]);\n    }\n    if (props.formData[\"post-img\"].length > 0) {\n      props.formData[\"post-img\"].map((data) => form.append(\"image\", data));\n    } else {\n      form.append(\"image\", null);\n    }\n\n    if (props.type === \"comment\") {\n      form.append(\"postId\", props.postId);\n    }\n\n    const url =\n      props.type === \"comment\"\n        ? \"/users/profile/post/comment\"\n        : props.type === \"commentOnComment\"\n        ? \"/users/profile/post/commentOnComment\"\n        : props.formData[\"post-video\"] === null\n        ? \"/users/profile/postWithImage/\"\n        : \"/users/profile/postWithVideo/\";\n\n    const myheaders = new Headers();\n    myheaders.append(\n      \"Authorization\",\n      \"Bearer \" + localStorage.getItem(\"token\")\n    );\n    fetch(url, {\n      method: \"Post\",\n      body: form,\n      headers: myheaders,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.saved === \"success\") {\n          const alert = document.getElementById(\"post-alert\");\n          alert.className = \"fade alert alert-success show\";\n          alert.style.display = \"block\";\n          alert.innerHTML = \"Your details had been saved...\";\n          setTimeout(() => {\n            props.handleCloseCreatePostOrComment();\n          }, 2000);\n        } else {\n          document.getElementById(\"post-spinner\").style.display = \"none\";\n          errorDisplay(data, \"post-alert\");\n        }\n      });\n  };\n\n  const uploadVideoInputStyling = (e) => {\n    const file = e.target.files[0];\n    const alert = document.getElementById(\"post-alert\");\n    if (file.type !== \"video/mp4\") {\n      alert.style.display = \"block\";\n      alert.innerHTML = \"Only .mp4 files allowed...\";\n      e.target.value = \"\";\n    } else {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        document.getElementById(\"post-video-div\").childNodes[1].src =\n          e.target.result;\n      };\n      reader.readAsDataURL(file);\n      document.getElementById(\"post-video-div\").style.display = \"block\";\n      document.getElementById(\"post-gif-div\").style.display = \"none\";\n      document.getElementById(\"post-img-div\").style.display = \"none\";\n      document.getElementById(\"embedLink\").style.display = \"none\";\n    }\n  };\n\n  const uploadPicInputStyling = (e) => {\n    const files = [...e.target.files];\n    const alert = document.getElementById(\"post-alert\");\n    if (files.length > 4) {\n      alert.style.display = \"block\";\n      alert.innerHTML = \"Max 4 images allowed...\";\n      e.target.value = \"\";\n    } else {\n      document.getElementById(\"post-img-div\").childNodes[1].innerHTML = \"\";\n      files.map((file) => {\n        if (file.type !== \"image/jpeg\" && file.type !== \"image/png\") {\n          alert.style.display = \"block\";\n          alert.innerHTML = \"Only .jpeg or .png files allowed...\";\n          e.target.value = \"\";\n        } else {\n          var reader = new FileReader();\n          reader.onload = (e) => {\n            const img = document.createElement(\"img\");\n            img.src = e.target.result;\n            img.id = \"post-img-show\";\n            document\n              .getElementById(\"post-img-div\")\n              .childNodes[1].appendChild(img);\n          };\n          reader.readAsDataURL(file);\n          document.getElementById(\"post-video-div\").style.display = \"none\";\n          document.getElementById(\"post-gif-div\").style.display = \"none\";\n          document.getElementById(\"post-img-div\").style.display = \"block\";\n          document.getElementById(\"embedLink\").style.display = \"none\";\n        }\n      });\n    }\n  };\n\n  const gifOrEmojiClick = (type) => {\n    const selectedElem = document.getElementById(\"post-\" + type + \"-select\");\n    if (type === \"emoji\") {\n      document.getElementById(\"post-gif-select\").style.display = \"none\";\n    } else {\n      document.getElementById(\"post-emoji-select\").style.display = \"none\";\n    }\n    selectedElem.style.display === \"block\"\n      ? (selectedElem.style.display = \"none\")\n      : (selectedElem.style.display = \"block\");\n  };\n\n  const giphyClick = async (gif, e) => {\n    e.preventDefault();\n    document.getElementById(\"post-img-div\").style.display = \"none\";\n    document.getElementById(\"post-gif-div\").style.display = \"block\";\n    const { data } = await gf.gif(gif.id);\n    const formData = {\n      ...props.formData,\n      \"gif-id\": data.images.preview_webp.url,\n    };\n    props.setFormData(formData);\n    document.getElementById(\"post-button\").disabled = isNull(formData);\n  };\n\n  const isNull = (data) => {\n    for (var key in data) {\n      if (data[key] !== null && data[key] !== \"\" && data[key].length !== 0) {\n        var flag = 1;\n        break;\n      }\n    }\n    if (flag === 1) {\n      return false;\n    }\n    return true;\n  };\n\n  const renderTooltip = (props) => {\n    return (\n      <Tooltip id=\"button-tooltip\" {...props}>\n        Step 1. Search a video on youtube.\n        <br />\n        Step 2. Find video link in the browser url bar.\n        <br />\n        Example : https://www.youtube.com/watch?v=xQnIN9bW0og\n        <br />\n        Step 3. Copy the video id of length 11 ie. xQnIN9bW0og.\n        <br />\n        Step 4. Paste it here.\n      </Tooltip>\n    );\n  };\n\n  return (\n    <div>\n      <Modal\n        show={props.ShowCreatePostOrComment}\n        onHide={props.handleCloseCreatePostOrComment}\n        {...props}\n        size=\"md\"\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>\n            {props.type === \"comment\" ? \"Write a Comment\" : \"Create Post\"}\n          </Modal.Title>\n        </Modal.Header>\n\n        <Modal.Body>\n          <Alert\n            variant={\"danger\"}\n            style={{ display: \"none\" }}\n            id=\"post-alert\"\n          ></Alert>\n\n          <div id=\"post-profile-div\">\n            <img src={localStorage.getItem(\"imageUri\")} alt=\"profile\" />\n            &emsp;\n            <span>\n              <strong>\n                {localStorage.getItem(\"f_name\") +\n                  \" \" +\n                  localStorage.getItem(\"l_name\")}\n              </strong>\n            </span>\n          </div>\n\n          <Form onChange={handleChange} onSubmit={CreatePostOrComment}>\n            <FormGroup style={{ margin: \"0\" }}>\n              <Form.Control\n                plaintext\n                as=\"textarea\"\n                rows=\"3\"\n                placeholder={\n                  props.type === \"comment\"\n                    ? \"Type your comment here...\"\n                    : \"What's on your mind \" + localStorage.getItem(\"f_name\")\n                }\n                name=\"post-text\"\n                id=\"post-text\"\n                style={{ resize: \"none\" }}\n              />\n            </FormGroup>\n\n            <FormGroup style={{ margin: \"0\" }}>\n              <Form.File\n                id=\"post-pic-upload\"\n                custom\n                style={{ display: \"none\" }}\n              >\n                <Form.File.Input\n                  name=\"post-img\"\n                  multiple\n                  onChange={uploadPicInputStyling}\n                />\n              </Form.File>\n            </FormGroup>\n\n            <FormGroup style={{ margin: \"0\" }}>\n              <Form.File\n                id=\"post-video-upload\"\n                custom\n                style={{ display: \"none\" }}\n              >\n                <Form.File.Input\n                  name=\"post-video\"\n                  onChange={uploadVideoInputStyling}\n                />\n              </Form.File>\n            </FormGroup>\n\n            <InputGroup\n              className=\"mb-3\"\n              id=\"embedLink\"\n              style={{ display: \"none\" }}\n            >\n              <FormControl\n                placeholder=\"Put youtube video link here...\"\n                aria-describedby=\"basic-addon2\"\n                name=\"embedLink\"\n              />\n              <OverlayTrigger placement=\"top\" overlay={renderTooltip}>\n                <InputGroup.Append>\n                  <InputGroup.Text id=\"basic-addon2\">?</InputGroup.Text>\n                </InputGroup.Append>\n              </OverlayTrigger>\n            </InputGroup>\n\n            <div id=\"post-img-div\">\n              <i\n                className=\"material-icons\"\n                onClick={() => {\n                  document.getElementById(\"post-pic-upload\").value = \"\";\n                  document.getElementById(\"post-img-div\").style.display =\n                    \"none\";\n                  const data = {\n                    ...props.formData,\n                    \"post-img\": [],\n                  };\n                  props.setFormData(data);\n                  document.getElementById(\"post-button\").disabled = isNull(\n                    data\n                  );\n                  document.getElementById(\n                    \"post-img-div\"\n                  ).childNodes[1].innerHTML = \"\";\n                }}\n              >\n                {\" \"}\n                remove_circle\n              </i>\n              <div></div>\n            </div>\n\n            <div id=\"post-video-div\">\n              <i\n                className=\"material-icons\"\n                onClick={() => {\n                  const data = {\n                    ...props.formData,\n                    \"post-video\": [],\n                  };\n                  props.setFormData(data);\n                  document.getElementById(\"post-button\").disabled = isNull(\n                    data\n                  );\n                  document.getElementById(\"post-video-div\").style.display =\n                    \"none\";\n                }}\n              >\n                {\" \"}\n                remove_circle\n              </i>\n              <video width=\"400\" height=\"240\" controls name=\"post-video\" />\n            </div>\n\n            <div id=\"post-gif-div\">\n              {props.formData !== undefined && (\n                <img src={props.formData[\"gif-id\"]} alt=\"gif\" />\n              )}\n              <i\n                className=\"material-icons\"\n                onClick={() => {\n                  const data = {\n                    ...props.formData,\n                    \"gif-id\": null,\n                  };\n                  props.setFormData(data);\n                  document.getElementById(\"post-button\").disabled = isNull(\n                    data\n                  );\n                  document.getElementById(\"post-gif-div\").style.display =\n                    \"none\";\n                }}\n              >\n                {\" \"}\n                remove_circle\n              </i>\n            </div>\n\n            <Button\n              variant=\"primary\"\n              type=\"submit\"\n              id=\"post-button\"\n              style={{ width: \"100%\" }}\n              disabled={true}\n            >\n              <strong>{props.type || \"Post\"}</strong>&emsp;\n              <Spinner\n                animation=\"border\"\n                variant=\"dark\"\n                size=\"sm\"\n                id=\"post-spinner\"\n                style={{ display: \"none\" }}\n              />\n            </Button>\n          </Form>\n        </Modal.Body>\n\n        <Modal.Footer id=\"post-footer\">\n          <strong style={{ justifySelf: \"left\" }}>\n            Add to your {props.type || \"post\"}\n          </strong>\n          <Button variant={\"light\"} title=\"Upload image\">\n            <i\n              className=\"material-icons\"\n              onClick={() => {\n                props.setFormData({\n                  ...props.formData,\n                  embedLink: null,\n                  \"post-video\": null,\n                  \"gif-id\": null,\n                });\n                document.getElementById(\"post-pic-upload\").click();\n              }}\n            >\n              image\n            </i>\n          </Button>\n          {props.type === \"post\" ? (\n            <Button variant={\"light\"} title=\"Upload videos\">\n              {\" \"}\n              <i\n                className=\"material-icons\"\n                onClick={() => {\n                  props.setFormData({\n                    ...props.formData,\n                    embedLink: null,\n                    \"post-img\": [],\n                  });\n                  document.getElementById(\"post-video-upload\").click();\n                }}\n              >\n                videocam\n              </i>\n            </Button>\n          ) : (\n            <Button variant={\"light\"}>\n              {\" \"}\n              <i\n                className=\"material-icons\"\n                onClick={() => {\n                  props.setFormData({\n                    ...props.formData,\n                    \"post-img\": [],\n                  });\n                  gifOrEmojiClick(\"gif\");\n                }}\n              >\n                gif\n              </i>\n            </Button>\n          )}\n\n          {props.type === \"post\" ? (\n            <Button variant={\"light\"} title=\"Embed youtube videos\">\n              {\" \"}\n              <i\n                className=\"material-icons\"\n                onClick={() => {\n                  props.setFormData({\n                    ...props.formData,\n                    \"post-video\": null,\n                    \"post-img\": [],\n                  });\n                  document.getElementById(\"post-img-div\").style.display =\n                    \"none\";\n                  document.getElementById(\"post-video-div\").style.display =\n                    \"none\";\n                  document.getElementById(\"embedLink\").style.display = \"flex\";\n                }}\n              >\n                insert_link\n              </i>\n            </Button>\n          ) : (\n            <Button\n              variant={\"light\"}\n              onClick={() => {\n                props.setFormData({\n                  ...props.formData,\n                  \"post-img\": [],\n                });\n                gifOrEmojiClick(\"emoji\");\n              }}\n            >\n              <span>&#128516;</span>{\" \"}\n            </Button>\n          )}\n\n          <div id=\"post-emoji-select\">\n            {\" \"}\n            <Grid\n              width={\n                window.matchMedia(\"(max-width: 480px)\").matches ? 250 : 450\n              }\n              columns={window.matchMedia(\"(max-width: 480px)\").matches ? 2 : 3}\n              fetchGifs={fetchEmojis}\n              hideAttribution={true}\n              onGifClick={(data, e) => giphyClick(data, e)}\n            />\n          </div>\n          <div id=\"post-gif-select\">\n            {\" \"}\n            <Grid\n              width={\n                window.matchMedia(\"(max-width: 480px)\").matches ? 250 : 450\n              }\n              columns={window.matchMedia(\"(max-width: 480px)\").matches ? 2 : 3}\n              fetchGifs={fetchGifs}\n              hideAttribution={true}\n              onGifClick={(data, e) => giphyClick(data, e)}\n            />\n          </div>\n        </Modal.Footer>\n      </Modal>\n    </div>\n  );\n}\n\nexport default CreatePostOrCommentComponent;\n","import React, { useReducer } from \"react\";\n\nconst Context = React.createContext();\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"setHomePosts\":\n      return { ...state, homePosts: action.payload };\n    case \"setPostIdForComment\":\n      return { ...state, postIdForComment: action.payload };\n    case \"setShowCreateComment\":\n      return { ...state, ShowCreateComment: action.payload };\n    case \"setFormDataForHomeComments\":\n      return { ...state, formDataForHomeComments: action.payload };\n    case \"changeUserInfoForMsg\":\n      return { ...state, userInfoForMsg: action.payload };\n    case \"setMessages\":\n      return { ...state, messages: [...state.messages, ...action.payload] };\n    case \"setShowGifsForMsg\":\n      return { ...state, showGifsForMsg: action.payload };\n    case \"setFriendList\":\n      return { ...state, friendList: action.payload };\n    case \"filterFriendList\":\n      return { ...state, filterFriendList: action.payload };\n    case \"setFormDataForPostComment\":\n      return { ...state, formDataForPostComment: action.payload };\n    case \"setShowCreateCommentForCmt\":\n      return { ...state, ShowCreateCommentForCmt: action.payload };\n    case \"setPostDetails\":\n      return { ...state, postDetails: action.payload };\n    case \"setCommentIdForComment\":\n      return { ...state, commentIdForComment: action.payload };\n    case \"setShowEditProfile\":\n      return { ...state, showEditProfile: action.payload };\n    case \"setShowEditProfilePic\":\n      return { ...state, showEditProfilePic: action.payload };\n    case \"setShowEditProfileCoverPic\":\n      return { ...state, showEditProfileCoverPic: action.payload };\n    case \"setProfile\":\n      return { ...state, profile: action.payload };\n    case \"setEditProfile\":\n      return { ...state, editProfile: action.payload };\n    case \"setSearchResults\":\n      return { ...state, searchResults: action.payload };\n    case \"setShowCreatePost\":\n      return { ...state, showCreatePost: action.payload };\n    case \"setGifForPost\":\n      return { ...state, gifForPost: action.payload };\n    case \"setFormDataForPost\":\n      return { ...state, formDataForPost: action.payload };\n    case \"setShowCreateCommentForProfilePosts\":\n      return { ...state, ShowCreateCommentForProfilePosts: action.payload };\n    case \"setGifForUserPostsCmnt\":\n      return { ...state, gifForUserPostsCmnt: action.payload };\n    case \"setFormDataForUserPostsCmnt\":\n      return { ...state, formDataForUserPostsCmnt: action.payload };\n    case \"setPostsObject\":\n      return { ...state, postsObject: action.payload };\n    case \"setPostIdForUserPostsComment\":\n      return { ...state, postIdForUserPostsComment: action.payload };\n    case \"setShowLogin\":\n      return { ...state, showLogin: action.payload };\n    case \"setShowRegister\":\n      return { ...state, showRegister: action.payload };\n    case \"setLogin\":\n      return { ...state, Login: action.payload };\n    case \"setRegister\":\n      return { ...state, Register: action.payload };\n    case \"setNotifics\":\n      return { ...state, notifics: action.payload };\n    case \"setOverlayPicSrc\":\n      return { ...state, overlayPicSrc: action.payload };\n    case \"setFriendSuggesstions\":\n      return { ...state, friendSuggesstions: action.payload };\n    case \"setTrendingPosts\":\n      return {\n        ...state,\n        trendingPosts: [...state.trendingPosts, ...action.payload],\n      };\n    case \"setTab\":\n      return { ...state, tab: action.payload };\n    case \"setIsFetching\":\n      return { ...state, isFetching: action.payload };\n\n    default:\n      return state;\n  }\n}\n\nconst initialState = {\n  showLogin: false,\n  showRegister: false,\n  Login: {\n    email: \"\",\n    password: \"\",\n    method: \"native\",\n  },\n  Register: {\n    f_name: \"\",\n    l_name: \"\",\n    email: \"\",\n    password: \"\",\n    method: \"native\",\n    imageUri: \"\",\n  },\n  homePosts: [],\n  postIdForComment: \"\",\n  ShowCreateComment: false,\n  formDataForHomeComments: {\n    \"post-text\": null,\n    \"gif-id\": null,\n    \"post-img\": [],\n    postId: null,\n    embedLink: null,\n    \"post-video\": null,\n  },\n  userInfoForMsg: {},\n  messages: [],\n  showGifsForMsg: false,\n  friendList: [],\n  filterFriendList: [],\n  formDataForPostComment: {\n    \"post-text\": null,\n    \"gif-id\": null,\n    \"post-img\": [],\n    postId: null,\n    embedLink: null,\n    \"post-video\": null,\n  },\n  ShowCreateCommentForCmt: false,\n  postDetails: {},\n  commentIdForComment: \"\",\n  showEditProfile: false,\n  showEditProfilePic: false,\n  showEditProfileCoverPic: false,\n  profile: {},\n  editProfile: {\n    f_name: \"\",\n    l_name: \"\",\n    bio: \"\",\n    location: \"\",\n    username: \"\",\n  },\n  searchResults: [],\n  showCreatePost: false,\n  gifForPost: null,\n  formDataForPost: {\n    \"post-text\": null,\n    embedLink: null,\n    \"post-img\": [],\n    \"post-video\": null,\n    \"gif-id\": null,\n    postId: null,\n  },\n  ShowCreateCommentForProfilePosts: false,\n  gifForUserPostsCmnt: null,\n  formDataForUserPostsCmnt: {\n    \"post-text\": null,\n    \"gif-id\": null,\n    \"post-img\": [],\n    postId: null,\n    embedLink: null,\n    \"post-video\": null,\n  },\n  postsObject: {},\n  postIdForUserPostsComment: \"\",\n  notifics: [],\n  overlayPicSrc: \"\",\n  friendSuggesstions: [],\n  trendingPosts: [],\n  tab: \"\",\n  isFetching: false,\n};\n\nexport function ContextProvider({ children }) {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  return (\n    <Context.Provider value={{ ...state, dispatch }}>\n      {children}\n    </Context.Provider>\n  );\n}\n\nexport const ContextConsumer = Context.Consumer;\n\nexport default Context;\n","import React, { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport CreatePostOrCommentComponent from \"./CreatePostOrComment\";\nimport Context from \"./Context\";\n\nfunction SideNav(props) {\n  const ctx = useContext(Context);\n  const setShowCreatePost = (data) =>\n    ctx.dispatch({ type: \"setShowCreatePost\", payload: data });\n\n  const handleCloseCreatePost = () => {\n    setFormDataForPost({\n      \"post-text\": null,\n      embedLink: null,\n      \"post-img\": [],\n      \"post-video\": null,\n      \"gif-id\": null,\n      postId: null,\n    });\n    setShowCreatePost(false);\n  };\n  const handleShowCreatePost = () => setShowCreatePost(true);\n\n  const setGifForPost = (data) =>\n    ctx.dispatch({ type: \"setGifForPost\", payload: data });\n  const setFormDataForPost = (data) =>\n    ctx.dispatch({ type: \"setFormDataForPost\", payload: data });\n\n  return (\n    <div>\n      <ul id=\"side-nav-phone\">\n        <Link to=\"/user/\">\n          <li>\n            <i className=\"material-icons\">store</i>\n          </li>\n        </Link>\n        <Link to=\"/user/explore\">\n          <li>\n            <i className=\"material-icons\">explore</i>\n          </li>\n        </Link>\n        <Link to=\"/user/notifications\">\n          <li>\n            <i className=\"material-icons\">notifications</i>\n          </li>\n        </Link>\n        <Link to=\"/user/messages\">\n          <li>\n            <i className=\"material-icons\">message</i>\n          </li>\n        </Link>\n      </ul>\n      <button id=\"tweet-button-phone\" onClick={handleShowCreatePost}>\n        <i className=\"material-icons\"> edit</i>\n      </button>\n\n      <ul id=\"side-nav\">\n        <Link to=\"/user/\">\n          <li>\n            <h2>InstaChat</h2>\n          </li>\n        </Link>\n        <Link to=\"/user/\">\n          <li>\n            <i className=\"material-icons\">store</i>&emsp;Home\n          </li>\n        </Link>\n        <Link to=\"/user/explore\">\n          <li>\n            <i className=\"material-icons\">explore</i>&emsp;Explore\n          </li>\n        </Link>\n        <Link to=\"/user/notifications\">\n          <li>\n            <i className=\"material-icons\">notifications</i>&emsp;Notifications\n          </li>\n        </Link>\n        <Link to=\"/user/messages\">\n          <li>\n            <i className=\"material-icons\">message</i>&emsp;Messages\n          </li>\n        </Link>\n        <Link to={\"/user/profile/\" + localStorage.getItem(\"username\")}>\n          <li>\n            <i className=\"material-icons\">account_circle</i>&emsp;Profile\n          </li>\n        </Link>\n        <button onClick={handleShowCreatePost}>Tweet</button>\n      </ul>\n\n      <ul id=\"side-nav-tablet\">\n        <Link to=\"/user/\">\n          <li>\n            <h2>InstaChat</h2>\n          </li>\n        </Link>\n        <Link to=\"/user/\">\n          <li>\n            <i className=\"material-icons\">store</i>\n          </li>\n        </Link>\n        <Link to=\"/user/explore\">\n          <li>\n            <i className=\"material-icons\">explore</i>\n          </li>\n        </Link>\n        <Link to=\"/user/notifications\">\n          <li>\n            <i className=\"material-icons\">notifications</i>\n          </li>\n        </Link>\n        <Link to=\"/user/messages\">\n          <li>\n            <i className=\"material-icons\">message</i>\n          </li>\n        </Link>\n        <Link to={\"/user/profile/\" + localStorage.getItem(\"username\")}>\n          <li>\n            <i className=\"material-icons\">account_circle</i>\n          </li>\n        </Link>\n        <br />\n        <br />\n        <button onClick={handleShowCreatePost} id=\"tweet-button-tablet\">\n          <i className=\"material-icons\"> edit</i>\n        </button>\n      </ul>\n\n      {/* create post modal */}\n      <CreatePostOrCommentComponent\n        {...props}\n        type=\"post\"\n        setFormData={setFormDataForPost}\n        formData={ctx.formDataForPost}\n        handleCloseCreatePostOrComment={handleCloseCreatePost}\n        setGif={setGifForPost}\n        ShowCreatePostOrComment={ctx.showCreatePost}\n        gif={ctx.gifForPost}\n      />\n    </div>\n  );\n}\n\nexport default SideNav;\n","import React from \"react\";\nimport CreatePostOrCommentComponent from \"./CreatePostOrComment\";\nimport likeSharePost from \"./functions\";\nimport moment from \"moment\";\nimport { Carousel } from \"react-bootstrap\";\n\nfunction Posts(props) {\n  return (\n    <div id=\"home-posts\">\n      {props.type === \"home\" ? (\n        window.matchMedia(\"(max-width: 480px)\").matches ? (\n          <div id=\"home-profile-div\">\n            <img\n              src={localStorage.getItem(\"imageUri\")}\n              alt=\"profile pic\"\n              onClick={() =>\n                props.history.push(\n                  \"/user/profile/\" + localStorage.getItem(\"username\")\n                )\n              }\n            />\n            <p>\n              <strong> Home</strong>\n            </p>\n          </div>\n        ) : (\n          <h2>Home</h2>\n        )\n      ) : (\n        \"\"\n      )}\n      <div id={props.type === \"home\" ? \"home-div-posts\" : \"\"}>\n        {props.posts !== undefined && props.posts.length > 0 ? (\n          props.posts.map((post) => (\n            <div key={post._id} className=\"user_posts\">\n              <img\n                src={\n                  props.type === \"user\"\n                    ? localStorage.getItem(\"imageUri\")\n                    : props.type === \"home\"\n                    ? post.user_imageUri\n                    : post.userId.imageUri\n                }\n                alt=\"pic\"\n                id=\"user-post-img\"\n              />\n              <div id=\"post_detail\">\n                <p id=\"post-user-detail\">\n                  <strong>\n                    {props.type === \"user\"\n                      ? localStorage.getItem(\"f_name\") +\n                        \" \" +\n                        localStorage.getItem(\"l_name\")\n                      : props.type === \"home\"\n                      ? post.name\n                      : post.userId.f_name + \" \" + post.userId.l_name}\n                  </strong>\n                  &ensp;\n                  <span>\n                    {props.type === \"user\"\n                      ? \"@\" + props.id\n                      : props.type === \"home\"\n                      ? post.username\n                      : post.userId.username}\n                    {window.matchMedia(\"(max-width: 480px)\").matches ? (\n                      <br />\n                    ) : (\n                      \" · \"\n                    )}\n                    {new Date() - new Date(post.date) < 3600 * 12 * 1000\n                      ? moment(post.date).fromNow()\n                      : new Date(post.date).toLocaleDateString(\"en-US\", {\n                          day: \"numeric\",\n                          month: \"short\",\n                        })}\n                  </span>\n                </p>\n                <div\n                  onClick={() =>\n                    props.type !== \"comment\"\n                      ? props.history.push(\"/user/post/\" + post._id)\n                      : \"\"\n                  }\n                >\n                  {post.postText !== \"null\" && post.postText}\n                  <br />\n\n                  {post.postImg.length > 0 && (\n                    <div id=\"post-images\">\n                      {post.postImg.length > 1 && (\n                        <div id=\"overlayOnImage\">\n                          <h1>+{post.postImg.length - 1} more</h1>\n                        </div>\n                      )}\n                      <img src={post.postImg[0]} alt=\"\" />\n                    </div>\n                  )}\n                  {[null, undefined].indexOf(post.postVideo) === -1 && (\n                    <div id=\"post-images\">\n                      <video src={post.postVideo} controls />\n                    </div>\n                  )}\n\n                  {[undefined, null].indexOf(post.postGif) === -1 && (\n                    <div id=\"post-detail-gif-div\">\n                      <img src={post.postGif} alt=\"\" />{\" \"}\n                    </div>\n                  )}\n                  {[null, undefined].indexOf(post.embedLink) === -1 && (\n                    <iframe\n                      title=\"Youtube Video\"\n                      src={\"https://www.youtube.com/embed/\" + post.embedLink}\n                    ></iframe>\n                  )}\n                </div>\n                <div id=\"like-share\">\n                  <span>\n                    <i\n                      className=\"material-icons\"\n                      onClick={(e) => likeSharePost(e, \"like\")}\n                      id={post._id}\n                      style={{\n                        color:\n                          post.likes.indexOf(localStorage.getItem(\"id\")) === -1\n                            ? \"gray\"\n                            : \"blue\",\n                      }}\n                    >\n                      thumb_up\n                    </i>\n                    &emsp;\n                    {post.likes.length}\n                  </span>\n                  {props.type !== \"comment\" ? (\n                    <span>\n                      <i\n                        className=\"material-icons\"\n                        onClick={(e) => likeSharePost(e, \"share\")}\n                        id={post._id}\n                        style={{\n                          color:\n                            post.shares.indexOf(localStorage.getItem(\"id\")) ===\n                            -1\n                              ? \"gray\"\n                              : \"blue\",\n                        }}\n                      >\n                        {\" \"}\n                        share\n                      </i>\n                      &ensp;\n                      {post.shares.length}\n                    </span>\n                  ) : (\n                    \"\"\n                  )}\n                  <span>\n                    <i\n                      className=\"material-icons\"\n                      onClick={props.handleShowCreateComment}\n                      id={post._id}\n                    >\n                      {\" \"}\n                      message\n                    </i>{\" \"}\n                    &ensp;\n                    {props.type !== \"comment\"\n                      ? post.comments.length\n                      : post.sub_comments.length}\n                  </span>\n                </div>\n              </div>\n            </div>\n          ))\n        ) : props.type === \"home\" ? (\n          <h2>\n            No Posts to show... <br />\n            Please follow some peoples...\n          </h2>\n        ) : (\n          \"\"\n        )}\n        <CreatePostOrCommentComponent\n          {...props}\n          setFormData={props.setFormData}\n          formData={props.formData}\n          handleCloseCreatePostOrComment={props.handleCloseCreatePostOrComment}\n          setGif={props.setGif}\n          ShowCreatePostOrComment={props.ShowCreatePostOrComment}\n          gif={props.gif}\n          type={props.type === \"comment\" ? \"commentOnComment\" : \"comment\"}\n          postId={props.postId}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default Posts;\n","import React, { useEffect, useContext } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport Posts from \"./Posts\";\nimport Context from \"./Context\";\n\nfunction UserPosts(props) {\n  const ctx = useContext(Context);\n\n  const { id } = useParams();\n  const history = useHistory();\n\n  const setPostIdForUserPostsComment = (data) =>\n    ctx.dispatch({\n      type: \"setPostIdForUserPostsComment\",\n      payload: data,\n    });\n\n  const setPostsObject = (data) =>\n    ctx.dispatch({\n      type: \"setPostsObject\",\n      payload: data,\n    });\n\n  const setShowCreateCommentForProfilePosts = (data) =>\n    ctx.dispatch({\n      type: \"setShowCreateCommentForProfilePosts\",\n      payload: data,\n    });\n  const handleCloseCreateComment = () => {\n    setFormDataForUserPostsCmnt({});\n    setShowCreateCommentForProfilePosts(false);\n  };\n  const handleShowCreateCommentForProfilePosts = (e) => {\n    setPostIdForUserPostsComment(e.target.id);\n    setShowCreateCommentForProfilePosts(true);\n  };\n\n  const setGifForUserPostsCmnt = (data) =>\n    ctx.dispatch({\n      type: \"setGifForUserPostsCmnt\",\n      payload: data,\n    });\n  const setFormDataForUserPostsCmnt = (data) =>\n    ctx.dispatch({\n      type: \"setFormDataForUserPostsCmnt\",\n      payload: data,\n    });\n\n  useEffect(() => {\n    getPosts();\n  }, [id]);\n\n  const getPosts = () => {\n    const myheaders = new Headers();\n    myheaders.append(\n      \"Authorization\",\n      \"Bearer \" + localStorage.getItem(\"token\")\n    );\n    fetch(\"/users/profile/\" + id + \"/posts\", {\n      method: \"get\",\n      headers: myheaders,\n    })\n      .then((res) => res.json())\n      .then(async (details) => {\n        if (details.saved === \"success\") {\n          details.posts.sort((a, b) => new Date(b.date) - new Date(a.date));\n          await setPostsObject(details);\n        }\n      });\n  };\n\n  return (\n    <Posts\n      {...props}\n      type=\"user\"\n      history={history}\n      posts={ctx.postsObject.posts}\n      setPosts={setPostsObject}\n      setFormData={setFormDataForUserPostsCmnt}\n      formData={ctx.formDataForUserPostsCmnt}\n      handleCloseCreatePostOrComment={handleCloseCreateComment}\n      setGif={setGifForUserPostsCmnt}\n      ShowCreatePostOrComment={ctx.ShowCreateCommentForProfilePosts}\n      gif={ctx.gifForUserPostsCmnt}\n      postId={ctx.postIdForUserPostsComment}\n      handleShowCreateComment={handleShowCreateCommentForProfilePosts}\n      id={id}\n    />\n  );\n}\n\nexport default UserPosts;\n","import React, { useEffect, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport avtar from \"../images/avtar.png\";\nimport {\n  Modal,\n  Alert,\n  Form,\n  Button,\n  Row,\n  Col,\n  FormGroup,\n  Spinner,\n} from \"react-bootstrap\";\nimport { useParams } from \"react-router-dom\";\nimport UserPosts from \"./userPosts\";\nimport Context from \"./Context\";\n\nfunction Profile(props) {\n  const ctx = useContext(Context);\n\n  const setShowEditProfile = (data) =>\n    ctx.dispatch({ type: \"setShowEditProfile\", payload: data });\n\n  const handleCloseEditProfile = () => setShowEditProfile(false);\n  const handleShowEditProfile = () => setShowEditProfile(true);\n\n  const setShowEditProfilePic = (data) =>\n    ctx.dispatch({ type: \"setShowEditProfilePic\", payload: data });\n\n  const handleCloseEditProfilePic = () => setShowEditProfilePic(false);\n  const handleShowEditProfilePic = () => setShowEditProfilePic(true);\n\n  const setShowEditProfileCoverPic = (data) =>\n    ctx.dispatch({ type: \"setShowEditProfileCoverPic\", payload: data });\n\n  const handleCloseEditProfileCoverPic = () =>\n    setShowEditProfileCoverPic(false);\n  const handleShowEditProfileCoverPic = () => setShowEditProfileCoverPic(true);\n\n  const setEditProfile = (data) =>\n    ctx.dispatch({ type: \"setEditProfile\", payload: data });\n\n  var { id } = useParams();\n\n  useEffect(() => {\n    getProfile();\n  }, [id]);\n\n  const getProfile = () => {\n    const myheaders = new Headers();\n    myheaders.append(\n      \"Authorization\",\n      \"Bearer \" + localStorage.getItem(\"token\")\n    );\n    myheaders.append(\"content-type\", \"application/json\");\n    fetch(\"/users/profile/\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        username: \"@\" + id,\n      }),\n      headers: myheaders,\n    })\n      .then((res) => res.json())\n      .then(async (data) => {\n        await ctx.dispatch({ type: \"setProfile\", payload: data.details });\n        localStorage.setItem(\"f_name\", data.details.f_name);\n        localStorage.setItem(\"l_name\", data.details.l_name);\n        localStorage.setItem(\"imageUri\", data.details.imageUri);\n        if (document.querySelector(\".follow-button\") !== null) {\n          document.querySelector(\".follow-button\").innerHTML =\n            data.details.followers.indexOf(data.id) === -1\n              ? \"Follow\"\n              : \"Following\";\n        }\n      });\n  };\n\n  const handleChange = (e) => {\n    const name = e.target.name;\n    const value = e.target.value;\n    setEditProfile({ ...ctx.editProfile, [name]: value });\n  };\n\n  const history = useHistory();\n  const updateProfile = (e) => {\n    e.preventDefault();\n    const payload = {\n      ...ctx.editProfile,\n    };\n    const myheaders = new Headers();\n    myheaders.append(\n      \"Authorization\",\n      \"Bearer \" + localStorage.getItem(\"token\")\n    );\n    myheaders.append(\"content-type\", \"application/json\");\n    fetch(\"/users/update\", {\n      method: \"Post\",\n      body: JSON.stringify(payload),\n      headers: myheaders,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.saved === \"success\") {\n          const alert = document.getElementById(\"edit-alert\");\n          alert.className = \"fade alert alert-success show\";\n          alert.style.display = \"block\";\n          alert.innerHTML = \"Your details had been saved...\";\n          id = ctx.editProfile.username;\n          localStorage.setItem(\"username\", ctx.editProfile.username);\n          setTimeout(() => {\n            handleCloseEditProfile();\n          }, 2000);\n          history.push(\"/user/profile/\" + id); //used to update the url as well as call getProfile\n        } else {\n          errorDisplay(data);\n        }\n      });\n  };\n\n  const followHandler = (e) => {\n    e.preventDefault();\n    const myheaders = new Headers();\n    myheaders.append(\n      \"Authorization\",\n      \"Bearer \" + localStorage.getItem(\"token\")\n    );\n    fetch(\"/users/profile/\" + id + \"/follow\", {\n      method: \"get\",\n      headers: myheaders,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.saved === \"success\") {\n          getProfile();\n        }\n      });\n  };\n\n  const errorDisplay = (data) => {\n    const alert = document.getElementById(\"edit-alert\");\n    alert.style.display = \"block\";\n    if (data.error) {\n      alert.innerHTML += data.error.msg;\n    }\n    if (data.errors) {\n      let count = 1;\n      data.errors.map((err) => {\n        alert.innerHTML += \"<p>\" + count + \". \" + err.msg + \"<br/></p>\";\n        count++;\n      });\n    }\n    setTimeout(function () {\n      alert.style.display = \"none\";\n    }, 10000);\n  };\n\n  const uploadPic = (e, type) => {\n    e.preventDefault();\n    document.getElementById(\"upload-\" + type + \"-button\").disabled = true;\n    document.getElementById(type + \"-upload-spinner\").style.display =\n      \"inline-block\";\n    const fileInput = e.target[0].files[0];\n    const formData = new FormData();\n    formData.append(\"image\", fileInput);\n    const myheaders = new Headers();\n    myheaders.append(\n      \"Authorization\",\n      \"Bearer \" + localStorage.getItem(\"token\")\n    );\n    fetch(\"/users/profile/upload/\" + type, {\n      method: \"post\",\n      body: formData,\n      headers: myheaders,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.saved === \"success\") {\n          if (type === \"profile\") {\n            handleCloseEditProfilePic();\n          } else {\n            handleCloseEditProfileCoverPic();\n          }\n          getProfile();\n        }\n      });\n  };\n\n  const uploadPicInputStyling = (e, type) => {\n    document.getElementById(type + \"-pic-upload\").className =\n      \"custom-file-input \" +\n      (e.target.files[0].type === \"image/png\"\n        ? \"is-valid\"\n        : e.target.files[0].type === \"image/jpeg\"\n        ? \"is-valid\"\n        : \"is-invalid\");\n    document.getElementById(type + \"-pic-upload-label\").innerHTML =\n      e.target.files[0].name;\n    document.getElementById(\"upload-\" + type + \"-button\").disabled =\n      document.getElementById(type + \"-pic-upload\").className.split(\" \")[1] ===\n      \"is-valid\"\n        ? false\n        : true;\n  };\n\n  return (\n    <div>\n      <div id=\"profile-head\">\n        <strong>{ctx.profile.f_name + \" \" + ctx.profile.l_name}</strong>\n        <br />\n        {ctx.profile.posts && ctx.profile.posts.length} Tweets\n      </div>\n      <div id=\"body\">\n        {ctx.profile.coverImageUri === \"\" ? (\n          <div\n            id=\"cover-image\"\n            onClick={\n              localStorage.getItem(\"username\") === id\n                ? handleShowEditProfileCoverPic\n                : \"\"\n            }\n          />\n        ) : (\n          <img\n            id=\"cover-image\"\n            src={ctx.profile.coverImageUri}\n            alt=\"cover\"\n            onClick={\n              localStorage.getItem(\"username\") === id\n                ? handleShowEditProfileCoverPic\n                : () => {\n                    document.getElementById(\"overlay-pics\").style.display =\n                      \"block\";\n\n                    ctx.dispatch({\n                      type: \"setOverlayPicSrc\",\n                      payload: ctx.profile.coverImageUri,\n                    });\n                  }\n            }\n          />\n        )}\n        {ctx.profile.imageUri === \"\" ? (\n          <img\n            src={avtar}\n            alt=\"no profile\"\n            id=\"profile-pic\"\n            onClick={\n              localStorage.getItem(\"username\") === id\n                ? handleShowEditProfilePic\n                : \"\"\n            }\n          />\n        ) : (\n          <img\n            src={ctx.profile.imageUri}\n            alt=\"profile\"\n            id=\"profile-pic\"\n            onClick={\n              localStorage.getItem(\"username\") === id\n                ? handleShowEditProfilePic\n                : () => {\n                    document.getElementById(\"overlay-pics\").style.display =\n                      \"block\";\n\n                    ctx.dispatch({\n                      type: \"setOverlayPicSrc\",\n                      payload: ctx.profile.imageUri,\n                    });\n                  }\n            }\n          />\n        )}\n\n        <div id=\"profile-div\">\n          <div\n            style={{\n              justifySelf: \"right\",\n              padding: \"0\",\n              alignItems: \"center\",\n            }}\n          >\n            {localStorage.getItem(\"username\") === id ? (\n              <button\n                id=\"button\"\n                className=\"edit-button\"\n                onClick={handleShowEditProfile}\n              >\n                Edit Profile\n              </button>\n            ) : (\n              <button\n                id=\"button\"\n                className=\"follow-button\"\n                onClick={followHandler}\n              >\n                Follow\n              </button>\n            )}\n          </div>\n          <div>\n            &nbsp;\n            <strong>{ctx.profile.f_name + \" \" + ctx.profile.l_name}</strong>\n            <br />\n            &nbsp;\n            <span>{ctx.profile.username}</span>\n          </div>\n          <div>{ctx.profile.bio}</div>\n          <div>\n            <span>\n              <i className=\"material-icons\">location_on</i>\n              {ctx.profile.location + \" \"}&nbsp;\n              <i className=\"material-icons\"> date_range</i>{\" \"}\n              {\" Joined \" +\n                new Date(ctx.profile.join_date).toLocaleDateString(\"en-US\", {\n                  month: \"long\",\n                  year: \"numeric\",\n                })}\n            </span>\n          </div>\n          <div>\n            &nbsp;\n            <strong>\n              {(ctx.profile.following === undefined\n                ? 0\n                : ctx.profile.following.length) + \" \"}\n            </strong>{\" \"}\n            <span>Following</span>\n            &emsp;\n            <strong>\n              {\" \" +\n                (ctx.profile.followers === undefined\n                  ? 0\n                  : ctx.profile.followers.length) +\n                \" \"}\n            </strong>\n            <span>Followers</span>\n          </div>\n          <div style={{ justifySelf: \"center\", padding: \"0\" }}>\n            <strong>Tweets</strong>{\" \"}\n          </div>\n        </div>\n\n        <div>\n          <UserPosts />\n        </div>\n\n        <div\n          id=\"overlay-pics\"\n          onClick={() => {\n            document.getElementById(\"overlay-pics\").style.display = \"none\";\n            ctx.dispatch({\n              type: \"setOverlayPicSrc\",\n              payload: \"\",\n            });\n          }}\n        >\n          <img src={ctx.overlayPicSrc} alt=\"large size pic\" />\n        </div>\n        <Modal\n          show={ctx.showEditProfile}\n          onHide={handleCloseEditProfile}\n          {...props}\n          size=\"md\"\n          aria-labelledby=\"contained-modal-title-vcenter\"\n          centered\n          backdrop=\"static\"\n          keyboard={false}\n        >\n          <Modal.Header\n            closeButton={ctx.profile.username === \"\" ? false : true}\n          >\n            <Modal.Title>Edit Profile</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <Alert\n              variant={\"danger\"}\n              style={{ display: \"none\" }}\n              id=\"edit-alert\"\n            ></Alert>\n            <Form onChange={handleChange} onSubmit={updateProfile}>\n              <Row>\n                <Col>\n                  <Form.Group controlId=\"formBasicFirstName\">\n                    <Form.Label>First Name</Form.Label>\n                    <Form.Control\n                      type=\"text\"\n                      placeholder=\"Enter First Name\"\n                      name=\"f_name\"\n                      required={true}\n                    />\n                  </Form.Group>\n                </Col>\n                <Col>\n                  <Form.Group controlId=\"formBasicLastName\">\n                    <Form.Label>Last Name</Form.Label>\n                    <Form.Control\n                      type=\"text\"\n                      placeholder=\"Enter Last Name\"\n                      name=\"l_name\"\n                      required={true}\n                    />\n                  </Form.Group>\n                </Col>\n              </Row>\n              <Form.Group controlId=\"formBasicUsername\">\n                <Form.Label>Username</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  placeholder=\"Enter Username\"\n                  name=\"username\"\n                  required={true}\n                />\n              </Form.Group>\n\n              <Form.Group controlId=\"formBasicBio\">\n                <Form.Label>Bio</Form.Label>\n                <Form.Control\n                  type=\"bio\"\n                  placeholder=\"Add Your Bio\"\n                  name=\"bio\"\n                  required={true}\n                />\n              </Form.Group>\n\n              <Form.Group controlId=\"formBasicLocation\">\n                <Form.Label>Location</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  placeholder=\"Add Your location\"\n                  name=\"location\"\n                  required={true}\n                />\n              </Form.Group>\n              <Button variant=\"primary\" type=\"submit\" id=\"login-button\">\n                Save\n              </Button>\n            </Form>\n          </Modal.Body>\n        </Modal>\n\n        <Modal\n          show={ctx.showEditProfilePic}\n          onHide={handleCloseEditProfilePic}\n          {...props}\n          size=\"md\"\n          aria-labelledby=\"contained-modal-title-vcenter\"\n          centered\n          backdrop=\"static\"\n        >\n          <Modal.Header closeButton>\n            <Modal.Title>Update Profile Pic</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <Form onSubmit={(e) => uploadPic(e, \"profile\")}>\n              <FormGroup>\n                <Form.File id=\"profile-pic-upload\" custom>\n                  <Form.File.Input\n                    onChange={(e) => uploadPicInputStyling(e, \"profile\")}\n                  />\n                  <Form.File.Label\n                    data-browse=\"Browse\"\n                    id=\"profile-pic-upload-label\"\n                  >\n                    Choose Your Pic\n                  </Form.File.Label>\n                  <Form.Control.Feedback type=\"invalid\">\n                    wrong file format (only .jpg and .png allowed)\n                  </Form.Control.Feedback>\n                </Form.File>\n              </FormGroup>\n              <Button\n                variant=\"primary\"\n                type=\"submit\"\n                id=\"upload-profile-button\"\n                disabled\n              >\n                Upload\n              </Button>\n              &emsp;\n              <Spinner\n                animation=\"border\"\n                variant=\"primary\"\n                size=\"sm\"\n                id=\"profile-upload-spinner\"\n                style={{ display: \"none\" }}\n              />\n            </Form>\n          </Modal.Body>\n        </Modal>\n\n        <Modal\n          show={ctx.showEditProfileCoverPic}\n          onHide={handleCloseEditProfileCoverPic}\n          {...props}\n          size=\"md\"\n          aria-labelledby=\"contained-modal-title-vcenter\"\n          centered\n          backdrop=\"static\"\n        >\n          <Modal.Header closeButton>\n            <Modal.Title>Update Profile Cover</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <Form onSubmit={(e) => uploadPic(e, \"profile-cover\")}>\n              <FormGroup>\n                <Form.File id=\"profile-cover-pic-upload\" custom>\n                  <Form.File.Input\n                    onChange={(e) => uploadPicInputStyling(e, \"profile-cover\")}\n                  />\n                  <Form.File.Label\n                    data-browse=\"Browse\"\n                    id=\"profile-cover-pic-upload-label\"\n                  >\n                    Choose Your Pic\n                  </Form.File.Label>\n                  <Form.Control.Feedback type=\"invalid\">\n                    wrong file format (only .jpg and .png allowed)\n                  </Form.Control.Feedback>\n                </Form.File>\n              </FormGroup>\n              <Button\n                variant=\"primary\"\n                type=\"submit\"\n                id=\"upload-profile-cover-button\"\n                disabled\n              >\n                Upload\n              </Button>\n              &emsp;\n              <Spinner\n                animation=\"border\"\n                variant=\"primary\"\n                size=\"sm\"\n                id=\"profile-cover-upload-spinner\"\n                style={{ display: \"none\" }}\n              />\n            </Form>\n          </Modal.Body>\n        </Modal>\n      </div>\n    </div>\n  );\n}\n\nexport default Profile;\n","import React, { useContext, useEffect } from \"react\";\nimport Context from \"./Context\";\nimport { Modal, Alert } from \"react-bootstrap\";\nimport { GiphyFetch } from \"@giphy/js-fetch-api\";\nimport { Grid } from \"@giphy/react-components\";\nimport moment from \"moment\";\nimport { useParams } from \"react-router-dom\";\n\nfunction MessagesLeft(props) {\n  const ctx = useContext(Context);\n  const { id } = useParams();\n\n  const gf = new GiphyFetch(process.env.REACT_APP_GIPHY_API_KEY);\n  const fetchEmojis = (offset) => gf.emoji({ offset, limit: 10 });\n\n  const handleCloseShowGifsForMsg = () =>\n    ctx.dispatch({ type: \"setShowGifsForMsg\", payload: false });\n  const handleShowGifsForMsg = () =>\n    ctx.dispatch({ type: \"setShowGifsForMsg\", payload: true });\n\n  useEffect(() => {\n    getMessages(id);\n  }, []);\n\n  useEffect(() => {\n    const interval = setInterval(\n      () => getNewMessages(id, ctx.messages.length),\n      1000\n    );\n    document.getElementById(\"tweet-button-phone\").style.display = \"none\";\n    return () => {\n      clearInterval(interval);\n      if (window.matchMedia(\"(max-width: 480px)\").matches) {\n        document.getElementById(\"tweet-button-phone\").style.display = \"block\";\n      }\n    };\n  }, [ctx.userInfoForMsg]);\n\n  const getMessages = (id) => {\n    const myheaders = new Headers();\n    myheaders.append(\n      \"Authorization\",\n      \"Bearer \" + localStorage.getItem(\"token\")\n    );\n    myheaders.append(\"content-type\", \"application/json\");\n    fetch(\"/users/messages/\" + id, {\n      method: \"get\",\n      headers: myheaders,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.saved === \"success\") {\n          ctx.dispatch({ type: \"setMessages\", payload: data.msgs });\n          ctx.dispatch({\n            type: \"changeUserInfoForMsg\",\n            payload:\n              data.user1 === localStorage.getItem(\"id\")\n                ? data.user2\n                : data.user1,\n          });\n          const elem = document.getElementById(\"msg-box-msgs\");\n          elem.scrollTop = elem.scrollHeight;\n        } else {\n          ctx.dispatch({\n            type: \"setMessages\",\n            payload: { saved: \"unsuccessful\" },\n          });\n        }\n      });\n  };\n\n  const getNewMessages = (id, leave) => {\n    //leave no. of messages as already present in state\n    const myheaders = new Headers();\n    myheaders.append(\n      \"Authorization\",\n      \"Bearer \" + localStorage.getItem(\"token\")\n    );\n    myheaders.append(\"content-type\", \"application/json\");\n    fetch(\"/users/messages/\" + id + \"/\" + leave, {\n      method: \"get\",\n      headers: myheaders,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.saved === \"success\") {\n          ctx.dispatch({ type: \"setMessages\", payload: data.msgs });\n          const elem = document.getElementById(\"msg-box-msgs\");\n          elem.scrollTop = elem.scrollHeight;\n        }\n      });\n  };\n\n  const sendMessage = (name, value) => {\n    const formData = new FormData();\n    formData.append(name, value);\n    formData.append(\"friendId\", ctx.userInfoForMsg.id);\n    formData.append(\"msgBoxId\", id);\n\n    const myheaders = new Headers();\n    myheaders.append(\n      \"Authorization\",\n      \"Bearer \" + localStorage.getItem(\"token\")\n    );\n\n    fetch(\"/users/sendMsg\", {\n      method: \"post\",\n      body: formData,\n      headers: myheaders,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.saved === \"success\") {\n          if (name === \"gif\") {\n            handleCloseShowGifsForMsg();\n          }\n          if (name === \"text\") {\n            document.getElementById(\"text\").value = \"\";\n          }\n          getMessages(id, ctx.messages.length - 1);\n        }\n      });\n  };\n\n  const sendGiphy = async (gif, e) => {\n    e.preventDefault();\n    const { data } = await gf.gif(gif.id);\n    sendMessage(\"gif\", data.images.preview_webp.url);\n  };\n\n  const sendImage = (e) => {\n    const file = e.target.files[0];\n    const alert = document.getElementById(\"wrong-image-alert\");\n    if (file.type !== \"image/jpeg\" && file.type !== \"image/png\") {\n      alert.style.display = \"block\";\n      alert.innerHTML = \"Only .jpeg or .png files allowed...\";\n      setInterval(() => (alert.style.display = \"none\"), 2000);\n      e.target.value = \"\";\n    } else {\n      sendMessage(\"image\", file);\n    }\n  };\n\n  return (\n    <div id=\"message-left\">\n      <div id=\"msg-box\">\n        <div id=\"msg-box-profile\">\n          <img\n            src={ctx.userInfoForMsg.imageUri}\n            alt={ctx.userInfoForMsg.name + \" pic\"}\n          />\n          <div>\n            <strong>{ctx.userInfoForMsg.name}</strong>\n            <br />\n            <span>{ctx.userInfoForMsg.username}</span>\n          </div>\n        </div>\n\n        <Alert\n          variant={\"danger\"}\n          style={{ display: \"none\" }}\n          id=\"wrong-image-alert\"\n        ></Alert>\n        <div id=\"msg-box-msgs\">\n          {ctx.messages.length > 0 &&\n            ctx.messages.map((msg) => {\n              var direction = \"\";\n              if (msg.senderId === localStorage.getItem(\"id\")) {\n                direction = \"right\";\n              } else {\n                direction = \"left\";\n              }\n              if (msg.text) {\n                return (\n                  <div key={msg._id} class={direction}>\n                    <li>\n                      {msg.text}&ensp;\n                      <span>{moment(msg.sent_time).format(\"HH:mm A\")}</span>\n                    </li>\n                  </div>\n                );\n              } else if (msg.image) {\n                return (\n                  <div key={msg._id} class={direction}>\n                    <img src={msg.image} alt=\"\" />\n                    <br />\n                    <span>{moment(msg.sent_time).format(\"HH:mm A\")}</span>\n                  </div>\n                );\n              } else {\n                return (\n                  <div key={msg._id} class={direction}>\n                    <img src={msg.gif} alt=\"\" />\n                    <br />\n                    <span>{moment(msg.sent_time).format(\"HH:mm A\")}</span>\n                  </div>\n                );\n              }\n            })}\n        </div>\n        <div id=\"msg-box-bottom-div\">\n          <i\n            className=\"material-icons\"\n            onClick={() => document.getElementById(\"send-image\").click()}\n          >\n            image\n          </i>\n          <i className=\"material-icons\" onClick={handleShowGifsForMsg}>\n            gif\n          </i>\n          <input\n            type=\"text\"\n            placeholder=\"Type your msg here... press enter to send\"\n            id=\"text\"\n            onKeyDown={(e) => {\n              if (e.keyCode === 13) {\n                sendMessage(\"text\", document.getElementById(\"text\").value);\n              }\n            }}\n          />\n        </div>\n      </div>\n      )}\n      <input\n        type=\"file\"\n        name=\"image\"\n        id=\"send-image\"\n        onChange={sendImage}\n        style={{ display: \"none\" }}\n      />\n      <Modal\n        show={ctx.showGifsForMsg}\n        onHide={handleCloseShowGifsForMsg}\n        {...props}\n        size=\"md\"\n        centered\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Select Gif</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <div id=\"gif-modal\">\n            <Grid\n              fetchGifs={fetchEmojis}\n              width={\n                window.matchMedia(\"(max-width: 480px)\").matches ? 250 : 450\n              }\n              columns={window.matchMedia(\"(max-width: 480px)\").matches ? 2 : 3}\n              hideAttribution={true}\n              onGifClick={sendGiphy}\n            />\n          </div>\n        </Modal.Body>\n      </Modal>\n    </div>\n  );\n}\n\nexport default MessagesLeft;\n","import { useEffect, useContext } from \"react\";\nimport Context from \"./Context\";\n\nfunction useInfiniteScroll() {\n  const ctx = useContext(Context);\n\n  const setIsFetching = (data) =>\n    ctx.dispatch({ type: \"setIsFetching\", payload: data });\n\n  useEffect(() => {\n    window.addEventListener(\"scroll\", handleScroll);\n    return () => window.removeEventListener(\"scroll\", handleScroll);\n  }, []);\n\n  const handleScroll = () => {\n    if (\n      window.innerHeight + document.documentElement.scrollTop !==\n        document.getElementById(\"main\").offsetHeight ||\n      ctx.isFetching\n    )\n      return;\n    setIsFetching(true);\n  };\n\n  return [ctx.isFetching, setIsFetching];\n}\n\nexport default useInfiniteScroll;\n","import React, { useEffect, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Posts from \"./Posts\";\nimport Context from \"./Context\";\nimport useInfiniteScroll from \"./useInfiniteScroll\";\n\nfunction Home(props) {\n  const ctx = useContext(Context);\n\n  const history = useHistory();\n\n  useEffect(() => {\n    getHomePosts();\n  }, []);\n\n  const handleCloseCreateComment = () => {\n    ctx.dispatch({\n      type: \"setFormDataForHomeComments\",\n      payload: {\n        \"post-text\": null,\n        embedLink: null,\n        \"post-img\": [],\n        \"post-video\": null,\n        \"gif-id\": null,\n        postId: null,\n      },\n    });\n    ctx.dispatch({ type: \"setShowCreateComment\", payload: false });\n  };\n  const handleShowCreateComment = (e) => {\n    ctx.dispatch({ type: \"setPostIdForComment\", payload: e.target.id });\n    ctx.dispatch({ type: \"setShowCreateComment\", payload: true });\n  };\n\n  const setFormDataForHomeComments = (data) =>\n    ctx.dispatch({ type: \"setFormDataForHomeComments\", payload: data });\n\n  const getHomePosts = () => {\n    const myheaders = new Headers();\n    myheaders.append(\n      \"Authorization\",\n      \"Bearer \" + localStorage.getItem(\"token\")\n    );\n    fetch(\"/users/homePosts/\", {\n      method: \"get\",\n      headers: myheaders,\n    })\n      .then((res) => res.json())\n      .then(async (data) => {\n        if (data.saved === \"success\") {\n          data.details.sort((a, b) => new Date(b.date) - new Date(a.date));\n          ctx.dispatch({ type: \"setHomePosts\", payload: [...data.details] });\n        }\n      });\n  };\n\n  return (\n    <Posts\n      {...props}\n      type=\"home\"\n      history={history}\n      posts={ctx.homePosts}\n      setFormData={setFormDataForHomeComments}\n      formData={ctx.formDataForHomeComments}\n      handleCloseCreatePostOrComment={handleCloseCreateComment}\n      ShowCreatePostOrComment={ctx.ShowCreateComment}\n      postId={ctx.postIdForComment}\n      handleShowCreateComment={handleShowCreateComment}\n    />\n  );\n}\n\nexport default Home;\n","import React, { useEffect, useContext } from \"react\";\nimport { InputGroup, FormControl } from \"react-bootstrap\";\nimport Context from \"./Context\";\nimport { useHistory } from \"react-router-dom\";\n\nfunction MessagesRight() {\n  const ctx = useContext(Context);\n  const history = useHistory();\n\n  useEffect(() => {\n    getFriendList();\n  }, []);\n\n  const getFriendList = () => {\n    const myheaders = new Headers();\n    myheaders.append(\n      \"Authorization\",\n      \"Bearer \" + localStorage.getItem(\"token\")\n    );\n    fetch(\"/users/friend-list\", {\n      method: \"get\",\n      headers: myheaders,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.saved === \"success\") {\n          ctx.dispatch({ type: \"setFriendList\", payload: data.data });\n        }\n      });\n  };\n\n  const getMsgBoxId = (friend) => {\n    const myheaders = new Headers();\n    myheaders.append(\n      \"Authorization\",\n      \"Bearer \" + localStorage.getItem(\"token\")\n    );\n    myheaders.append(\"content-type\", \"application/json\");\n    fetch(\"/users/getMsgBoxId\", {\n      method: \"post\",\n      body: JSON.stringify({\n        friend_id: friend.id,\n      }),\n      headers: myheaders,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.saved === \"success\") {\n          ctx.dispatch({\n            type: \"changeUserInfoForMsg\",\n            payload: friend,\n          });\n          history.push(\"/user/messages/\" + data.msgBoxId);\n        } else {\n          ctx.dispatch({\n            type: \"setMessages\",\n            payload: { saved: \"unsuccessful\" },\n          });\n        }\n      });\n  };\n\n  const handleChange = (e) => {\n    const value = e.target.value;\n    const list = ctx.friendList.filter(\n      (friend) => new RegExp(\"(\" + value + \")\", \"i\").test(friend.name) && friend\n    );\n    ctx.dispatch({ type: \"filterFriendList\", payload: list });\n  };\n\n  return (\n    <div id=\"messages-right\">\n      <p>\n        <strong>\n          {history.location.pathname === \"/user/messages\"\n            ? \"Messages\"\n            : \"Friends\"}\n        </strong>{\" \"}\n      </p>\n      {history.location.pathname === \"/user/messages\" && (\n        <div id=\"msg-people-search\">\n          <InputGroup className=\"mb-3\">\n            <InputGroup.Prepend>\n              <InputGroup.Text>\n                <i className=\"material-icons\">&#xe8b6;</i>\n              </InputGroup.Text>\n            </InputGroup.Prepend>\n            <FormControl\n              placeholder=\"Search your Friends\"\n              onChange={handleChange}\n            />\n          </InputGroup>\n        </div>\n      )}\n      {ctx.filterFriendList.length > 0\n        ? ctx.filterFriendList.map((friend) => (\n            <div\n              key={friend.id}\n              id=\"msg-profile-div\"\n              onClick={() => getMsgBoxId(friend)}\n            >\n              <div id=\"msg-profile-pic\">\n                <img src={friend.imageUri} alt={friend.name + \" pic\"} />\n                {friend.isOnline && <span id=\"dot\"></span>}\n              </div>\n              <div>\n                <strong> {friend.name}</strong>\n\n                <br />\n                <span>{\"@\" + friend.username}</span>\n              </div>\n            </div>\n          ))\n        : ctx.friendList.map((friend) => (\n            <div\n              key={friend.id}\n              id=\"msg-profile-div\"\n              onClick={() => getMsgBoxId(friend)}\n            >\n              <div id=\"msg-profile-pic\">\n                <img src={friend.imageUri} alt={friend.name + \" pic\"} />\n                {friend.isOnline && <span id=\"dot\"></span>}\n              </div>\n              <div>\n                <strong> {friend.name}</strong>\n\n                <br />\n                <span>{\"@\" + friend.username}</span>\n              </div>\n            </div>\n          ))}\n    </div>\n  );\n}\n\nexport default MessagesRight;\n","import React, { useEffect, useState, useContext } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport moment from \"moment\";\nimport CreatePostOrCommentComponent from \"./CreatePostOrComment\";\nimport Posts from \"./Posts\";\nimport Context from \"./Context\";\nimport likeSharePost from \"./functions\";\nimport { Carousel } from \"react-bootstrap\";\n\nfunction Post(props) {\n  const { id } = useParams();\n  const ctx = useContext(Context);\n\n  useEffect(() => getPost(), []);\n\n  const [ShowCreateComment, setShowCreateComment] = useState(false);\n  const handleCloseCreateComment = () => {\n    setFormDataForPostComment({\n      \"post-text\": null,\n      embedLink: null,\n      \"post-img\": [],\n      \"post-video\": null,\n      \"gif-id\": null,\n      postId: null,\n    });\n    setShowCreateComment(false);\n  };\n  const handleShowCreateComment = () => {\n    setShowCreateComment(true);\n  };\n\n  const setFormDataForPostComment = (data) =>\n    ctx.dispatch({ type: \"setFormDataForPostComment\", payload: data });\n\n  //comment on comment\n  const setGifForCommentOnComment = (data) =>\n    ctx.dispatch({ type: \"setGifForCommentOnComment\", payload: data });\n\n  const setFormDataForCmtOnCmt = (data) =>\n    ctx.dispatch({ type: \"setFormDataForCmtOnCmt\", payload: data });\n\n  const setCommentIdForComment = (data) =>\n    ctx.dispatch({ type: \"setCommentIdForComment\", payload: data });\n\n  const setShowCreateCommentForCmt = (data) =>\n    ctx.dispatch({ type: \"setShowCreateCommentForCmt\", payload: data });\n\n  const handleCloseCreateCommentForCmt = () => {\n    setFormDataForCmtOnCmt({});\n    setShowCreateCommentForCmt(false);\n  };\n  const handleShowCreateCommentForCmt = (e) => {\n    setCommentIdForComment(e.target.id);\n    setShowCreateCommentForCmt(true);\n  };\n\n  const getPost = () => {\n    const myheaders = new Headers();\n    myheaders.append(\n      \"Authorization\",\n      \"Bearer \" + localStorage.getItem(\"token\")\n    );\n    fetch(\"/users/post/\" + id, {\n      method: \"get\",\n      headers: myheaders,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data);\n        if (data.saved === \"success\") {\n          ctx.dispatch({ type: \"setPostDetails\", payload: data.details });\n          console.log(data.details);\n        }\n      });\n  };\n\n  return (\n    <React.Fragment>\n      {Object.keys(ctx.postDetails).length > 0 && (\n        <div>\n          <div id=\"single-post-head\">\n            <h3>Post</h3>\n          </div>\n\n          <div id=\"single-post-div\">\n            <div id=\"single-post-profile-pic\">\n              <img\n                src={ctx.postDetails.imageUri}\n                alt={ctx.postDetails.name + \" profile pic\"}\n              />\n            </div>\n            <div>\n              <strong>{ctx.postDetails.name}</strong>\n              <span>{\" · \" + ctx.postDetails.username}</span>\n              <div id=\"single-post-text\">\n                {ctx.postDetails.postText !== \"null\" &&\n                  ctx.postDetails.postText}\n              </div>\n              <br />\n              <div id=\"single-post-img-div\">\n                {ctx.postDetails.postImg.length > 0 &&\n                  (ctx.postDetails.postImg.length === 1 ? (\n                    <img\n                      className=\"d-block w-100\"\n                      src={ctx.postDetails.postImg[0]}\n                      alt=\"\"\n                      onClick={() => {\n                        ctx.dispatch({\n                          type: \"setOverlayPicSrc\",\n                          payload: ctx.postDetails.postImg[0],\n                        });\n                        document.getElementById(\"overlay-pics\").style.display =\n                          \"block\";\n                      }}\n                    />\n                  ) : (\n                    <Carousel>\n                      {ctx.postDetails.postImg.map((img) => (\n                        <Carousel.Item\n                          onClick={() => {\n                            ctx.dispatch({\n                              type: \"setOverlayPicSrc\",\n                              payload: img,\n                            });\n                            document.getElementById(\n                              \"overlay-pics\"\n                            ).style.display = \"block\";\n                          }}\n                        >\n                          <img className=\"d-block w-100\" src={img} alt=\"\" />\n                        </Carousel.Item>\n                      ))}\n                    </Carousel>\n                  ))}\n                {ctx.postDetails.postGif !== undefined && (\n                  <div>\n                    <img src={ctx.postDetails.postGif} alt=\"\" />\n                  </div>\n                )}\n              </div>\n              {ctx.postDetails.embedLink !== null && (\n                <iframe\n                  title=\"Youtube Video\"\n                  src={\n                    \"https://www.youtube.com/embed/\" + ctx.postDetails.embedLink\n                  }\n                ></iframe>\n              )}\n              {ctx.postDetails.postVideo !== null && (\n                <video src={ctx.postDetails.postVideo} controls />\n              )}\n            </div>\n          </div>\n\n          <div id=\"single-post-date\">\n            <span>\n              {moment(ctx.postDetails.date).format(\"HH:mm A\") +\n                \" · \" +\n                moment(ctx.postDetails.date).format(\"ll\")}\n            </span>\n          </div>\n\n          <div id=\"single-post-likeshare\">\n            <strong>{ctx.postDetails.likes.length}</strong>\n            <span> Likes</span> &emsp;\n            <strong>{ctx.postDetails.shares.length}</strong>\n            <span> Shares</span>\n          </div>\n\n          <div id=\"likesharecomment\">\n            <span>\n              <i\n                className=\"material-icons\"\n                onClick={(e) => likeSharePost(e, \"like\", \"post\")}\n                id={ctx.postDetails._id}\n                style={{\n                  color:\n                    ctx.postDetails.likes.indexOf(\n                      localStorage.getItem(\"id\")\n                    ) === -1\n                      ? \"gray\"\n                      : \"blue\",\n                }}\n              >\n                thumb_up\n              </i>\n              &ensp; Like\n            </span>\n\n            <span>\n              <i\n                className=\"material-icons\"\n                onClick={(e) => likeSharePost(e, \"share\", \"post\")}\n                id={ctx.postDetails._id}\n                style={{\n                  color:\n                    ctx.postDetails.shares.indexOf(\n                      localStorage.getItem(\"id\")\n                    ) === -1\n                      ? \"gray\"\n                      : \"blue\",\n                }}\n              >\n                {\" \"}\n                share\n              </i>\n              &ensp; Share\n            </span>\n\n            <span>\n              <i className=\"material-icons\" onClick={handleShowCreateComment}>\n                {\" \"}\n                message\n              </i>\n              &ensp; Comment\n            </span>\n          </div>\n\n          <div\n            id=\"overlay-pics\"\n            onClick={() => {\n              document.getElementById(\"overlay-pics\").style.display = \"none\";\n              ctx.dispatch({\n                type: \"setOverlayPicSrc\",\n                payload: \"\",\n              });\n            }}\n          >\n            <img src={ctx.overlayPicSrc} alt=\"large size pic\" />\n          </div>\n\n          <Posts\n            {...props}\n            type=\"comment\"\n            posts={ctx.postDetails.comments}\n            setFormData={setFormDataForCmtOnCmt}\n            formData={ctx.formDataForCmtOnCmt}\n            handleCloseCreatePostOrComment={handleCloseCreateCommentForCmt}\n            setGif={setGifForCommentOnComment}\n            ShowCreatePostOrComment={ctx.ShowCreateCommentForCmt}\n            gif={ctx.gifForCommentOnComment}\n            postId={ctx.commentIdForComment}\n            handleShowCreateComment={handleShowCreateCommentForCmt}\n          />\n\n          {/* comment on opened post */}\n\n          <CreatePostOrCommentComponent\n            {...props}\n            setFormData={setFormDataForPostComment}\n            formData={ctx.formDataForPostComment}\n            handleCloseCreatePostOrComment={handleCloseCreateComment}\n            ShowCreatePostOrComment={ShowCreateComment}\n            gif={ctx.gifForPostComment}\n            type=\"comment\"\n            postId={id}\n          />\n        </div>\n      )}\n    </React.Fragment>\n  );\n}\n\nexport default Post;\n","import React, { useEffect, useContext } from \"react\";\nimport Context from \"./Context\";\nimport moment from \"moment\";\nimport { useHistory } from \"react-router-dom\";\n\nfunction Notifications() {\n  const ctx = useContext(Context);\n  const history = useHistory();\n\n  const myheaders = new Headers();\n  myheaders.append(\"Authorization\", \"Bearer \" + localStorage.getItem(\"token\"));\n  const get_notifications = () =>\n    fetch(\"/users/notifications\", {\n      method: \"GET\",\n      headers: myheaders,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.saved === \"success\") {\n          data.notifics.sort(\n            (a, b) => new Date(b.datetime) - new Date(a.datetime)\n          );\n          ctx.dispatch({ type: \"setNotifics\", payload: data.notifics });\n        }\n      });\n\n  useEffect(() => {\n    get_notifications();\n  }, []);\n\n  const switchInJsx = (data) => {\n    switch (data) {\n      case \"share\":\n        return \"shared your post.\";\n      case \"like\":\n        return \"liked your post.\";\n      case \"comment\":\n        return \"commented on your post.\";\n      default:\n        return \"started following you.\";\n    }\n  };\n\n  return (\n    <div id=\"notific-div\">\n      <div id=\"notific-head\">\n        <h3>Notifications</h3>\n      </div>\n      <div id=\"notifics\">\n        {ctx.notifics.length > 0 ? (\n          ctx.notifics.map((notific) => (\n            <div id=\"notific\">\n              <img\n                src={notific.userWhoPushed.imageUri}\n                alt={notific.userWhoPushed.f_name + \" pic\"}\n              />\n              <div\n                onClick={\n                  notific.type !== \"follow\"\n                    ? () => history.push(\"/user/post/\" + notific.postId)\n                    : () =>\n                        history.push(\n                          \"/user/profile/\" +\n                            notific.userWhoPushed.username.split(\"@\")[1]\n                        )\n                }\n              >\n                <strong>\n                  {notific.userWhoPushed._id === localStorage.getItem(\"id\")\n                    ? \"You\"\n                    : notific.userWhoPushed.f_name +\n                      \" \" +\n                      notific.userWhoPushed.l_name}\n                </strong>{\" \"}\n                {switchInJsx(notific.type)}\n                <br />\n                <span>{moment(notific.datetime).fromNow()}</span>\n              </div>\n            </div>\n          ))\n        ) : (\n          <div id=\"no-notific\">\n            <h3> There are no notifications to show</h3>\n            <span>Follow peoples and create posts</span>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Notifications;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport Context from \"./Context\";\nimport { InputGroup, FormControl, Spinner } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport Posts from \"./Posts\";\nimport useInfiniteScroll from \"./useInfiniteScroll\";\n\nfunction ExploreLeft(props) {\n  const ctx = useContext(Context);\n  const [isFetching, setIsFetching] = useInfiniteScroll();\n\n  useEffect(() => {\n    if (isFetching) {\n      getTrendingPosts(ctx.trendingPosts.length);\n    }\n  }, [isFetching]);\n\n  const searchPeople = (e) => {\n    document.getElementById(\"search-people-results\").style.display = \"block\";\n    const keyword = e.target.value;\n    const myheaders = new Headers();\n    myheaders.append(\n      \"Authorization\",\n      \"Bearer \" + localStorage.getItem(\"token\")\n    );\n    myheaders.append(\"content-type\", \"application/json\");\n    if (keyword !== \"\") {\n      fetch(\"/users/search\", {\n        method: \"post\",\n        body: JSON.stringify({ value: keyword }),\n        headers: myheaders,\n      })\n        .then((res) => res.json())\n        .then(async (data) => {\n          await ctx.dispatch({ type: \"setSearchResults\", payload: data });\n        });\n    } else {\n      document.getElementById(\"search-people-results\").style.display = \"none\";\n    }\n  };\n\n  const getTrendingPosts = (index) => {\n    const myheaders = new Headers();\n    myheaders.append(\n      \"Authorization\",\n      \"Bearer \" + localStorage.getItem(\"token\")\n    );\n    fetch(\"/users/get-trending-posts/from/\" + index, {\n      method: \"get\",\n      headers: myheaders,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.saved === \"success\") {\n          ctx.dispatch({ type: \"setTrendingPosts\", payload: data.data });\n          ctx.dispatch({ type: \"setTab\", payload: \"posts\" });\n          setIsFetching(false);\n        }\n      });\n  };\n\n  useEffect(() => {\n    getTrendingPosts(0);\n  }, []);\n\n  const [postIdForComment, setPostIdForComment] = useState(\"\");\n\n  const [ShowCreateComment, setShowCreateComment] = useState(false);\n  const handleCloseCreateComment = () => {\n    setFormDataForPostComment({});\n    setShowCreateComment(false);\n  };\n  const handleShowCreateComment = (e) => {\n    setPostIdForComment(e.target.id);\n    setShowCreateComment(true);\n  };\n\n  const setGifForPostComment = (data) =>\n    ctx.dispatch({ type: \"setGifForPostComment\", payload: data });\n\n  const setFormDataForPostComment = (data) =>\n    ctx.dispatch({ type: \"setFormDataForPostComment\", payload: data });\n\n  return (\n    <div className=\"explore-left\">\n      <div id=\"explore-fixed\">\n        <form onChange={searchPeople}>\n          <InputGroup className=\"mb-1\">\n            <InputGroup.Prepend>\n              <InputGroup.Text>\n                <i className=\"material-icons\">&#xe8b6;</i>\n              </InputGroup.Text>\n            </InputGroup.Prepend>\n            <FormControl\n              placeholder=\"Search your Friends\"\n              name=\"search\"\n              id=\"search-people\"\n            />\n          </InputGroup>\n          <ul id=\"search-people-results\">\n            {ctx.searchResults.map((item) => (\n              <Link to={\"/user/profile/\" + item.username.split(\"@\")[1]}>\n                <li>\n                  <img src={item.imageUri} alt=\"profile\" />\n                  <div>\n                    <strong>{item.f_name + \" \" + item.l_name}</strong> <br />\n                    <span>{item.username}</span>\n                  </div>\n                </li>\n              </Link>\n            ))}\n          </ul>\n        </form>\n\n        <div id=\"explore-tabs\">\n          <div\n            id=\"posts\"\n            onClick={() => ctx.dispatch({ type: \"setTab\", payload: \"posts\" })}\n            style={\n              ctx.tab === \"posts\" ? { borderBottom: \"1px solid blue\" } : {}\n            }\n          >\n            Posts\n          </div>\n          <div\n            id=\"videos\"\n            onClick={() => ctx.dispatch({ type: \"setTab\", payload: \"videos\" })}\n            style={\n              ctx.tab === \"videos\" ? { borderBottom: \"1px solid blue\" } : {}\n            }\n          >\n            Videos\n          </div>\n        </div>\n      </div>\n      <div id=\"explore-posts\">\n        {ctx.tab === \"posts\" ? (\n          <Posts\n            {...props}\n            type=\"user\"\n            posts={ctx.trendingPosts}\n            setFormData={setFormDataForPostComment}\n            formData={ctx.formDataForPostComment}\n            handleCloseCreatePostOrComment={handleCloseCreateComment}\n            setGif={setGifForPostComment}\n            ShowCreatePostOrComment={ctx.ShowCreateComment}\n            gif={ctx.gifForPostComment}\n            postId={ctx.postIdForComment}\n            handleShowCreateComment={handleShowCreateComment}\n          />\n        ) : (\n          \"\"\n        )}\n      </div>\n      {isFetching === true && (\n        <div style={{ width: \"20%\", margin: \"2vh auto\" }}>\n          <Spinner animation=\"border\" variant=\"primary\" size=\"md\" />\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default ExploreLeft;\n","import React from \"react\";\n\nfunction NoMsgBox() {\n  return (\n    <div id=\"message-left\">\n      <div id=\"msg-not-selected\">\n        <h2>You don't have a message selected</h2>\n        <span>Select one of your friend to message</span>\n      </div>\n    </div>\n  );\n}\n\nexport default NoMsgBox;\n","import React, { useContext } from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport Profile from \"./Profile\";\nimport MessagesLeft from \"./messagesLeft\";\nimport Home from \"./Home\";\nimport MessagesRight from \"./messagesRight\";\nimport Post from \"./Post\";\nimport Context from \"./Context\";\nimport Notifications from \"./Notifications\";\nimport ExploreLeft from \"./ExploreLeft\";\nimport NoMsgBox from \"./NoMsgBox\";\n\nfunction MainLeft() {\n  const ctx = useContext(Context);\n  return (\n    <div className=\"main-left\">\n      <Switch>\n        <Route path=\"/user/\" exact component={Home} />\n\n        <Route path=\"/user/profile/:id\" component={Profile} />\n\n        <Route\n          path=\"/user/messages/:id\"\n          component={\n            window.matchMedia(\"(min-width: 901px)\").matches\n              ? MessagesLeft\n              : Object.keys(ctx.userInfoForMsg).length > 0\n              ? MessagesLeft\n              : MessagesRight\n          }\n        />\n\n        <Route\n          path=\"/user/messages/\"\n          component={\n            window.matchMedia(\"(min-width: 901px)\").matches\n              ? NoMsgBox\n              : MessagesRight\n          }\n        />\n\n        <Route path=\"/user/post/:id\" component={Post} />\n\n        <Route path=\"/user/notifications/\" component={Notifications} />\n\n        <Route path=\"/user/explore/\" component={ExploreLeft} />\n      </Switch>\n    </div>\n  );\n}\n\nexport default MainLeft;\n","import React, { useEffect, useContext } from \"react\";\nimport Context from \"./Context\";\nimport { useHistory } from \"react-router-dom\";\n\nfunction FriendSuggesstion() {\n  const ctx = useContext(Context);\n  const history = useHistory();\n\n  const getSuggesstions = () => {\n    const myheaders = new Headers();\n    myheaders.append(\n      \"Authorization\",\n      \"Bearer \" + localStorage.getItem(\"token\")\n    );\n    fetch(\"/users/friend-suggesstions\", {\n      method: \"get\",\n      headers: myheaders,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.saved === \"success\") {\n          ctx.dispatch({ type: \"setFriendSuggesstions\", payload: data.data });\n        }\n      });\n  };\n\n  useEffect(() => {\n    getSuggesstions();\n  }, []);\n\n  const followHandler = (e, id) => {\n    e.preventDefault();\n    const myheaders = new Headers();\n    myheaders.append(\n      \"Authorization\",\n      \"Bearer \" + localStorage.getItem(\"token\")\n    );\n    fetch(\"/users/profile/\" + id + \"/follow\", {\n      method: \"get\",\n      headers: myheaders,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.saved === \"success\") {\n          getSuggesstions();\n        }\n      });\n  };\n\n  return (\n    <div id=\"friend-suggesstions\">\n      <p>\n        <strong>Peoples You May Know</strong>{\" \"}\n      </p>\n      {ctx.friendSuggesstions.map((friend) => (\n        <div key={friend._id} id=\"suggess-profile-pic\">\n          <img src={friend.imageUri} alt={friend.name + \" pic\"} />\n          <div\n            onClick={() =>\n              history.push(\"/user/profile/\" + friend.username.split(\"@\")[1])\n            }\n          >\n            <strong>{friend.f_name + \" \" + friend.l_name}</strong>\n\n            <br />\n            {friend.username}\n          </div>\n          <button\n            onClick={(e) => followHandler(e, friend.username.split(\"@\")[1])}\n          >\n            Follow\n          </button>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default FriendSuggesstion;\n","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport MessagesRight from \"./messagesRight\";\nimport FriendSuggesstion from \"./FriendSuggesstion\";\n\nfunction MainRight() {\n  return (\n    <div className=\"main-right\">\n      <Switch>\n        <Route path=\"/user/profile/:id\" component={MessagesRight} />\n        <Route path=\"/user/messages/\" component={MessagesRight} />\n        <Route path=\"/user/explore\" component={FriendSuggesstion} />\n        <Route path=\"/user/\" exact component={FriendSuggesstion} />\n      </Switch>\n    </div>\n  );\n}\n\nexport default MainRight;\n","import React from \"react\";\nimport MainLeft from \"./MainLeft\";\nimport MainRight from \"./MainRight\";\n\nfunction Main() {\n  return (\n    <div id=\"main\">\n      <MainLeft />\n      <MainRight />\n    </div>\n  );\n}\n\nexport default Main;\n","import React from \"react\";\nimport SideNav from \"./SideNav\";\nimport Main from \"./Main\";\n\nfunction User() {\n  return (\n    <div id=\"user\">\n      <Main />\n      <SideNav />\n    </div>\n  );\n}\n\nexport default User;\n","import React, { useRef, useContext } from \"react\";\nimport { Modal, Button, Form, Row, Col, Alert } from \"react-bootstrap\";\nimport { useHistory } from \"react-router-dom\";\nimport Context from \"./Context\";\n\nfunction Homepage(props) {\n  const ctx = useContext(Context);\n\n  const setShowLogin = (data) =>\n    ctx.dispatch({ type: \"setShowLogin\", payload: data });\n  const handleCloseLogin = () => setShowLogin(false);\n  const handleShowLogin = () => {\n    setShowLogin(true);\n    loadButtons();\n  };\n\n  const setShowRegister = (data) =>\n    ctx.dispatch({ type: \"setShowRegister\", payload: data });\n  const handleCloseRegister = () => setShowRegister(false);\n  const handleShowRegister = () => {\n    setShowRegister(true);\n    loadButtons();\n  };\n\n  const setLogin = (data) => ctx.dispatch({ type: \"setLogin\", payload: data });\n  const setRegister = (data) =>\n    ctx.dispatch({ type: \"setRegister\", payload: data });\n\n  const loadButtons = () => {\n    const script = document.createElement(\"script\");\n    script.async = true;\n    script.defer = true;\n    script.crossorigin = \"anonymous\";\n    script.src =\n      \"https://connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v6.0&appId=593870491214414&autoLogAppEvents=1\";\n    document.head.appendChild(script);\n    googleSDK();\n  };\n\n  const googleButton = useRef();\n  const prepareLoginButton = () => {\n    const button_type = googleButton.current.attributes[0].value;\n    window.auth2.attachClickHandler(\n      googleButton.current,\n      {},\n      (googleUser) => {\n        let profile = googleUser.getBasicProfile();\n        if (button_type === \"register\") {\n          setRegister({\n            f_name: profile.getGivenName(),\n            l_name: profile.getFamilyName(),\n            email: profile.getEmail(),\n            imageUri: profile.getImageUrl(),\n            method: \"google\",\n          });\n          document.getElementById(\"register-button\").click();\n        } else {\n          setLogin({\n            email: profile.getEmail(),\n            method: \"google\",\n            password: \"no\",\n          });\n          document.getElementById(\"login-button\").click();\n        }\n      },\n      (error) => {\n        alert(JSON.stringify(error, undefined, 2));\n      }\n    );\n  };\n\n  const googleSDK = () => {\n    const script = document.createElement(\"script\");\n    script.src =\n      \"https://apis.google.com/js/platform.js?onload=googleSDKLoaded\";\n    script.async = true;\n    script.defer = true;\n    document.head.appendChild(script);\n\n    window[\"googleSDKLoaded\"] = () => {\n      window[\"gapi\"].load(\"auth2\", () => {\n        window.auth2 = window[\"gapi\"].auth2.init({\n          client_id:\n            \"696463816448-rsbv7ci8el2kmd18q582li2832bbuvpl.apps.googleusercontent.com\",\n          cookiepolicy: \"single_host_origin\",\n          scope: \"profile email\",\n        });\n        prepareLoginButton();\n      });\n    };\n  };\n\n  const handleChangeLogin = (e) => {\n    const name = e.target.name;\n    const value = e.target.value;\n    setLogin({ ...ctx.Login, [name]: value });\n  };\n\n  const handleChangeRegister = (e) => {\n    const name = e.target.name;\n    const value = e.target.value;\n    setRegister({ ...ctx.Register, [name]: value });\n  };\n\n  const errorDisplay = (data, id) => {\n    const alert = document.getElementById(id);\n    alert.style.display = \"block\";\n    if (data.error) {\n      alert.innerHTML += data.error.msg;\n    }\n    if (data.errors) {\n      let count = 1;\n      data.errors.map((err) => {\n        alert.innerHTML += \"<p>\" + count + \". \" + err.msg + \"<br/></p>\";\n        count++;\n      });\n    }\n    setTimeout(function () {\n      alert.style.display = \"none\";\n    }, 10000);\n  };\n\n  const history = useHistory();\n\n  const login = (e) => {\n    e.preventDefault();\n    const url = \"/users/login/\";\n    const payload = {\n      ...ctx.Login,\n    };\n    fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify(payload),\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\",\n      },\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.saved === \"success\") {\n          console.log(data);\n          localStorage.setItem(\"token\", data.token);\n          localStorage.setItem(\"id\", data._id);\n          localStorage.setItem(\"username\", data.username);\n          localStorage.setItem(\"f_name\", data.f_name);\n          localStorage.setItem(\"l_name\", data.l_name);\n          localStorage.setItem(\"imageUri\", data.imageUri);\n          history.push(\"/user/profile/\" + data.username);\n        } else {\n          errorDisplay(data, \"login-alert\");\n        }\n      });\n  };\n\n  const register = (e) => {\n    e.preventDefault();\n    const url = \"/users/register/\";\n    let data = {\n      ...ctx.Register,\n    };\n    fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify(data),\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\",\n      },\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.saved === \"success\") {\n          const alert = document.getElementById(\"register-alert\");\n          alert.className = \"fade alert alert-success show\";\n          alert.style.display = \"block\";\n          alert.innerHTML = \"Registration Successful...\\nProceed to Login.\";\n          setTimeout(() => {\n            handleCloseRegister();\n            handleShowLogin();\n          }, 2000);\n        } else {\n          errorDisplay(data, \"register-alert\");\n        }\n      });\n  };\n\n  const fbButton = (e, type) => {\n    e.preventDefault();\n    window.FB.login(\n      (res) => {\n        if (res.status === \"connected\") {\n          window.FB.api(\n            \"/me?fields=email\" +\n              (type === \"register\" ? \",first_name,last_name,picture\" : \"\"),\n            function (res) {\n              if (type === \"login\") {\n                setLogin({\n                  email: res.email,\n                  method: \"facebook\",\n                  password: \"no\",\n                });\n                document.getElementById(\"login-button\").click();\n              } else {\n                console.log(res);\n                setRegister({\n                  f_name: res.first_name,\n                  l_name: res.last_name,\n                  email: res.email,\n                  imageUri: res.picture.data.url,\n                  method: \"facebook\",\n                });\n                document.getElementById(\"register-button\").click();\n              }\n            }\n          );\n        }\n      },\n      {\n        scope: \"public_profile,email\",\n      }\n    );\n  };\n\n  return (\n    <div id=\"home\">\n      <div>Welcome To InstaChat</div>\n      <div>\n        <button onClick={handleShowLogin}>Login</button>\n        <button onClick={handleShowRegister}>Sign Up</button>\n      </div>\n\n      <Modal\n        show={ctx.showLogin}\n        onHide={handleCloseLogin}\n        {...props}\n        size=\"md\"\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Login</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Alert\n            variant={\"danger\"}\n            style={{ display: \"none\" }}\n            id=\"login-alert\"\n          ></Alert>\n          <Form onSubmit={login} onChange={handleChangeLogin}>\n            <Form.Group controlId=\"formBasicEmail\">\n              <Form.Label>Email address</Form.Label>\n              <Form.Control\n                type=\"email\"\n                placeholder=\"Enter email\"\n                name=\"email\"\n              />\n            </Form.Group>\n\n            <Form.Group controlId=\"formBasicPassword\">\n              <Form.Label>Password</Form.Label>\n              <Form.Control\n                type=\"password\"\n                placeholder=\"Password\"\n                name=\"password\"\n              />\n            </Form.Group>\n            <Button variant=\"primary\" type=\"submit\" id=\"login-button\">\n              Login\n            </Button>\n          </Form>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button ref={googleButton} button_type=\"login\">\n            Login with Google\n          </Button>\n          <Button onClick={(e) => fbButton(e, \"login\")}>\n            Login with FaceBook\n          </Button>\n        </Modal.Footer>\n      </Modal>\n\n      <Modal\n        show={ctx.showRegister}\n        onHide={handleCloseRegister}\n        {...props}\n        size=\"md\"\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Register</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Alert\n            id=\"register-alert\"\n            variant={\"danger\"}\n            style={{ display: \"none\" }}\n          ></Alert>\n          <Form onSubmit={register} onChange={handleChangeRegister}>\n            <Row>\n              <Col>\n                <Form.Group controlId=\"formBasicEmail\">\n                  <Form.Label>First Name</Form.Label>\n                  <Form.Control\n                    type=\"text\"\n                    placeholder=\"First Name\"\n                    name=\"f_name\"\n                    value={ctx.Register.f_name}\n                    required={true}\n                  />\n                </Form.Group>\n              </Col>\n              <Col>\n                <Form.Group controlId=\"formBasicEmail\">\n                  <Form.Label>Last Name</Form.Label>\n                  <Form.Control\n                    type=\"text\"\n                    placeholder=\"Last Name\"\n                    name=\"l_name\"\n                    value={ctx.Register.l_name}\n                    required={true}\n                  />\n                </Form.Group>\n              </Col>\n            </Row>\n            <Form.Group controlId=\"formBasicEmail\">\n              <Form.Label>Email address</Form.Label>\n              <Form.Control\n                type=\"email\"\n                placeholder=\"Enter email\"\n                name=\"email\"\n                value={ctx.Register.email}\n                required={true}\n              />\n            </Form.Group>\n\n            <Form.Group controlId=\"formBasicPassword\">\n              <Form.Label>Password</Form.Label>\n              <Form.Control\n                type=\"password\"\n                placeholder=\"Password\"\n                name=\"password\"\n                value={ctx.Register.password}\n              />\n            </Form.Group>\n            <Button variant=\"primary\" type=\"submit\" id=\"register-button\">\n              Sign Up\n            </Button>\n          </Form>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button ref={googleButton} button_type=\"register\">\n            SignUp with Google\n          </Button>\n          <Button onClick={(e) => fbButton(e, \"register\")}>\n            SignUp with FaceBook\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </div>\n  );\n}\n\nexport default Homepage;\n","import React from \"react\";\nimport \"../node_modules/bootstrap/dist/css/bootstrap.min.css\";\nimport User from \"./components/User\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Homepage from \"./components/Homepage\";\nimport { ContextProvider } from \"./components/Context\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <ContextProvider>\n          <Switch>\n            <Route path=\"/login\" exact component={Homepage} />\n            <Route path=\"/user/\" component={User} />\n          </Switch>\n        </ContextProvider>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/avtar.1e976c46.png\";"],"sourceRoot":""}